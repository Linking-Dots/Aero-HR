import{r as pt,q as jn,j as I,a as s,F as oe,c as Xr,B as Me,Y as $n,G as Ln}from"./app-DsNLFmGn.js";import{p as ft,q as O,s as gt,w as ht,x as mt,y as ge,T as Ie,r as h,ai as Fe,J as ue,_ as b,ag as qe,L as Qe,f as dt,u as Je,V as Nn,B as le,M as J,S as Le,a4 as Dr,a8 as Tt,b as fe,c as Pe,W as Nt,G as ce,F as Rt,h as St,Q as Wn,X as Wt,Y as zt,o as Vt,aj as zn,j as Vn,k as Hn,l as Cr,m as Ct,n as Bn,O as Un,ak as c,al as er,am as Kn,an as ae,ao as Xn,$ as dr,K as Yr,ap as je,aq as Ye,ar as Et,as as Yn,at as Gr,Z as Gn,e as qn,g as Qn,a as Pr,I as Jn}from"./vendor-D_Qsh6wj.js";import{d as Zn,A as ea}from"./App-1zcAwj2N.js";import{g as ta,X as ra,D as tr,u as qt,w as na,c as wr,d as aa,r as oa,e as kr,P as ia,f as Ze,h as Ht,i as qr,j as Ot,k as Rr,l as sa,n as la,o as ca,p as da,q as ua,s as pa,t as fa,v as Qr,x as ga,y as ha,z as ma,B as ba,C as ya,E as Sr,F as va,G as xa,H as Da,I as Mr,J as Ca,K as Pa,M as Ir,N as rr,O as Jr,Q as Zr,R as wa,L as ur,S as ka,T as Fr,U as en,V as Ra,m as Sa,a as Ma,A as Ia,b as Fa}from"./xlsx-D7Vfhhxd.js";import{d as Ta}from"./Delete-CniahdGX.js";import{d as Ea}from"./dayjs.min-Bk5DZr9d.js";import{d as pr,G as Bt}from"./GlassDialog-DF3tjSLB.js";import{L as fr}from"./LoadingButton-BqVU-fyS.js";import{C as Oa}from"./Clear-B9tINPml.js";const Aa=ft(O.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),_a=ft(O.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description"),ja=ft(O.jsx("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm7 7V3.5L18.5 9z"}),"InsertDriveFile"),$a=ft(O.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf"),nr=ft(O.jsx("path",{d:"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z"}),"Upload");function et(e,t,r,n){function a(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function i(g){try{p(n.next(g))}catch(y){l(y)}}function u(g){try{p(n.throw(g))}catch(y){l(y)}}function p(g){g.done?o(g.value):a(g.value).then(i,u)}p((n=n.apply(e,t||[])).next())})}function tt(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,a,o,l;return l={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function i(p){return function(g){return u([p,g])}}function u(p){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(r=0)),r;)try{if(n=1,a&&(o=p[0]&2?a.return:p[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,p[1])).done)return o;switch(a=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,a=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){r.label=p[1];break}if(p[0]===6&&r.label<o[1]){r.label=o[1],o=p;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(p);break}o[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(g){p=[6,g],a=0}finally{n=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function Tr(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,o=[],l;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)o.push(a.value)}catch(i){l={error:i}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return o}function Er(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,o;n<a;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var gr={},La=gt;Object.defineProperty(gr,"__esModule",{value:!0});var tn=gr.default=void 0,Na=La(pt()),Wa=O;tn=gr.default=(0,Na.default)((0,Wa.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle");var hr={},za=gt;Object.defineProperty(hr,"__esModule",{value:!0});var rn=hr.default=void 0,Va=za(pt()),Ha=O;rn=hr.default=(0,Va.default)((0,Ha.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2M8.5 15H7.3l-2.55-3.5V15H3.5V9h1.25l2.5 3.5V9H8.5zm5-4.74H11v1.12h2.5v1.26H11v1.11h2.5V15h-4V9h4zm7 3.74c0 .55-.45 1-1 1h-4c-.55 0-1-.45-1-1V9h1.25v4.51h1.13V9.99h1.25v3.51h1.12V9h1.25z"}),"FiberNew");var mr={},Ba=gt;Object.defineProperty(mr,"__esModule",{value:!0});var nn=mr.default=void 0,Ua=Ba(pt()),Ka=O;nn=mr.default=(0,Ua.default)((0,Ka.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8"}),"Replay");var br={},Xa=gt;Object.defineProperty(br,"__esModule",{value:!0});var an=br.default=void 0,Ya=Xa(pt()),Ga=O;an=br.default=(0,Ya.default)((0,Ga.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function qa(e){return mt("MuiPickersToolbarText",e)}const Or=ht("MuiPickersToolbarText",["root","selected"]),Qa=["className","selected","value"],Ja=e=>{const{classes:t,selected:r}=e;return Qe({root:["root",r&&"selected"]},qa,t)},Za=ge(Ie,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${Or.selected}`]:t.selected}]})(({theme:e})=>({transition:e.transitions.create("color"),color:(e.vars||e).palette.text.secondary,[`&.${Or.selected}`]:{color:(e.vars||e).palette.text.primary}})),eo=h.forwardRef(function(t,r){const n=Fe({props:t,name:"MuiPickersToolbarText"}),{className:a,value:o}=n,l=ue(n,Qa),i=Ja(n);return O.jsx(Za,b({ref:r,className:qe(a,i.root),component:"span"},l,{children:o}))}),to=["align","className","selected","typographyClassName","value","variant","width"],ro=e=>{const{classes:t}=e;return Qe({root:["root"]},ta,t)},no=ge(dt,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,minWidth:16,textTransform:"none"}),Ar=h.forwardRef(function(t,r){const n=Fe({props:t,name:"MuiPickersToolbarButton"}),{align:a,className:o,selected:l,typographyClassName:i,value:u,variant:p,width:g}=n,y=ue(n,to),m=ro(n);return O.jsx(no,b({variant:"text",ref:r,className:qe(o,m.root)},g?{sx:{width:g}}:{},y,{children:O.jsx(eo,{align:a,className:i,variant:p,value:u,selected:l})}))});var yr={},ao=gt;Object.defineProperty(yr,"__esModule",{value:!0});var on=yr.default=void 0,oo=ao(pt()),io=O;on=yr.default=(0,oo.default)((0,io.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");const so=ge(ra)(({theme:e})=>({"& .rdt_Table":{backgroundColor:"transparent","& .rdt_TableHead":{"& .rdt_TableHeadRow":{backgroundColor:"transparent",color:e.palette.text.primary},top:0,zIndex:1},"& .rdt_TableBody":{overflowY:"auto",maxHeight:"52vh","& .rdt_TableRow":{minHeight:"auto",backgroundColor:"transparent",color:e.palette.text.primary,"& .rdt_TableCol":{backgroundColor:"transparent",borderBottom:`1px solid ${e.palette.divider}`,width:"auto",whiteSpace:"nowrap"}},"& .rdt_TableRow:hover":{backgroundColor:e.palette.action.hover}}}})),lo=({data:e,loading:t,handleClickOpen:r,allInCharges:n,setCurrentPage:a,setPerPage:o,totalRows:l,reports:i,juniors:u,reports_with_daily_works:p,openModal:g,setCurrentRow:y,filteredData:m,setFilteredData:x})=>{const{auth:w}=jn().props,D=Je(),R=w.roles.includes("Administrator"),F=w.roles.includes("Supervision Engineer"),E=[{name:"Date",selector:d=>d.date,sortable:"true",center:"true",width:"100px"},{name:"RFI NO",selector:d=>d.number,sortable:"true",center:"true",width:"140px",cell:d=>I(oe,{children:[d.number,d.reports&&d.reports.map(P=>s("div",{children:I("span",{children:[s("i",{className:"mdi mdi-circle-medium"})," ",P.ref_no]})},P.ref_no))]})},{name:"Status",selector:d=>d.status,sortable:"true",center:"true",width:"220px",cell:d=>I(Le,{variant:"outlined",size:"small",fullWidth:!0,value:d.status,onChange:P=>f(d.id,"status",P.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:D.glassCard.backgroundColor,border:D.glassCard.border,borderRadius:2,boxShadow:D.glassCard.boxShadow}}},children:[s(J,{value:"new",children:I(le,{sx:{display:"flex"},children:[s(rn,{style:{marginRight:8,color:k("new")}})," New"]})}),s(J,{value:"resubmission",children:I(le,{sx:{display:"flex"},children:[s(nn,{style:{marginRight:8,color:k("resubmission")}})," Resubmission"]})}),s(J,{value:"completed",children:I(le,{sx:{display:"flex"},children:[s(tn,{style:{marginRight:8,color:k("completed")}})," Completed"]})}),s(J,{value:"emergency",children:I(le,{sx:{display:"flex"},children:[s(an,{style:{marginRight:8,color:k("emergency")}})," Emergency"]})})]})},...F?[{name:"Assigned",selector:d=>d.assigned,sortable:"true",center:"true",cell:d=>I(Le,{variant:"outlined",fullWidth:!0,size:"small",value:d.assigned||"na",onChange:P=>f(d.id,"assigned",P.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:D.glassCard.backgroundColor,border:D.glassCard.border,borderRadius:2,boxShadow:D.glassCard.boxShadow}}},children:[s(J,{value:"na",disabled:!0,children:"Please select"}),u.map(P=>s(J,{value:P.id,children:I(le,{sx:{display:"flex"},children:[s(Dr,{src:`/assets/images/users/${P.user_name||"user-dummy-img"}.jpg`,alt:P.name||"Not assigned",sx:{borderRadius:"50%",width:23,height:23,display:"flex",mr:1}}),P.name]})},P.id))]})}]:[],{name:"Type",selector:d=>d.type,sortable:"true",center:"true",width:"140px"},{name:"Description",selector:d=>d.description,sortable:"true",left:"true",width:"260px",cell:d=>s(le,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},children:d.description})},{name:"Location",selector:d=>d.location,sortable:"true",center:"true",width:"200px",cell:d=>s(le,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},children:d.location})},{name:"Results",selector:d=>d.inspection_details,sortable:"true",width:"200px",center:"true",cell:d=>{const[P,T]=Tt.useState(!1),[N,H]=Tt.useState(d.inspection_details||"");return s(le,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",cursor:"pointer"},onClick:P?void 0:()=>{T(!0)},children:P?s(fe,{fullWidth:!0,value:N,onChange:K=>{H(K.target.value)},onBlur:()=>{T(!1),f(d.id,"inspection_details",N)},autoFocus:!0,variant:"standard",InputProps:{style:{marginBottom:0,border:"none",outline:"none",backgroundColor:"transparent",textAlign:"center"}}}):s(oe,{children:d.inspection_details||"N/A"})})}},{name:"Road Type",selector:d=>d.side,sortable:"true",center:"true",width:"120px"},{name:"Quantity/Layer No.",selector:d=>d.qty_layer,sortable:"true",center:"true",width:"150px"},...R?[{name:"In charge",selector:d=>d.incharge,sortable:"true",center:"true",cell:d=>I(Le,{variant:"outlined",fullWidth:!0,size:"small",value:d.incharge||"na",onChange:P=>f(d.id,"incharge",P.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:D.glassCard.backgroundColor,border:D.glassCard.border,borderRadius:2,boxShadow:D.glassCard.boxShadow}}},children:[s(J,{value:"na",disabled:!0,children:"Please select"}),n.map(P=>s(J,{value:P.id,children:I(le,{sx:{display:"flex"},children:[s(Dr,{src:P.profile_image,alt:P.name||"Not assigned",sx:{borderRadius:"50%",width:23,height:23,display:"flex",mr:1}}),P.name]})},P.id))]})}]:[],{name:"Planned Time",selector:d=>d.planned_time,sortable:"true",center:"true",width:"130px"},{name:"Completion Time",selector:d=>d.completion_time,sortable:"true",center:"true",width:"250px",cell:d=>s(fe,{fullWidth:!0,size:"small",type:"datetime-local",value:d.completion_time?new Date(d.completion_time).toISOString().slice(0,16):"",onChange:P=>f(d.id,"completion_time",P.target.value),style:{border:"none",outline:"none",backgroundColor:"transparent"},inputProps:{placeholder:"YYYY-MM-DDTHH:MM"}})},{name:"Resubmission Count",selector:d=>d.resubmission_count,sortable:"true",center:"true",width:"160px",cell:d=>s(oe,{children:d.resubmission_count?`${d.resubmission_count} ${d.resubmission_count>1?"times":"time"}`:""})},...R?[{name:"RFI Submission Date",selector:d=>d.rfi_submission_date,sortable:"true",center:"true",width:"180px",cell:d=>s(fe,{fullWidth:!0,size:"small",type:"date",onChange:P=>f(d.id,"rfi_submission_date",P.target.value),value:d.rfi_submission_date?new Date(d.rfi_submission_date).toISOString().slice(0,10):"",style:{border:"none",outline:"none",backgroundColor:"transparent"},inputProps:{placeholder:"yyyy-MM-dd"}})}]:[],...R?[{name:"Actions",center:"true",width:"150px",cell:d=>I(le,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s(Pe,{sx:{m:1},variant:"outlined",color:"success",size:"small",onClick:()=>{y(d),g("editDailyWork")},children:s(Zn,{})}),s(Pe,{sx:{m:1},variant:"outlined",color:"error",size:"small",onClick:()=>r(d.id,"deleteDailyWork"),children:s(Ta,{})})]})}]:[]],k=d=>{switch(d){case"new":return"blue";case"resubmission":return"orange";case"completed":return"green";case"emergency":return"red";default:return""}},f=async(d,P,T)=>{var N,H;try{const z=await Xr.post(route("dailyWorks.update"),{id:d,[P]:T});z.status===200?(setDailyWorks(X=>X.map(j=>j.id===d?{...j,[P]:T}:j)),x(X=>X.map(j=>j.id===d?{...j,[P]:T}:j)),Me.success(...z.data.messages||"Task updated successfully",{icon:"游릭",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:D.glassCard.backgroundColor,border:D.glassCard.border,color:D.palette.text.primary}})):Me.error(z.data.error||`Failed to update task ${[P]}.`,{icon:"游댮",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:D.glassCard.backgroundColor,border:D.glassCard.border,color:D.palette.text.primary}})}catch(z){Me.error(((H=(N=z.response)==null?void 0:N.data)==null?void 0:H.message)||"An unexpected error occurred.",{icon:"游댮",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:D.glassCard.backgroundColor,border:D.glassCard.border,color:D.palette.text.primary}})}},S=d=>{a(d)},C=d=>{o(d),a(1)};return I(oe,{children:[s(Nn,{styles:{"& .cgTKyH":{backgroundColor:"transparent !important",color:D.palette.text.primary}}}),s(so,{columns:E,data:e,progressPending:t,pagination:!0,paginationServer:!0,paginationTotalRows:l,onChangePage:S,onChangeRowsPerPage:C,defaultSortField:"date",highlightOnHover:!0,responsive:!0,dense:!0})]})},co=({open:e,closeModal:t,currentRow:r,setDailyWorks:n})=>{const a=Je(),[o,l]=h.useState({id:r.id||"",date:r.date||"",number:r.number||"",planned_time:r.planned_time||"",type:r.type||"Structure",location:r.location||"",description:r.description||"",side:r.side||"SR-R",qty_layer:r.qty_layer||""}),[i,u]=h.useState({}),[p,g]=h.useState(!1),[y,m]=h.useState(!1);h.useEffect(()=>{const D=Object.values(o).some(R=>R!=="");m(D)},[o]);const x=D=>{const{name:R,value:F}=D.target;l(E=>({...E,[R]:F}))};async function w(D){D.preventDefault(),g(!0);const R=new Promise(async(F,E)=>{try{const k=await fetch(route("dailyWorks.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"details",...o})}),f=await k.json();k.ok?(n(S=>S.map(C=>C.id===o.id?{...C,...o}:C)),t(),F(f.message?[f.message]:f.messages),g(!1),t(),console.log(f.message?[f.message]:f.messages)):(g(!1),u(f.errors),E(f.errors),console.error(f.errors))}catch(k){g(!1),t(),console.log(k),E(["An unexpected error occurred."])}});Me.promise(R,{pending:{render(){return I("div",{style:{display:"flex",alignItems:"center"},children:[s(Vt,{}),s("span",{style:{marginLeft:"8px"},children:"Updating daily work ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},success:{render({data:F}){return s(oe,{children:F.map((E,k)=>s("div",{children:E},k))})},icon:"游릭",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},error:{render({data:F}){return s(oe,{children:F.map((E,k)=>s("div",{children:E},k))})},icon:"游댮",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}}})}return I(Bt,{open:e,onClose:t,children:[I(Nt,{style:{cursor:"move"},id:"draggable-dialog-title",children:[s(Ie,{children:"Add Task"}),s(Pe,{variant:"outlined",color:"primary",onClick:t,sx:{position:"absolute",top:8,right:16},children:s(pr,{})})]}),I("form",{onSubmit:w,children:[s(Wt,{children:I(ce,{container:!0,spacing:2,children:[s(ce,{item:!0,xs:12,md:6,children:s(fe,{label:"RFI Date",type:"date",name:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:o.date,onChange:x,error:!!i.date,helperText:i.date})}),s(ce,{item:!0,xs:12,md:6,children:s(fe,{label:"RFI Number",name:"number",fullWidth:!0,value:o.number,onChange:x,error:!!i.number,helperText:i.number})}),s(ce,{item:!0,xs:12,md:6,children:s(fe,{label:"Planned Time",name:"planned_time",fullWidth:!0,InputLabelProps:{shrink:!0},value:o.planned_time,onChange:x,error:!!i.planned_time,helperText:i.planned_time})}),s(ce,{item:!0,xs:12,md:6,children:I(Rt,{fullWidth:!0,children:[s(St,{id:"type-label",children:"Type"}),I(Le,{select:!0,label:"Type",name:"type",fullWidth:!0,value:o.type,onChange:x,error:!!i.type,helperText:i.type,labelId:"type-label",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[s(J,{value:"Structure",children:"Structure"}),s(J,{value:"Embankment",children:"Embankment"}),s(J,{value:"Pavement",children:"Pavement"})]}),s(Wn,{children:i.type})]})}),s(ce,{item:!0,xs:12,md:6,children:s(fe,{label:"Location",name:"location",fullWidth:!0,value:o.location,onChange:x,error:!!i.location,helperText:i.location})}),s(ce,{item:!0,xs:12,md:6,children:s(fe,{label:"Description",name:"description",fullWidth:!0,value:o.description,onChange:x,error:!!i.description,helperText:i.description})}),s(ce,{item:!0,xs:12,md:6,children:I(fe,{select:!0,label:"Road Type",name:"side",fullWidth:!0,value:o.side,onChange:x,error:!!i.side,helperText:i.side,children:[s(J,{value:"SR-R",children:"SR-R"}),s(J,{value:"SR-L",children:"SR-L"}),s(J,{value:"TR-R",children:"TR-R"}),s(J,{value:"TR-L",children:"TR-L"})]})}),s(ce,{item:!0,xs:12,md:6,children:s(fe,{label:"Quantity/Layer No.",name:"qty_layer",fullWidth:!0,value:o.qty_layer,onChange:x,error:!!i.qty_layer,helperText:i.qty_layer})})]})}),s(zt,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"16px"},children:s(fr,{disabled:!y,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:p,children:"Submit"})})]})]})},uo=({open:e,handleClose:t,taskIdToDelete:r,setDailyWorks:n,setFilteredData:a})=>{const o=Je();return I(Bt,{open:e,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[s(Nt,{id:"alert-dialog-title",children:"Confirm Deletion"}),s(Wt,{children:s(zn,{id:"alert-dialog-description",children:"Are you sure you want to delete this task? This action cannot be undone."})}),I(zt,{children:[s(dt,{onClick:t,color:"primary",children:"Cancel"}),s(dt,{onClick:()=>{const i=new Promise(async(u,p)=>{try{const g=await fetch("/delete-daily-work",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:r})}),y=await g.json();g.ok?(n(m=>m.filter(x=>x.id!==r)),a(m=>m.filter(x=>x.id!==r)),u("Task deleted successfully")):p(y.error||"Failed to delete task")}catch(g){console.error("Error deleting task:",g),p("An error occurred while deleting the task")}finally{t()}});Me.promise(i,{pending:{render(){return I("div",{style:{display:"flex",alignItems:"center"},children:[s(Vt,{}),s("span",{style:{marginLeft:"8px"},children:"Deleting task..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:o.glassCard.backgroundColor,border:o.glassCard.border,color:o.palette.text.primary}},success:{render({data:u}){return s(oe,{children:u})},icon:"游릭",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:o.glassCard.backgroundColor,border:o.glassCard.border,color:o.palette.text.primary}},error:{render({data:u}){return s(oe,{children:u})},icon:"游댮",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:o.glassCard.backgroundColor,border:o.glassCard.border,color:o.palette.text.primary}}})},color:"error",autoFocus:!0,children:"Delete"})]})]})},po=({open:e,closeModal:t,filteredData:r,users:n})=>{h.useState(!1);const a=Je(),o=[{label:"Date",key:"date"},{label:"RFI No.",key:"number"},{label:"Status",key:"status"},{label:"Assigned",key:"assigned"},{label:"In charge",key:"incharge"},{label:"Type",key:"type"},{label:"Description",key:"description"},{label:"Location",key:"location"},{label:"Side",key:"side"},{label:"Quantity/Layer",key:"qty_layer"},{label:"Planned Time",key:"planned_time"},{label:"Completion Time",key:"completion_time"},{label:"Results",key:"inspection_details"},{label:"Resubmission Count",key:"resubmission_count"},{label:"RFI Submission Date",key:"rfi_submission_date"}],[l,i]=h.useState(o.map(g=>({...g,checked:!0}))),u=g=>{const y=[...l];y[g].checked=!y[g].checked,i(y)},p=async g=>{const y=new Promise((m,x)=>{try{const w=r.map(F=>{const E={};return g.forEach(k=>{if(k.checked)if(k.key==="incharge"||k.key==="assigned"){const f=n.find(S=>S.id===F[k.key]);E[k.label]=f?f.name:"N/A"}else if(k.key==="status"){const f=F[k.key];E[k.label]=f.charAt(0).toUpperCase()+f.slice(1)}else E[k.label]=F[k.key]}),E}),D=qt.json_to_sheet(w),R=qt.book_new();qt.book_append_sheet(R,D,"Daily Works"),na(R,"DailyWorks.xlsx"),m("Export successful!"),t()}catch(w){x("Failed to export data. Please try again."),console.error("Error exporting data to Excel:",w)}});Me.promise(y,{pending:{render(){return I("div",{style:{display:"flex",alignItems:"center"},children:[s(Vt,{}),s("span",{style:{marginLeft:"8px"},children:"Exporting data to Excel ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},success:{render({data:m}){return s(oe,{children:m})},icon:"游릭",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},error:{render({data:m}){return s(oe,{children:m})},icon:"游댮",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}}})};return I(Bt,{open:e,onClose:t,children:[I(Nt,{style:{cursor:"move"},id:"draggable-dialog-title",children:[s(Ie,{children:"Export Daily Works"}),s(Pe,{variant:"outlined",color:"primary",onClick:t,sx:{position:"absolute",top:8,right:16},children:s(pr,{})})]}),s(Wt,{children:I(Vn,{size:"small",sx:{"& .MuiTableCell-root":{padding:"4px 8px"},"& .MuiCheckbox-root":{padding:"0px"}},children:[s(Hn,{children:I(Cr,{children:[s(Ct,{children:"Column Label"}),s(Ct,{align:"center",children:"Include in Export"})]})}),s(Bn,{children:l.map((g,y)=>I(Cr,{children:[s(Ct,{children:g.label}),s(Ct,{align:"center",children:s(Un,{checked:g.checked,onChange:()=>u(y)})})]},g.key))})]})}),s(zt,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:s(fr,{sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",onClick:()=>p(l),startIcon:s(tr,{}),children:"Download"})})]})};var fo=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function bt(e,t){var r=go(e);if(typeof r.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(r,"path",{value:typeof t=="string"?t:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return r}function go(e){var t=e.name,r=t&&t.lastIndexOf(".")!==-1;if(r&&!e.type){var n=t.split(".").pop().toLowerCase(),a=fo.get(n);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}var ho=[".DS_Store","Thumbs.db"];function mo(e){return et(this,void 0,void 0,function(){return tt(this,function(t){return At(e)&&bo(e.dataTransfer)?[2,Do(e.dataTransfer,e.type)]:yo(e)?[2,vo(e)]:Array.isArray(e)&&e.every(function(r){return"getFile"in r&&typeof r.getFile=="function"})?[2,xo(e)]:[2,[]]})})}function bo(e){return At(e)}function yo(e){return At(e)&&At(e.target)}function At(e){return typeof e=="object"&&e!==null}function vo(e){return ar(e.target.files).map(function(t){return bt(t)})}function xo(e){return et(this,void 0,void 0,function(){var t;return tt(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return t=r.sent(),[2,t.map(function(n){return bt(n)})]}})})}function Do(e,t){return et(this,void 0,void 0,function(){var r,n;return tt(this,function(a){switch(a.label){case 0:return e.items?(r=ar(e.items).filter(function(o){return o.kind==="file"}),t!=="drop"?[2,r]:[4,Promise.all(r.map(Co))]):[3,2];case 1:return n=a.sent(),[2,_r(sn(n))];case 2:return[2,_r(ar(e.files).map(function(o){return bt(o)}))]}})})}function _r(e){return e.filter(function(t){return ho.indexOf(t.name)===-1})}function ar(e){if(e===null)return[];for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n)}return t}function Co(e){if(typeof e.webkitGetAsEntry!="function")return jr(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?ln(t):jr(e)}function sn(e){return e.reduce(function(t,r){return Er(Er([],Tr(t),!1),Tr(Array.isArray(r)?sn(r):[r]),!1)},[])}function jr(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var r=bt(t);return Promise.resolve(r)}function Po(e){return et(this,void 0,void 0,function(){return tt(this,function(t){return[2,e.isDirectory?ln(e):wo(e)]})})}function ln(e){var t=e.createReader();return new Promise(function(r,n){var a=[];function o(){var l=this;t.readEntries(function(i){return et(l,void 0,void 0,function(){var u,p,g;return tt(this,function(y){switch(y.label){case 0:if(i.length)return[3,5];y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all(a)];case 2:return u=y.sent(),r(u),[3,4];case 3:return p=y.sent(),n(p),[3,4];case 4:return[3,6];case 5:g=Promise.all(i.map(Po)),a.push(g),o(),y.label=6;case 6:return[2]}})})},function(i){n(i)})}o()})}function wo(e){return et(this,void 0,void 0,function(){return tt(this,function(t){return[2,new Promise(function(r,n){e.file(function(a){var o=bt(a,e.fullPath);r(o)},function(a){n(a)})})]})})}var ko=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),n=e.name||"",a=(e.type||"").toLowerCase(),o=a.replace(/\/.*$/,"");return r.some(function(l){var i=l.trim().toLowerCase();return i.charAt(0)==="."?n.toLowerCase().endsWith(i):i.endsWith("/*")?o===i.replace(/\/.*$/,""):a===i})}return!0};function $r(e){return Mo(e)||So(e)||dn(e)||Ro()}function Ro(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function So(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mo(e){if(Array.isArray(e))return or(e)}function Lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lr(Object(r),!0).forEach(function(n){cn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ut(e,t){return To(e)||Fo(e,t)||dn(e,t)||Io()}function Io(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dn(e,t){if(e){if(typeof e=="string")return or(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return or(e,t)}}function or(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fo(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,l,i;try{for(r=r.call(e);!(a=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));a=!0);}catch(u){o=!0,i=u}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw i}}return n}}function To(e){if(Array.isArray(e))return e}var Eo="file-invalid-type",Oo="file-too-large",Ao="file-too-small",_o="too-many-files",jo=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var r=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:Eo,message:"File type must be ".concat(r)}},Wr=function(t){return{code:Oo,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},zr=function(t){return{code:Ao,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},$o={code:_o,message:"Too many files"};function un(e,t){var r=e.type==="application/x-moz-file"||ko(e,t);return[r,r?null:jo(t)]}function pn(e,t,r){if(_e(e.size))if(_e(t)&&_e(r)){if(e.size>r)return[!1,Wr(r)];if(e.size<t)return[!1,zr(t)]}else{if(_e(t)&&e.size<t)return[!1,zr(t)];if(_e(r)&&e.size>r)return[!1,Wr(r)]}return[!0,null]}function _e(e){return e!=null}function Lo(e){var t=e.files,r=e.accept,n=e.minSize,a=e.maxSize,o=e.multiple,l=e.maxFiles,i=e.validator;return!o&&t.length>1||o&&l>=1&&t.length>l?!1:t.every(function(u){var p=un(u,r),g=ut(p,1),y=g[0],m=pn(u,n,a),x=ut(m,1),w=x[0],D=i?i(u):null;return y&&w&&!D})}function _t(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Pt(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Vr(e){e.preventDefault()}function No(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Wo(e){return e.indexOf("Edge/")!==-1}function zo(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return No(e)||Wo(e)}function Ce(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return t.some(function(i){return!_t(n)&&i&&i.apply(void 0,[n].concat(o)),_t(n)})}}function Vo(){return"showOpenFilePicker"in window}function Ho(e){if(_e(e)){var t=Object.entries(e).filter(function(r){var n=ut(r,2),a=n[0],o=n[1],l=!0;return fn(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(o)||!o.every(gn))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(r,n){var a=ut(n,2),o=a[0],l=a[1];return Nr(Nr({},r),{},cn({},o,l))},{});return[{description:"Files",accept:t}]}return e}function Bo(e){if(_e(e))return Object.entries(e).reduce(function(t,r){var n=ut(r,2),a=n[0],o=n[1];return[].concat($r(t),[a],$r(o))},[]).filter(function(t){return fn(t)||gn(t)}).join(",")}function Uo(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Ko(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function fn(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function gn(e){return/^.*\.[\w]+$/.test(e)}var Xo=["children"],Yo=["open"],Go=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],qo=["refKey","onChange","onClick"];function Qo(e){return ei(e)||Zo(e)||hn(e)||Jo()}function Jo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zo(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ei(e){if(Array.isArray(e))return ir(e)}function Qt(e,t){return ni(e)||ri(e,t)||hn(e,t)||ti()}function ti(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hn(e,t){if(e){if(typeof e=="string")return ir(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ir(e,t)}}function ir(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ri(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,o=!1,l,i;try{for(r=r.call(e);!(a=(l=r.next()).done)&&(n.push(l.value),!(t&&n.length===t));a=!0);}catch(u){o=!0,i=u}finally{try{!a&&r.return!=null&&r.return()}finally{if(o)throw i}}return n}}function ni(e){if(Array.isArray(e))return e}function Hr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Q(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hr(Object(r),!0).forEach(function(n){sr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hr(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jt(e,t){if(e==null)return{};var r=ai(e,t),n,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ai(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,o;for(o=0;o<n.length;o++)a=n[o],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}var vr=h.forwardRef(function(e,t){var r=e.children,n=jt(e,Xo),a=bn(n),o=a.open,l=jt(a,Yo);return h.useImperativeHandle(t,function(){return{open:o}},[o]),Tt.createElement(h.Fragment,null,r(Q(Q({},l),{},{open:o})))});vr.displayName="Dropzone";var mn={disabled:!1,getFilesFromEvent:mo,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};vr.defaultProps=mn;vr.propTypes={children:c.func,accept:c.objectOf(c.arrayOf(c.string)),multiple:c.bool,preventDropOnDocument:c.bool,noClick:c.bool,noKeyboard:c.bool,noDrag:c.bool,noDragEventsBubbling:c.bool,minSize:c.number,maxSize:c.number,maxFiles:c.number,disabled:c.bool,getFilesFromEvent:c.func,onFileDialogCancel:c.func,onFileDialogOpen:c.func,useFsAccessApi:c.bool,autoFocus:c.bool,onDragEnter:c.func,onDragLeave:c.func,onDragOver:c.func,onDrop:c.func,onDropAccepted:c.func,onDropRejected:c.func,onError:c.func,validator:c.func};var lr={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function bn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Q(Q({},mn),e),r=t.accept,n=t.disabled,a=t.getFilesFromEvent,o=t.maxSize,l=t.minSize,i=t.multiple,u=t.maxFiles,p=t.onDragEnter,g=t.onDragLeave,y=t.onDragOver,m=t.onDrop,x=t.onDropAccepted,w=t.onDropRejected,D=t.onFileDialogCancel,R=t.onFileDialogOpen,F=t.useFsAccessApi,E=t.autoFocus,k=t.preventDropOnDocument,f=t.noClick,S=t.noKeyboard,C=t.noDrag,d=t.noDragEventsBubbling,P=t.onError,T=t.validator,N=h.useMemo(function(){return Bo(r)},[r]),H=h.useMemo(function(){return Ho(r)},[r]),z=h.useMemo(function(){return typeof R=="function"?R:Br},[R]),X=h.useMemo(function(){return typeof D=="function"?D:Br},[D]),j=h.useRef(null),K=h.useRef(null),$=h.useReducer(oi,lr),W=Qt($,2),U=W[0],B=W[1],se=U.isFocused,he=U.isFileDialogActive,L=h.useRef(typeof window<"u"&&window.isSecureContext&&F&&Vo()),re=function(){!L.current&&he&&setTimeout(function(){if(K.current){var M=K.current.files;M.length||(B({type:"closeDialog"}),X())}},300)};h.useEffect(function(){return window.addEventListener("focus",re,!1),function(){window.removeEventListener("focus",re,!1)}},[K,he,X,L]);var Z=h.useRef([]),be=function(M){j.current&&j.current.contains(M.target)||(M.preventDefault(),Z.current=[])};h.useEffect(function(){return k&&(document.addEventListener("dragover",Vr,!1),document.addEventListener("drop",be,!1)),function(){k&&(document.removeEventListener("dragover",Vr),document.removeEventListener("drop",be))}},[j,k]),h.useEffect(function(){return!n&&E&&j.current&&j.current.focus(),function(){}},[j,E,n]);var te=h.useCallback(function(v){P?P(v):console.error(v)},[P]),V=h.useCallback(function(v){v.preventDefault(),v.persist(),Ee(v),Z.current=[].concat(Qo(Z.current),[v.target]),Pt(v)&&Promise.resolve(a(v)).then(function(M){if(!(_t(v)&&!d)){var ee=M.length,ne=ee>0&&Lo({files:M,accept:N,minSize:l,maxSize:o,multiple:i,maxFiles:u,validator:T}),ie=ee>0&&!ne;B({isDragAccept:ne,isDragReject:ie,isDragActive:!0,type:"setDraggedFiles"}),p&&p(v)}}).catch(function(M){return te(M)})},[a,p,te,d,N,l,o,i,u,T]),Te=h.useCallback(function(v){v.preventDefault(),v.persist(),Ee(v);var M=Pt(v);if(M&&v.dataTransfer)try{v.dataTransfer.dropEffect="copy"}catch{}return M&&y&&y(v),!1},[y,d]),ye=h.useCallback(function(v){v.preventDefault(),v.persist(),Ee(v);var M=Z.current.filter(function(ne){return j.current&&j.current.contains(ne)}),ee=M.indexOf(v.target);ee!==-1&&M.splice(ee,1),Z.current=M,!(M.length>0)&&(B({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Pt(v)&&g&&g(v))},[j,g,d]),Ne=h.useCallback(function(v,M){var ee=[],ne=[];v.forEach(function(ie){var ve=un(ie,N),we=Qt(ve,2),xe=we[0],ot=we[1],it=pn(ie,l,o),He=Qt(it,2),st=He[0],Be=He[1],lt=T?T(ie):null;if(xe&&st&&!lt)ee.push(ie);else{var Oe=[ot,Be];lt&&(Oe=Oe.concat(lt)),ne.push({file:ie,errors:Oe.filter(function(Xt){return Xt})})}}),(!i&&ee.length>1||i&&u>=1&&ee.length>u)&&(ee.forEach(function(ie){ne.push({file:ie,errors:[$o]})}),ee.splice(0)),B({acceptedFiles:ee,fileRejections:ne,type:"setFiles"}),m&&m(ee,ne,M),ne.length>0&&w&&w(ne,M),ee.length>0&&x&&x(ee,M)},[B,i,N,l,o,u,m,x,w,T]),We=h.useCallback(function(v){v.preventDefault(),v.persist(),Ee(v),Z.current=[],Pt(v)&&Promise.resolve(a(v)).then(function(M){_t(v)&&!d||Ne(M,v)}).catch(function(M){return te(M)}),B({type:"reset"})},[a,Ne,te,d]),A=h.useCallback(function(){if(L.current){B({type:"openDialog"}),z();var v={multiple:i,types:H};window.showOpenFilePicker(v).then(function(M){return a(M)}).then(function(M){Ne(M,null),B({type:"closeDialog"})}).catch(function(M){Uo(M)?(X(M),B({type:"closeDialog"})):Ko(M)?(L.current=!1,K.current?(K.current.value=null,K.current.click()):te(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):te(M)});return}K.current&&(B({type:"openDialog"}),z(),K.current.value=null,K.current.click())},[B,z,X,F,Ne,te,H,i]),nt=h.useCallback(function(v){!j.current||!j.current.isEqualNode(v.target)||(v.key===" "||v.key==="Enter"||v.keyCode===32||v.keyCode===13)&&(v.preventDefault(),A())},[j,A]),vt=h.useCallback(function(){B({type:"focus"})},[]),de=h.useCallback(function(){B({type:"blur"})},[]),at=h.useCallback(function(){f||(zo()?setTimeout(A,0):A())},[f,A]),ke=function(M){return n?null:M},ze=function(M){return S?null:ke(M)},Ve=function(M){return C?null:ke(M)},Ee=function(M){d&&M.stopPropagation()},pe=h.useMemo(function(){return function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=v.refKey,ee=M===void 0?"ref":M,ne=v.role,ie=v.onKeyDown,ve=v.onFocus,we=v.onBlur,xe=v.onClick,ot=v.onDragEnter,it=v.onDragOver,He=v.onDragLeave,st=v.onDrop,Be=jt(v,Go);return Q(Q(sr({onKeyDown:ze(Ce(ie,nt)),onFocus:ze(Ce(ve,vt)),onBlur:ze(Ce(we,de)),onClick:ke(Ce(xe,at)),onDragEnter:Ve(Ce(ot,V)),onDragOver:Ve(Ce(it,Te)),onDragLeave:Ve(Ce(He,ye)),onDrop:Ve(Ce(st,We)),role:typeof ne=="string"&&ne!==""?ne:"presentation"},ee,j),!n&&!S?{tabIndex:0}:{}),Be)}},[j,nt,vt,de,at,V,Te,ye,We,S,C,n]),xt=h.useCallback(function(v){v.stopPropagation()},[]),Re=h.useMemo(function(){return function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=v.refKey,ee=M===void 0?"ref":M,ne=v.onChange,ie=v.onClick,ve=jt(v,qo),we=sr({accept:N,multiple:i,type:"file",style:{display:"none"},onChange:ke(Ce(ne,We)),onClick:ke(Ce(ie,xt)),tabIndex:-1},ee,K);return Q(Q({},we),ve)}},[K,r,i,We,n]);return Q(Q({},U),{},{isFocused:se&&!n,getRootProps:pe,getInputProps:Re,rootRef:j,inputRef:K,open:ke(A)})}function oi(e,t){switch(t.type){case"focus":return Q(Q({},e),{},{isFocused:!0});case"blur":return Q(Q({},e),{},{isFocused:!1});case"openDialog":return Q(Q({},lr),{},{isFileDialogActive:!0});case"closeDialog":return Q(Q({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Q(Q({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Q(Q({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return Q({},lr);default:return e}}function Br(){}const ii=({open:e,closeModal:t,setFilteredData:r,setDailyWorks:n})=>{const[a,o]=h.useState(null),[l,i]=h.useState(!1),u=Je(),p=R=>{o(R[0])},g=()=>{o(null)},{getRootProps:y,getInputProps:m,isDragActive:x}=bn({onDrop:p,noClick:!!a,noKeyboard:!!a}),w=R=>{if(!R)return s(Aa,{fontSize:"large"});const F=R.type;return F.startsWith("image/")?s(Image,{fontSize:"large"}):F==="application/pdf"?s($a,{fontSize:"large"}):F==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"?s(_a,{fontSize:"large"}):s(ja,{fontSize:"large"})};return I(Bt,{open:e,onClose:t,children:[I(Nt,{style:{cursor:"move"},id:"draggable-dialog-title",children:[s(Ie,{children:"Import Daily Works"}),s(Pe,{variant:"outlined",color:"primary",onClick:t,sx:{position:"absolute",top:8,right:16,zIndex:0},children:s(pr,{})})]}),I("form",{onSubmit:async R=>{R.preventDefault(),i(!0);const F=new FormData;F.append("file",a);const E=new Promise(async(k,f)=>{try{const S=await fetch(route("dailyWorks.import"),{method:"POST",body:F,headers:{"X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content}}),C=await S.json();S.ok?(r(C.updatedDailyWorks.dailyWorks),n(C.updatedDailyWorks.dailyWorks),k(C.message),t()):(console.error(C.errors||C.error),f("Failed to import data."))}catch(S){f(`Error: ${S.message||"An unexpected error occurred."}`)}finally{i(!1)}});Me.promise(E,{pending:{render(){return I("div",{style:{display:"flex",alignItems:"center"},children:[s(Vt,{}),s("span",{style:{marginLeft:"8px"},children:"Uploading file ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}},success:{render({data:k}){return s(oe,{children:k})},icon:"游릭",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}},error:{render({data:k}){return s(oe,{children:k})},icon:"游댮",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:u.glassCard.backgroundColor,border:u.glassCard.border,color:u.palette.text.primary}}})},children:[s(Wt,{children:s(ce,{container:!0,spacing:2,children:s(ce,{item:!0,xs:12,children:I(le,{...y(),sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"2px dashed #ccc",borderRadius:"8px",padding:"20px",cursor:a?"not-allowed":"pointer","&:hover":{borderColor:a?"#ccc":"#aaa"}},children:[s("input",{...m()}),s(Pe,{sx:{borderRadius:"50%",backgroundColor:"#f0f0f0","&:hover":{backgroundColor:a?"#f0f0f0":"#e0e0e0",cursor:a?"not-allowed":"pointer"}},disabled:!!a,children:w(a)}),a?I(oe,{children:[I(Ie,{variant:"body1",sx:{marginTop:"10px"},children:[a.name," (",(a.size/1024).toFixed(2)," KB)"]}),s(Pe,{onClick:g,sx:{marginTop:"10px",backgroundColor:"#f0f0f0","&:hover":{backgroundColor:"#e0e0e0"}},children:s(Oa,{})})]}):s(Ie,{variant:"body1",sx:{marginTop:"10px"},children:"Drag & drop files here, or click to select files"})]})})})}),s(zt,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:s(fr,{disabled:!a,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:l,startIcon:s(nr,{}),children:"Upload"})})]})]})},si=["value","referenceDate"],Ge={emptyValue:[null,null],getTodayValue:(e,t,r)=>[wr(e,t,r),wr(e,t,r)],getInitialReferenceValue:e=>{let{value:t,referenceDate:r}=e,n=ue(e,si);const a=t[0]!=null&&n.utils.isValid(t[0]),o=t[1]!=null&&n.utils.isValid(t[1]);if(a&&o)return t;const l=r??aa(n);return[a?t[0]:l,o?t[1]:l]},cleanValue:(e,t)=>t.map(r=>oa(e,r)),areValuesEqual:(e,t,r)=>kr(e,t[0],r[0])&&kr(e,t[1],r[1]),isSameError:(e,t)=>t!==null&&e[1]===t[1]&&e[0]===t[0],hasError:e=>e[0]!=null||e[1]!=null,defaultErrorState:[null,null],getTimezone:(e,t)=>{const r=t[0]==null||!e.isValid(t[0])?null:e.getTimezone(t[0]),n=t[1]==null||!e.isValid(t[1])?null:e.getTimezone(t[1]);if(r!=null&&n!=null&&r!==n)throw new Error("MUI X: The timezone of the start and the end date should be the same.");return r??n},setTimezone:(e,t,r)=>[r[0]==null?null:e.setTimezone(r[0],t),r[1]==null?null:e.setTimezone(r[1],t)]};function li(e){return mt("MuiDateRangePickerToolbar",e)}ht("MuiDateRangePickerToolbar",["root","container"]);const ci=["value","rangePosition","onRangePositionChange","toolbarFormat","className","onViewChange","view","views"],di=e=>{const{classes:t}=e;return Qe({root:["root"],container:["container"]},li,t)},ui=ge(ia,{name:"MuiDateRangePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),pi=ge("div",{name:"MuiDateRangePickerToolbar",slot:"Container",overridesResolver:(e,t)=>t.container})({display:"flex"}),fi=h.forwardRef(function(t,r){const n=Ze(),a=Fe({props:t,name:"MuiDateRangePickerToolbar"}),{value:[o,l],rangePosition:i,onRangePositionChange:u,toolbarFormat:p,className:g}=a,y=ue(a,ci),m=Ht(),x=o?n.formatByString(o,p||n.formats.shortDate):m.start,w=l?n.formatByString(l,p||n.formats.shortDate):m.end,D=a,R=di(D);return O.jsx(ui,b({},y,{toolbarTitle:m.dateRangePickerToolbarTitle,isLandscape:!1,className:qe(g,R.root),ownerState:D,ref:r,children:O.jsxs(pi,{className:R.container,children:[O.jsx(Ar,{variant:o!==null?"h5":"h6",value:x,selected:i==="start",onClick:()=>u("start")}),O.jsxs(Ie,{variant:"h5",children:["","",""]}),O.jsx(Ar,{variant:l!==null?"h5":"h6",value:w,selected:i==="end",onClick:()=>u("end")})]})}))});function yn(e,t){const r=Ze(),n=qr(),a=Fe({props:e,name:t}),o=h.useMemo(()=>{var l;return((l=a.localeText)==null?void 0:l.toolbarTitle)==null?a.localeText:b({},a.localeText,{dateRangePickerToolbarTitle:a.localeText.toolbarTitle})},[a.localeText]);return b({},a,{localeText:o,disableFuture:a.disableFuture??!1,disablePast:a.disablePast??!1,minDate:Ot(r,a.minDate,n.minDate),maxDate:Ot(r,a.maxDate,n.maxDate),slots:b({toolbar:fi},a.slots)})}const vn=[];let $e=0;for(;$e<64;)vn[$e]=0|Math.sin(++$e%Math.PI)*4294967296;function gi(e){const t=[];let r,n,a,o=unescape(encodeURI(e))+"",l=o.length;const i=[r=1732584193,n=4023233417,~r,~n];for(e=--l/4+2|15,t[--e]=l*8;~l;)t[l>>2]|=o.charCodeAt(l)<<8*l--;for($e=o=0;$e<e;$e+=16){for(l=i;o<64;l=[a=l[3],r+((a=l[0]+[r&n|~r&a,a&r|~a&n,r^n^a,n^(r|~a)][l=o>>4]+vn[o]+~~t[$e|[o,5*o+1,3*o+5,7*o][l]&15])<<(l=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*l+o++%4])|a>>>-l),r,n])r=l[1]|0,n=l[2];for(o=4;o;)i[--o]+=l[o]}for(e="";o<32;)e+=(i[o>>3]>>(1^o++)*4&15).toString(16);return e}const wt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",xn=e=>{let t="",r,n,a,o,l,i,u,p=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");p<e.length;)o=wt.indexOf(e.charAt(p++)),l=wt.indexOf(e.charAt(p++)),i=wt.indexOf(e.charAt(p++)),u=wt.indexOf(e.charAt(p++)),r=o<<2|l>>4,n=(l&15)<<4|i>>2,a=(i&3)<<6|u,t=t+String.fromCharCode(r),i!=64&&(t=t+String.fromCharCode(n)),u!=64&&(t=t+String.fromCharCode(a));return t},hi=["pro","premium"],mi=["perpetual","annual","subscription"];function rt(e){console.error(["*************************************************************","",...e,"","*************************************************************"].join(`
`))}function bi(){rt(["MUI X: Invalid license key.","","Your MUI X license key format isn't valid. It could be because the license key is missing a character or has a typo.","","To solve the issue, you need to double check that `setLicenseKey()` is called with the right argument","Please check the license key installation https://mui.com/r/x-license-key-installation."])}function yi(){rt(["MUI X: License key plan mismatch.","","Your use of MUI X is not compatible with the plan of your license key. The feature you are trying to use is not included in the plan of your license key. This happens if you try to use `DataGridPremium` with a license key for the Pro plan.","","To solve the issue, you can upgrade your plan from Pro to Premium at https://mui.com/r/x-get-license?scope=premium.","Of if you didn't intend to use Premium features, you can replace the import of `@mui/x-data-grid-premium` with `@mui/x-data-grid-pro`."])}function vi(){rt(["MUI X: Component not included in your license.","","The component you are trying to use is not included in the Pro Plan you purchased.","","Your license is from an old version of the Pro Plan that is only compatible with the `@mui/x-data-grid-pro` and `@mui/x-date-pickers-pro` commercial packages.","","To start using another Pro package, please consider reaching to our sales team to upgrade your license or visit https://mui.com/r/x-get-license to get a new license key."])}function xi({plan:e,packageName:t}){rt(["MUI X: Missing license key.","",`The license key is missing. You might not be allowed to use \`${t}\` which is part of MUI X ${e}.`,"","To solve the issue, you can check the free trial conditions: https://mui.com/r/x-license-trial.","If you are eligible no actions are required. If you are not eligible to the free trial, you need to purchase a license https://mui.com/r/x-get-license or stop using the software immediately."])}function Di({packageName:e}){rt(["MUI X: Expired package version.","",`You have installed a version of \`${e}\` that is outside of the maintenance plan of your license key. By default, commercial licenses provide access to new versions released during the first year after the purchase.`,"","To solve the issue, you can renew your license https://mui.com/r/x-get-license or install an older version of the npm package that is compatible with your license key."])}function Ci({plan:e,licenseKey:t,expiryTimestamp:r}){rt(["MUI X: Expired license key.","",`Your annual license key to use MUI X ${e} in non-production environments has expired. If you are seeing this development console message, you might be close to breach the license terms by making direct or indirect changes to the frontend of an app that render a MUI X ${e} component (more details in https://mui.com/r/x-license-annual).`,"","To solve the problem you can either:","","- Renew your license https://mui.com/r/x-get-license and use the new key",`- Stop making changes to code depending directly or indirectly on MUI X ${e}'s APIs`,"","Note that your license is perpetual in production environments with any version released before your license term ends.","",`- License key expiry timestamp: ${new Date(r)}`,`- Installed license key: ${t}`,""])}function Pi({plan:e,licenseKey:t,expiryTimestamp:r}){throw new Error(["MUI X: Expired license key.","",`Your annual license key to use MUI X ${e} in non-production environments has expired. If you are seeing this development console message, you might be close to breach the license terms by making direct or indirect changes to the frontend of an app that render a MUI X ${e} component (more details in https://mui.com/r/x-license-annual).`,"","To solve the problem you can either:","","- Renew your license https://mui.com/r/x-get-license and use the new key",`- Stop making changes to code depending directly or indirectly on MUI X ${e}'s APIs`,"","Note that your license is perpetual in production environments with any version released before your license term ends.","",`- License key expiry timestamp: ${new Date(r)}`,`- Installed license key: ${t}`,""].join(`
`))}er.__MUI_LICENSE_INFO__=er.__MUI_LICENSE_INFO__||{key:void 0};class $t{static getLicenseInfo(){return er.__MUI_LICENSE_INFO__}static getLicenseKey(){return $t.getLicenseInfo().key}static setLicenseKey(t){const r=$t.getLicenseInfo();r.key=t}}let Y=function(e){return e.NotFound="NotFound",e.Invalid="Invalid",e.ExpiredAnnual="ExpiredAnnual",e.ExpiredAnnualGrace="ExpiredAnnualGrace",e.ExpiredVersion="ExpiredVersion",e.Valid="Valid",e.OutOfScope="OutOfScope",e.NotAvailableInInitialProPlan="NotAvailableInInitialProPlan",e}({});function wi(e,t){let r;return e.includes("-pro")?r=["pro","premium"]:e.includes("-premium")?r=["premium"]:r=[],r.includes(t)}const ki=/^.*EXPIRY=([0-9]+),.*$/,Ri=["x-data-grid-pro","x-date-pickers-pro"],Si=e=>{let t;try{t=parseInt(e.match(ki)[1],10),(!t||Number.isNaN(t))&&(t=null)}catch{t=null}return{scope:"pro",licensingModel:"perpetual",expiryTimestamp:t,planVersion:"initial"}},Mi=e=>{const t={scope:null,licensingModel:null,expiryTimestamp:null,planVersion:"initial"};return e.split(",").map(r=>r.split("=")).filter(r=>r.length===2).forEach(([r,n])=>{if(r==="S"&&(t.scope=n),r==="LM"&&(t.licensingModel=n),r==="E"){const a=parseInt(n,10);a&&!Number.isNaN(a)&&(t.expiryTimestamp=a)}r==="PV"&&(t.planVersion=n)}),t},Ii=e=>{const t=xn(e);return t.includes("KEYVERSION=1")?Si(t):t.includes("KV=2")?Mi(t):null};function Fi({releaseInfo:e,licenseKey:t,packageName:r}){if(!e)throw new Error("MUI X: The release information is missing. Not able to validate license.");if(!t)return{status:Y.NotFound};const n=t.substr(0,32),a=t.substr(32);if(n!==gi(a))return{status:Y.Invalid};const o=Ii(a);if(o==null)return console.error("MUI X: Error checking license. Key version not found!"),{status:Y.Invalid};if(o.licensingModel==null||!mi.includes(o.licensingModel))return console.error("MUI X: Error checking license. Licensing model not found or invalid!"),{status:Y.Invalid};if(o.expiryTimestamp==null)return console.error("MUI X: Error checking license. Expiry timestamp not found or invalid!"),{status:Y.Invalid};o.licensingModel;{const l=parseInt(xn(e),10);if(Number.isNaN(l))throw new Error("MUI X: The release information is invalid. Not able to validate license.");if(o.expiryTimestamp<l)return{status:Y.ExpiredVersion}}return o.scope==null||!hi.includes(o.scope)?(console.error("MUI X: Error checking license. scope not found or invalid!"),{status:Y.Invalid}):wi(r,o.scope)?o.planVersion==="initial"&&o.scope==="pro"&&!Ri.includes(r)?{status:Y.NotAvailableInInitialProPlan}:{status:Y.Valid}:{status:Y.OutOfScope}}const Ti=h.createContext({key:void 0}),kt={};function Ut(e,t){const{key:r}=h.useContext(Ti);return h.useMemo(()=>{const n=r??$t.getLicenseKey();if(kt[e]&&kt[e].key===n)return kt[e].licenseVerifier;const a=e.includes("premium")?"Premium":"Pro",o=Fi({releaseInfo:t,licenseKey:n,packageName:e}),l=`@mui/${e}`;return o.status===Y.Valid||(o.status===Y.Invalid?bi():o.status===Y.NotAvailableInInitialProPlan?vi():o.status===Y.OutOfScope?yi():o.status===Y.NotFound?xi({plan:a,packageName:l}):o.status===Y.ExpiredAnnualGrace?Ci(b({plan:a},o.meta)):o.status===Y.ExpiredAnnual?Pi(b({plan:a},o.meta)):o.status===Y.ExpiredVersion&&Di({packageName:l})),kt[e]={key:n,licenseVerifier:o},o},[e,t,r])}function Ei(e){switch(e){case Y.ExpiredAnnualGrace:case Y.ExpiredAnnual:return"MUI X Expired license key";case Y.ExpiredVersion:return"MUI X Expired package version";case Y.Invalid:return"MUI X Invalid license key";case Y.OutOfScope:return"MUI X License key plan mismatch";case Y.NotAvailableInInitialProPlan:return"MUI X Product not covered by plan";case Y.NotFound:return"MUI X Missing license key";default:throw new Error("Unhandled MUI X license status.")}}function Oi(e){const{packageName:t,releaseInfo:r}=e,n=Ut(t,r);return n.status===Y.Valid?null:O.jsx("div",{style:{position:"absolute",pointerEvents:"none",color:"#8282829e",zIndex:1e5,width:"100%",textAlign:"center",bottom:"50%",right:0,letterSpacing:5,fontSize:24},children:Ei(n.status)})}const Kt=()=>"MTcyMzc1NTYwMDAwMA==",Ai=e=>mt("MuiDateRangeCalendar",e),Ur=ht("MuiDateRangeCalendar",["root","monthContainer","dayDragging"]),yt=(e,t)=>!!(t&&t[0]&&t[1]&&!e.isBefore(t[1],t[0])),Jt=(e,t,r)=>yt(e,r)&&e.isWithinRange(t,r),Mt=(e,t,r)=>yt(e,r)&&e.isSameDay(t,r[0]),ct=(e,t,r)=>yt(e,r)&&e.isSameDay(t,r[1]);function cr({utils:e,range:t,newDate:r,rangePosition:n,allowRangeFlip:a=!1,shouldMergeDateAndTime:o=!1}){const[l,i]=t;if(o&&r&&(l&&n==="start"&&(r=Rr(e,r,l)),i&&n==="end"&&(r=Rr(e,r,i))),n==="start"){const p=a?{nextSelection:"start",newRange:[i,r]}:{nextSelection:"end",newRange:[r,null]};return i&&e.isAfter(r,i)?p:{nextSelection:"end",newRange:[r,i]}}const u=a?{nextSelection:"end",newRange:[r,l]}:{nextSelection:"end",newRange:[r,null]};return l&&e.isBeforeDay(r,l)?u:{nextSelection:"start",newRange:[l,r]}}function _i(e){if(e.newDate==null)return[null,null];const[t,r]=e.range,{newRange:n}=cr(e);if(!t||!r)return n;const[a,o]=n;return e.rangePosition==="end"?[r,o]:[a,t]}function ji(e){return mt("MuiDateRangePickerDay",e)}const q=ht("MuiDateRangePickerDay",["root","rangeIntervalDayHighlight","rangeIntervalDayHighlightStart","rangeIntervalDayHighlightEnd","rangeIntervalPreview","rangeIntervalDayPreview","rangeIntervalDayPreviewStart","rangeIntervalDayPreviewEnd","outsideCurrentMonth","startOfMonth","endOfMonth","firstVisibleCell","lastVisibleCell","hiddenDayFiller","day","dayOutsideRangeInterval","dayInsideRangeInterval","notSelectedDate"]),$i=["className","day","outsideCurrentMonth","isEndOfHighlighting","isEndOfPreviewing","isHighlighting","isPreviewing","isStartOfHighlighting","isStartOfPreviewing","selected","isVisuallySelected","sx","draggable","isFirstVisibleCell","isLastVisibleCell"],Li=Kt(),Ni=e=>{const{isHighlighting:t,outsideCurrentMonth:r,isStartOfHighlighting:n,isStartOfMonth:a,isEndOfHighlighting:o,isEndOfMonth:l,isPreviewing:i,isStartOfPreviewing:u,isEndOfPreviewing:p,isFirstVisibleCell:g,isLastVisibleCell:y,isHiddenDayFiller:m,selected:x,classes:w}=e;return Qe({root:["root",t&&"rangeIntervalDayHighlight",n&&"rangeIntervalDayHighlightStart",o&&"rangeIntervalDayHighlightEnd",r&&"outsideCurrentMonth",a&&"startOfMonth",l&&"endOfMonth",g&&"firstVisibleCell",y&&"lastVisibleCell",m&&"hiddenDayFiller"],rangeIntervalPreview:["rangeIntervalPreview",i&&"rangeIntervalDayPreview",(u||a)&&"rangeIntervalDayPreviewStart",(p||l)&&"rangeIntervalDayPreviewEnd"],day:["day",!x&&"notSelectedDate",!t&&"dayOutsideRangeInterval",!x&&t&&"dayInsideRangeInterval"]},ji,w)},It={borderTopRightRadius:"50%",borderBottomRightRadius:"50%"},Ft={borderTopLeftRadius:"50%",borderBottomLeftRadius:"50%"},Wi=ge("div",{name:"MuiDateRangePickerDay",slot:"Root",overridesResolver:(e,t)=>[{[`&.${q.rangeIntervalDayHighlight}`]:t.rangeIntervalDayHighlight},{[`&.${q.rangeIntervalDayHighlightStart}`]:t.rangeIntervalDayHighlightStart},{[`&.${q.rangeIntervalDayHighlightEnd}`]:t.rangeIntervalDayHighlightEnd},{[`&.${q.firstVisibleCell}`]:t.firstVisibleCell},{[`&.${q.lastVisibleCell}`]:t.lastVisibleCell},{[`&.${q.startOfMonth}`]:t.startOfMonth},{[`&.${q.endOfMonth}`]:t.endOfMonth},{[`&.${q.outsideCurrentMonth}`]:t.outsideCurrentMonth},{[`&.${q.hiddenDayFiller}`]:t.hiddenDayFiller},t.root]})(({theme:e})=>({variants:[{props:{isHiddenDayFiller:!1},style:{[`&:first-of-type .${q.rangeIntervalDayPreview}`]:b({},Ft,{borderLeftColor:(e.vars||e).palette.divider}),[`&:last-of-type .${q.rangeIntervalDayPreview}`]:b({},It,{borderRightColor:(e.vars||e).palette.divider})}},{props:{isHiddenDayFiller:!1,isHighlighting:!0},style:{borderRadius:0,color:(e.vars||e).palette.primary.contrastText,backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Kn(e.palette.primary.main,e.palette.action.focusOpacity),"&:first-of-type":Ft,"&:last-of-type":It}},{props:({ownerState:{isHiddenDayFiller:t,isStartOfHighlighting:r,isFirstVisibleCell:n}})=>!t&&(r||n),style:b({},Ft,{paddingLeft:0})},{props:({ownerState:{isHiddenDayFiller:t,isEndOfHighlighting:r,isLastVisibleCell:n}})=>!t&&(r||n),style:b({},It,{paddingRight:0})}]})),zi=ge("div",{name:"MuiDateRangePickerDay",slot:"RangeIntervalPreview",overridesResolver:(e,t)=>[{[`&.${q.rangeIntervalDayPreview}`]:t.rangeIntervalDayPreview},{[`&.${q.rangeIntervalDayPreviewStart}`]:t.rangeIntervalDayPreviewStart},{[`&.${q.rangeIntervalDayPreviewEnd}`]:t.rangeIntervalDayPreviewEnd},t.rangeIntervalPreview]})(({theme:e})=>({border:"2px solid transparent",variants:[{props:{isPreviewing:!0,isHiddenDayFiller:!1},style:{borderRadius:0,border:`2px dashed ${(e.vars||e).palette.divider}`,borderLeftColor:"transparent",borderRightColor:"transparent"}},{props:({ownerState:{isPreviewing:t,isHiddenDayFiller:r,isStartOfPreviewing:n,isFirstVisibleCell:a}})=>t&&!r&&(n||a),style:b({borderLeftColor:(e.vars||e).palette.divider},Ft)},{props:({ownerState:{isPreviewing:t,isHiddenDayFiller:r,isEndOfPreviewing:n,isLastVisibleCell:a}})=>t&&!r&&(n||a),style:b({borderRightColor:(e.vars||e).palette.divider},It)}]})),Vi=ge(sa,{name:"MuiDateRangePickerDay",slot:"Day",overridesResolver:(e,t)=>[{[`&.${q.dayInsideRangeInterval}`]:t.dayInsideRangeInterval},{[`&.${q.dayOutsideRangeInterval}`]:t.dayOutsideRangeInterval},{[`&.${q.notSelectedDate}`]:t.notSelectedDate},t.day]})({transform:"scale(1.1)","& > *":{transform:"scale(0.9)"},variants:[{props:{draggable:!0},style:{cursor:"grab",touchAction:"none"}}]}),Hi=h.forwardRef(function(t,r){const n=Fe({props:t,name:"MuiDateRangePickerDay"}),{className:a,day:o,outsideCurrentMonth:l,isHighlighting:i,isPreviewing:u,selected:p=!1,isVisuallySelected:g,sx:y,draggable:m,isFirstVisibleCell:x,isLastVisibleCell:w}=n,D=ue(n,$i);Ut("x-date-pickers-pro",Li);const R=Ze(),F=R.isSameDay(o,R.endOfMonth(o)),E=R.isSameDay(o,R.startOfMonth(o)),k=b({},n,{selected:p,isStartOfMonth:E,isEndOfMonth:F,draggable:m,isFirstVisibleCell:x,isLastVisibleCell:w,isHiddenDayFiller:l&&!D.showDaysOutsideCurrentMonth}),f=Ni(k);return O.jsx(Wi,{className:qe(f.root,a),ownerState:k,sx:y,children:O.jsx(zi,{className:f.rangeIntervalPreview,ownerState:k,children:O.jsx(Vi,b({},D,{ref:r,disableMargin:!0,day:o,selected:g,outsideCurrentMonth:l,className:f.day,ownerState:k,draggable:m,isFirstVisibleCell:x,isLastVisibleCell:w}))})})}),Bi=h.memo(Hi),Xe=(e,t,r)=>{const n=e.dataset.timestamp;if(!n)return null;const a=+n;return t.date(new Date(a).toISOString(),r)},Ui=e=>e.target.dataset.timestamp===e.dataTransfer.getData("draggingDate"),Dn=e=>e&&(e instanceof HTMLButtonElement&&!e.disabled?e:e.children.length?Dn(e.children[0]):null),Zt=(e,t)=>{var r;if(((r=e.changedTouches)==null?void 0:r.length)===1&&e.touches.length<=1){const n=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY),a=Dn(n);return t&&a===e.changedTouches[0].target?null:a}return null},Ki=({utils:e,setRangeDragDay:t,setIsDragging:r,isDragging:n,onDatePositionChange:a,onDrop:o,disableDragEditing:l,dateRange:i,timezone:u})=>{const p=h.useRef(null);h.useEffect(()=>{p.current=document.createElement("img"),p.current.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},[]);const g=f=>{if(f==null)return!1;const S=!l&&!!i[0]&&!!i[1],C=Mt(e,f,i),d=ct(e,f,i);return S&&(C||d)},y=ae(f=>{const S=Xe(f.target,e,u);if(!g(S))return;f.stopPropagation(),p.current&&f.dataTransfer.setDragImage(p.current,0,0),t(S),f.dataTransfer.effectAllowed="move",r(!0);const C=f.target.dataset;C.timestamp&&f.dataTransfer.setData("draggingDate",C.timestamp),C.position&&a(C.position)}),m=ae(f=>{const S=Zt(f);if(!S)return;const C=Xe(S,e,u);g(C)&&t(C)}),x=ae(f=>{n&&(f.preventDefault(),f.stopPropagation(),f.dataTransfer.dropEffect="move",t(Xe(f.target,e,u)))}),w=ae(f=>{const S=Zt(f);if(!S)return;const C=Xe(S,e,u);if(C&&t(C),!(S===f.changedTouches[0].target)||!g(C))return;r(!0);const T=f.target.dataset;T.position&&a(T.position)}),D=ae(f=>{n&&(f.preventDefault(),f.stopPropagation())}),R=ae(f=>{n&&(f.preventDefault(),f.stopPropagation(),f.dataTransfer.dropEffect="move")}),F=ae(f=>{if(!n)return;t(null),r(!1);const S=Zt(f,!0);if(!S)return;S.focus();const C=Xe(S,e,u);C&&o(C)}),E=ae(f=>{n&&(f.preventDefault(),f.stopPropagation(),r(!1),t(null))}),k=ae(f=>{if(!n||(f.preventDefault(),f.stopPropagation(),r(!1),t(null),f.currentTarget.focus(),Ui(f)))return;const S=Xe(f.target,e,u);S&&o(S)});return{onDragStart:y,onDragEnter:x,onDragLeave:D,onDragOver:R,onDragEnd:E,onDrop:k,onTouchStart:m,onTouchMove:w,onTouchEnd:F}},Xi=({disableDragEditing:e,utils:t,onDatePositionChange:r,onDrop:n,dateRange:a,timezone:o})=>{const[l,i]=h.useState(!1),[u,p]=h.useState(null),g=ae(x=>{t.isEqual(x,u)||p(x)}),y=h.useMemo(()=>{const[x,w]=a;if(u){if(x&&t.isBefore(u,x))return"start";if(w&&t.isAfter(u,w))return"end"}return null},[a,u,t]),m=Ki({utils:t,onDatePositionChange:r,onDrop:n,setIsDragging:i,isDragging:l,setRangeDragDay:g,disableDragEditing:e,dateRange:a,timezone:o});return h.useMemo(()=>b({isDragging:l,rangeDragDay:u,draggingDatePosition:y},e?{}:m),[l,u,y,e,m])},xr=(e,t)=>{const[r,n]=Xn({name:"useRangePosition",state:"rangePosition",controlled:e.rangePosition,default:e.defaultRangePosition??"start"}),a=l=>{if((t==null?void 0:t.current)==null)return;const i=t.current.getSections(),u=l==="start"?0:i.length/2;t.current.setSelectedSections(u)},o=ae(l=>{var i;n(l),(i=e.onRangePositionChange)==null||i.call(e,l),a(l)});return{rangePosition:r,onRangePositionChange:o}},Yi=40,Gi=["calendars","month","monthIndex","labelId"],qi=["format","slots","slotProps","currentMonth","onMonthChange","disableFuture","disablePast","minDate","maxDate","timezone","reduceAnimations","views","view"],Qi=ge(la)({padding:"12px 16px 4px 16px",display:"flex",alignItems:"center",justifyContent:"space-between"}),Ji=h.forwardRef(function(t,r){const n=Ze(),a=Ht(),{calendars:o,month:l,monthIndex:i,labelId:u}=t,p=ue(t,Gi),{format:g,slots:y,slotProps:m,currentMonth:x,onMonthChange:w,disableFuture:D,disablePast:R,minDate:F,maxDate:E,timezone:k}=p,f=ue(p,qi),S=ca(x,{disableFuture:D,maxDate:E,timezone:k}),C=da(x,{disablePast:R,minDate:F,timezone:k});if(o===1)return O.jsx(ua,b({},p,{labelId:u,ref:r}));const d=()=>w(n.addMonths(x,1),"left"),P=()=>w(n.addMonths(x,-1),"right");return O.jsx(Qi,b({},f,{ref:r,onGoToPrevious:P,onGoToNext:d,isPreviousHidden:i!==0,isPreviousDisabled:C,previousLabel:a.previousMonth,isNextHidden:i!==o-1,isNextDisabled:S,nextLabel:a.nextMonth,slots:y,slotProps:m,labelId:u,children:n.formatByString(l,g??`${n.formats.month} ${n.formats.year}`)}))}),Zi=["value","defaultValue","referenceDate","onChange","className","disableFuture","disablePast","minDate","maxDate","shouldDisableDate","reduceAnimations","onMonthChange","rangePosition","defaultRangePosition","onRangePositionChange","calendars","currentMonthCalendarPosition","slots","slotProps","loading","renderLoading","disableHighlightToday","readOnly","disabled","showDaysOutsideCurrentMonth","dayOfWeekFormatter","disableAutoMonthSwitching","autoFocus","fixedWeekNumber","disableDragEditing","displayWeekNumber","timezone","availableRangePositions","views","view","openTo","onViewChange"],es=["isDragging","rangeDragDay","draggingDatePosition"],ts=Kt(),rs=ge("div",{name:"MuiDateRangeCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row"}),ns=ge("div",{name:"MuiDateRangeCalendar",slot:"Container",overridesResolver:(e,t)=>t.monthContainer})(({theme:e})=>({"&:not(:last-of-type)":{borderRight:`1px solid ${(e.vars||e).palette.divider}`}})),as=(Yi+ba*2)*6,os=ge(pa)(({theme:e})=>({minWidth:312,minHeight:as,[`&.${Ur.dayDragging}`]:{[`& .${q.day}`]:{cursor:"grabbing"},[`& .${q.root}:not(.${q.rangeIntervalDayHighlightStart}):not(.${q.rangeIntervalDayHighlightEnd}) .${q.day}:not(.${q.notSelectedDate})`]:{opacity:.6}},[`&:not(.${Ur.dayDragging}) .${q.dayOutsideRangeInterval}`]:{"@media (pointer: fine)":{"&:hover":{border:`1px solid ${(e.vars||e).palette.grey[500]}`}}}}));function is(e,t){const r=Ze(),n=qr(),a=ya(),o=Fe({props:e,name:t});return b({},o,{renderLoading:o.renderLoading??(()=>O.jsx("span",{children:"..."})),reduceAnimations:o.reduceAnimations??a,loading:e.loading??!1,disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,openTo:o.openTo??"day",views:o.views??["day"],minDate:Ot(r,o.minDate,n.minDate),maxDate:Ot(r,o.maxDate,n.maxDate),calendars:o.calendars??2,disableDragEditing:o.disableDragEditing??!1,availableRangePositions:o.availableRangePositions??["start","end"]})}const ss=e=>{const{classes:t,isDragging:r}=e;return Qe({root:["root"],monthContainer:["monthContainer"],dayCalendar:[r&&"dayDragging"]},Ai,t)},ls=h.forwardRef(function(t,r){const n=is(t,"MuiDateRangeCalendar"),a=dr(fa,{defaultMatches:!1}),{value:o,defaultValue:l,referenceDate:i,onChange:u,className:p,disableFuture:g,disablePast:y,minDate:m,maxDate:x,shouldDisableDate:w,reduceAnimations:D,onMonthChange:R,rangePosition:F,defaultRangePosition:E,onRangePositionChange:k,calendars:f,currentMonthCalendarPosition:S=1,slots:C,slotProps:d,loading:P,renderLoading:T,disableHighlightToday:N,readOnly:H,disabled:z,showDaysOutsideCurrentMonth:X,dayOfWeekFormatter:j,disableAutoMonthSwitching:K,autoFocus:$,fixedWeekNumber:W,disableDragEditing:U,displayWeekNumber:B,timezone:se,availableRangePositions:he,views:L,view:re,openTo:Z,onViewChange:be}=n,te=ue(n,Zi),{value:V,handleValueChange:Te,timezone:ye}=Qr({name:"DateRangeCalendar",timezone:se,value:o,defaultValue:l,onChange:u,valueManager:Ge}),{setValueAndGoToNextView:Ne,view:We}=ga({view:re,views:L,openTo:Z,onChange:Te,onViewChange:be,autoFocus:$}),A=Ze(),nt=ha(ye),vt=Yr(),{rangePosition:de,onRangePositionChange:at}=xr({rangePosition:F,defaultRangePosition:E,onRangePositionChange:k}),ke=ae(_=>{de!==_&&at(_)}),ze=ae((_,G,me=!1)=>{const{nextSelection:De,newRange:Ke}=cr({newDate:_,utils:A,range:V,rangePosition:de,allowRangeFlip:me,shouldMergeDateAndTime:!0}),Ae=he.includes(De);Ae&&at(De);const Se=de==="end"&&yt(A,Ke);Ne(Ke,Se||!Ae?"finish":"partial",We)}),Ve=ae(_=>{ze(_,void 0,!0)}),Ee=U||z||H,pe=h.useMemo(()=>[V[0]==null||!A.isValid(V[0])?V[0]:A.startOfDay(V[0]),V[1]==null||!A.isValid(V[1])?V[1]:A.endOfDay(V[1])],[V,A]),xt=Xi({disableDragEditing:Ee,onDrop:Ve,onDatePositionChange:ke,utils:A,dateRange:pe,timezone:ye}),{isDragging:Re,rangeDragDay:v,draggingDatePosition:M}=xt,ee=ue(xt,es),ne=b({},n,{isDragging:Re}),ie=ss(ne),ve=h.useMemo(()=>{if(!pe[0]||!pe[1]||!v)return[null,null];const _=cr({utils:A,range:pe,newDate:v,rangePosition:de,allowRangeFlip:!0}).newRange;return _[0]!==null&&_[1]!==null?[A.startOfDay(_[0]),A.endOfDay(_[1])]:_},[de,v,A,pe]),we=h.useMemo(()=>{if(w)return _=>w(_,M||de)},[w,de,M]),{calendarState:xe,changeFocusedDay:ot,changeMonth:it,handleChangeMonth:He,onMonthSwitchingAnimationEnd:st}=ma({value:V[0]||V[1],referenceDate:i,disableFuture:g,disablePast:y,disableSwitchToMonthOnDayFocus:!0,maxDate:x,minDate:m,onMonthChange:R,reduceAnimations:D,shouldDisableDate:we,timezone:ye}),Be=(C==null?void 0:C.calendarHeader)??Ji,lt=je({elementType:Be,externalSlotProps:d==null?void 0:d.calendarHeader,additionalProps:{calendars:f,views:["day"],view:"day",currentMonth:xe.currentMonth,onMonthChange:(_,G)=>He({newMonth:_,direction:G}),minDate:m,maxDate:x,disabled:z,disablePast:y,disableFuture:g,reduceAnimations:D,timezone:ye,slots:C,slotProps:d},ownerState:n}),Oe=h.useRef(null);h.useEffect(()=>{var Ae,Se;const _=de==="start"?V[0]:V[1];if(!_||!A.isValid(_))return;const G=de==="start"?(Ae=Oe.current)==null?void 0:Ae[0]:(Se=Oe.current)==null?void 0:Se[1];if(Oe.current=V,K&&G&&A.isEqual(G,_))return;const me=f-1,De=A.getMonth(xe.currentMonth),Ke=A.getMonth(_);if(!A.isSameYear(xe.currentMonth,_)||Ke<De||Ke>De+me){const Dt=de==="start"?_:A.addMonths(_,-me);it(Dt)}},[de,V]);const Xt={disablePast:y,disableFuture:g,maxDate:x,minDate:m},Sn={disableHighlightToday:N,readOnly:H,disabled:z},[Mn,Yt]=h.useState(null),In=h.useMemo(()=>({onMouseLeave:()=>Yt(null)}),[]),Gt=_i({utils:A,range:pe,newDate:Mn,rangePosition:de}),Fn=ae((_,G)=>{Jt(A,G,pe)?Yt(null):Yt(G)}),Tn=b({day:Bi},C),En=b({},d,{day:_=>{const{day:G}=_,me=Mt(A,G,pe),De=ct(A,G,pe),Ae=!Ee&&pe[0]&&pe[1]&&(me||De);let Se;me?Se="start":De&&(Se="end");const Dt=Re?Mt(A,G,ve):me,_n=Re?ct(A,G,ve):De;return b({isPreviewing:a?Jt(A,G,Gt):!1,isStartOfPreviewing:a?Mt(A,G,Gt):!1,isEndOfPreviewing:a?ct(A,G,Gt):!1,isHighlighting:Jt(A,G,Re?ve:pe),isStartOfHighlighting:Dt,isEndOfHighlighting:Re?ct(A,G,ve):De,onMouseEnter:a?Fn:void 0,isVisuallySelected:_.selected||Re&&(Dt||_n),"data-position":Se},ee,{draggable:Ae?!0:void 0},Ye(d==null?void 0:d.day,_)??{})}}),On=h.useMemo(()=>Array.from({length:f}).map((_,G)=>G),[f]),Ue=h.useMemo(()=>{const _=A.addMonths(xe.currentMonth,1-S);return Array.from({length:f}).map((G,me)=>A.addMonths(_,me))},[A,xe.currentMonth,f,S]),An=h.useMemo(()=>$?V[0]!=null?Ue.find(_=>A.isSameMonth(_,V[0])):V[1]!=null?Ue.find(_=>A.isSameMonth(_,V[1])):Ue.find(_=>A.isSameMonth(_,nt))??Ue[0]:null,[A,V,Ue,$,nt]);return O.jsxs(rs,b({ref:r,className:qe(p,ie.root),ownerState:ne},te,{children:[O.jsx(Oi,{packageName:"x-date-pickers-pro",releaseInfo:ts}),On.map(_=>{const G=Ue[_],me=`${vt}-grid-${_}-label`;return O.jsxs(ns,{className:ie.monthContainer,children:[O.jsx(Be,b({},lt,{month:G,monthIndex:_,labelId:me})),O.jsx(os,b({className:ie.dayCalendar},xe,Xt,Sn,{onMonthSwitchingAnimationEnd:st,onFocusedDayChange:ot,reduceAnimations:D,selectedDays:V,onSelectedDaysChange:ze,currentMonth:G,TransitionProps:In,shouldDisableDate:we,showDaysOutsideCurrentMonth:f===1&&X,dayOfWeekFormatter:j,loading:P,renderLoading:T,slots:Tn,slotProps:En,autoFocus:G===An,fixedWeekNumber:W,displayWeekNumber:B,timezone:ye,gridLabelId:me}))]},_)})]}))}),Cn=({value:e,defaultValue:t,referenceDate:r,onChange:n,className:a,classes:o,disableFuture:l,disablePast:i,minDate:u,maxDate:p,shouldDisableDate:g,reduceAnimations:y,onMonthChange:m,rangePosition:x,defaultRangePosition:w,onRangePositionChange:D,calendars:R,currentMonthCalendarPosition:F,slots:E,slotProps:k,loading:f,renderLoading:S,disableHighlightToday:C,readOnly:d,disabled:P,showDaysOutsideCurrentMonth:T,dayOfWeekFormatter:N,disableAutoMonthSwitching:H,sx:z,autoFocus:X,fixedWeekNumber:j,disableDragEditing:K,displayWeekNumber:$,timezone:W,availableRangePositions:U,views:B,view:se,onViewChange:he})=>O.jsx(ls,{value:e,defaultValue:t,referenceDate:r,onChange:n,className:a,classes:o,disableFuture:l,disablePast:i,minDate:u,maxDate:p,shouldDisableDate:g,reduceAnimations:y,onMonthChange:m,rangePosition:x,defaultRangePosition:w,onRangePositionChange:D,calendars:R,currentMonthCalendarPosition:F,slots:E,slotProps:k,loading:f,renderLoading:S,disableHighlightToday:C,readOnly:d,disabled:P,showDaysOutsideCurrentMonth:T,dayOfWeekFormatter:N,disableAutoMonthSwitching:H,sx:z,autoFocus:X,fixedWeekNumber:j,disableDragEditing:K,displayWeekNumber:$,timezone:W,availableRangePositions:U,view:se,views:B,onViewChange:he}),cs=["shouldDisableDate"],Lt=({props:e,value:t,adapter:r})=>{const[n,a]=t,{shouldDisableDate:o}=e,l=ue(e,cs),i=[Sr({adapter:r,value:n,props:b({},l,{shouldDisableDate:u=>!!(o!=null&&o(u,"start"))})}),Sr({adapter:r,value:a,props:b({},l,{shouldDisableDate:u=>!!(o!=null&&o(u,"end"))})})];return i[0]||i[1]?i:n===null||a===null?[null,null]:yt(r.utils,t)?[null,null]:["invalidRange","invalidRange"]},Kr=(e,t)=>Object.keys(e).reduce((r,n)=>(t.includes(n)||(r[n]=e[n]),r),{}),ds=e=>{const t=h.useRef(null),r=Et(e.unstableEndFieldRef,t),[n,a]=h.useState(e.selectedSections??null),[o,l]=h.useState(null),i=()=>t.current&&t.current.isFieldFocused()?"end":"start",u=ae(y=>{var m;a(y),i()==="start"&&((m=e.onSelectedSectionsChange)==null||m.call(e,y))}),p=ae(y=>{var m;l(y),i()==="end"&&((m=e.onSelectedSectionsChange)==null||m.call(e,y))}),g=i();return{start:{unstableFieldRef:e.unstableStartFieldRef,selectedSections:g==="start"&&e.selectedSections!==void 0?e.selectedSections:n,onSelectedSectionsChange:u},end:{unstableFieldRef:r,selectedSections:g==="end"&&e.selectedSections!==void 0?e.selectedSections:o,onSelectedSectionsChange:p}}},us=({sharedProps:e,startTextFieldProps:t,unstableStartFieldRef:r,endTextFieldProps:n,unstableEndFieldRef:a})=>{const o=va(e),l=xa(),{value:i,defaultValue:u,format:p,formatDensity:g,shouldRespectLeadingZeros:y,onChange:m,disabled:x,readOnly:w,selectedSections:D,onSelectedSectionsChange:R,timezone:F,enableAccessibleFieldDOMStructure:E,autoFocus:k}=o,{value:f,handleValueChange:S,timezone:C}=Qr({name:"useMultiInputDateRangeField",timezone:F,value:i,defaultValue:u,onChange:m,valueManager:Ge}),d=$=>(W,U)=>{const B=$===0?[W,f[1]]:[f[0],W],se=b({},U,{validationError:Lt({adapter:l,value:B,props:b({},o,{timezone:C})})});S(B,se)},P=ae(d(0)),T=ae(d(1)),N=Da(b({},o,{value:f,timezone:C}),Lt,Ge.isSameError,Ge.defaultErrorState),H=ds({selectedSections:D,onSelectedSectionsChange:R,unstableStartFieldRef:r,unstableEndFieldRef:a}),z=b({error:!!N[0]},t,H.start,{disabled:x,readOnly:w,format:p,formatDensity:g,shouldRespectLeadingZeros:y,timezone:C,value:i===void 0?void 0:i[0],defaultValue:u===void 0?void 0:u[0],onChange:P,enableAccessibleFieldDOMStructure:E,autoFocus:k}),X=b({error:!!N[1]},n,H.end,{format:p,formatDensity:g,shouldRespectLeadingZeros:y,disabled:x,readOnly:w,timezone:C,value:i===void 0?void 0:i[1],defaultValue:u===void 0?void 0:u[1],onChange:T,enableAccessibleFieldDOMStructure:E}),j=Mr(z),K=Mr(X);return{startDate:Kr(j,["clearable","onClear"]),endDate:Kr(K,["clearable","onClear"])}},ps=["slots","slotProps","unstableStartFieldRef","unstableEndFieldRef","className"];ht("MuiMultiInputDateRangeField",["root","separator"]);const fs=e=>mt("MuiMultiInputDateRangeField",e),gs=e=>{const{classes:t}=e;return Qe({root:["root"],separator:["separator"]},fs,t)},hs=ge(h.forwardRef((e,t)=>O.jsx(Yn,b({ref:t,spacing:2,direction:"row",alignItems:"center"},e))),{name:"MuiMultiInputDateRangeField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ms=ge(Ie,{name:"MuiMultiInputDateRangeField",slot:"Separator",overridesResolver:(e,t)=>t.separator})({lineHeight:"1.4375em"}),Pn=h.forwardRef(function(t,r){const n=Fe({props:t,name:"MuiMultiInputDateRangeField"}),{internalProps:a,forwardedProps:o}=Ca(n),{slots:l,slotProps:i,unstableStartFieldRef:u,unstableEndFieldRef:p,className:g}=o,y=ue(o,ps),m=n,x=gs(m),w=(l==null?void 0:l.root)??hs,D=je({elementType:w,externalSlotProps:i==null?void 0:i.root,externalForwardedProps:y,additionalProps:{ref:r},ownerState:m,className:qe(g,x.root)}),R=(l==null?void 0:l.textField)??(t.enableAccessibleFieldDOMStructure?Pa:fe),F=je({elementType:R,externalSlotProps:i==null?void 0:i.textField,ownerState:b({},m,{position:"start"})}),E=je({elementType:R,externalSlotProps:i==null?void 0:i.textField,ownerState:b({},m,{position:"end"})}),k=(l==null?void 0:l.separator)??ms,f=je({elementType:k,externalSlotProps:i==null?void 0:i.separator,additionalProps:{children:` ${a.dateSeparator??""} `},ownerState:m,className:x.separator}),S=us({sharedProps:a,startTextFieldProps:F,endTextFieldProps:E,unstableStartFieldRef:u,unstableEndFieldRef:p}),C=Ir(S.startDate),d=Ir(S.endDate);return O.jsxs(w,b({},D,{children:[O.jsx(R,b({fullWidth:!0},C)),O.jsx(k,b({},f)),O.jsx(R,b({fullWidth:!0},d))]}))}),bs=["clearable","onClear"],ys=({wrapperVariant:e,open:t,actions:r,readOnly:n,labelId:a,disableOpenPicker:o,onBlur:l,rangePosition:i,onRangePositionChange:u,localeText:p,pickerSlotProps:g,pickerSlots:y,fieldProps:m,anchorRef:x,currentView:w,initialView:D,onViewChange:R,startFieldRef:F,endFieldRef:E})=>{const k=Ht(),f=Et(m.unstableStartFieldRef,F),S=Et(m.unstableEndFieldRef,E),C=h.useRef(i);h.useEffect(()=>{var W;if(!t)return;const $=i==="start"?F:E;if((W=$.current)==null||W.focusField(),!$.current||!w){C.current=i;return}$.current.setSelectedSections(C.current===i?w:0),C.current=i},[i,t,w,F,E]);const d=$=>{$.stopPropagation(),u("start"),!n&&!o&&r.onOpen($)},P=$=>{$.stopPropagation(),u("end"),!n&&!o&&r.onOpen($)},T=()=>{t&&(u("start"),C.current!=="start"&&D&&(R==null||R(D)))},N=()=>{t&&(u("end"),C.current!=="end"&&D&&(R==null||R(D)))},H=b({textField:y==null?void 0:y.textField,root:y==null?void 0:y.fieldRoot,separator:y==null?void 0:y.fieldSeparator},m.slots),z=b({},m.slotProps,{textField:$=>{const W=Ye(g==null?void 0:g.textField,$);let U,B;return $.position==="start"?(U=b({label:(p==null?void 0:p.start)??k.start,onKeyDown:rr(d),onFocus:T,focused:t?i==="start":void 0},!n&&!m.disabled&&{onClick:d},e==="mobile"&&{readOnly:!0}),x&&(B=b({},W==null?void 0:W.InputProps,{ref:x}))):(U=b({label:(p==null?void 0:p.end)??k.end,onKeyDown:rr(P),onFocus:N,focused:t?i==="end":void 0},!n&&!m.disabled&&{onClick:P},e==="mobile"&&{readOnly:!0}),B=W==null?void 0:W.InputProps),b({},a!=null&&{id:`${a}-${$.position}`},U,Ye(g==null?void 0:g.textField,$),{InputProps:B})},root:$=>b({},{onBlur:l},Ye(g==null?void 0:g.fieldRoot,$)),separator:g==null?void 0:g.fieldSeparator}),X=m,j=ue(X,bs);return b({},j,{unstableStartFieldRef:f,unstableEndFieldRef:S,slots:H,slotProps:z})},vs=({wrapperVariant:e,open:t,actions:r,readOnly:n,labelId:a,disableOpenPicker:o,label:l,onBlur:i,rangePosition:u,onRangePositionChange:p,startFieldRef:g,endFieldRef:y,pickerSlots:m,pickerSlotProps:x,fieldProps:w,anchorRef:D,currentView:R})=>{const F=Et(w.unstableFieldRef,g,y);h.useEffect(()=>{var P;if(!(!t||!g.current)&&!g.current.isFieldFocused()&&R){const T=g.current.getSections().map(H=>H.type),N=u==="start"?T.indexOf(R):T.lastIndexOf(R);(P=g.current)==null||P.focusField(N)}},[u,t,R,g]);const E=()=>{var H,z;if(!((H=g.current)!=null&&H.isFieldFocused()))return;const P=g.current.getSections(),T=(z=g.current)==null?void 0:z.getActiveSectionIndex(),N=T==null||T<P.length/2?"start":"end";N!=null&&N!==u&&p(N)},k=ae(P=>{var T;setTimeout(E),(T=w.onSelectedSectionsChange)==null||T.call(w,P)}),f=P=>{P.stopPropagation(),!n&&!o&&r.onOpen(P)},S=b({},w.slots,{textField:m==null?void 0:m.textField,clearButton:m==null?void 0:m.clearButton,clearIcon:m==null?void 0:m.clearIcon}),C=b({},w.slotProps,{textField:x==null?void 0:x.textField,clearButton:m==null?void 0:m.clearButton,clearIcon:m==null?void 0:m.clearIcon});return b({},w,{slots:S,slotProps:C,label:l,unstableFieldRef:F,onKeyDown:rr(f,w.onKeyDown),onSelectedSectionsChange:k,onBlur:i,InputProps:b({ref:D},w==null?void 0:w.InputProps),focused:t?!0:void 0},a!=null&&{id:a},e==="mobile"&&{readOnly:!0},!n&&!w.disabled&&{onClick:f})},wn=e=>e.fieldType==="multi-input"?ys(e):vs(e),xs=["props"],Ds=Kt(),Cs=e=>{let{props:t}=e,r=ue(e,xs);Ut("x-date-pickers-pro",Ds);const{slots:n,slotProps:a,className:o,sx:l,format:i,formatDensity:u,enableAccessibleFieldDOMStructure:p,selectedSections:g,onSelectedSectionsChange:y,timezone:m,label:x,inputRef:w,name:D,readOnly:R,disabled:F,autoFocus:E,disableOpenPicker:k,localeText:f,reduceAnimations:S}=t,C=h.useRef(null),d=h.useRef(null),P=h.useRef(null),T=h.useRef(null),N=h.useRef(null),H=h.useRef(t.openTo??null),z=n.field.fieldType??"multi-input",{rangePosition:X,onRangePositionChange:j}=xr(t,z==="single-input"?T:void 0),{open:K,actions:$,layoutProps:W,renderCurrentView:U,shouldRestoreFocus:B,fieldProps:se}=Jr(b({},r,{props:t,wrapperVariant:"desktop",autoFocusView:!1,fieldRef:X==="start"?T:N,additionalViewProps:{rangePosition:X,onRangePositionChange:j}}));h.useEffect(()=>{W.view&&(H.current=W.view)},[]);const he=()=>{wa(()=>{var Te,ye;(Te=C.current)!=null&&Te.contains(Fr(document))||(ye=P.current)!=null&&ye.contains(Fr(document))||$.onDismiss()})},L=n.field,re=je({elementType:L,externalSlotProps:a==null?void 0:a.field,additionalProps:b({},se,{readOnly:R,disabled:F,className:o,sx:l,format:i,formatDensity:u,enableAccessibleFieldDOMStructure:p,selectedSections:g,onSelectedSectionsChange:y,timezone:m,autoFocus:E&&!t.open,ref:C},z==="single-input"?{inputRef:w,name:D}:{}),ownerState:t}),Z=wn({wrapperVariant:"desktop",fieldType:z,open:K,actions:$,readOnly:R,disableOpenPicker:k,label:x,localeText:f,onBlur:he,rangePosition:X,onRangePositionChange:j,pickerSlotProps:a,pickerSlots:n,fieldProps:re,anchorRef:d,startFieldRef:T,endFieldRef:N,currentView:W.view!==t.openTo?W.view:void 0,initialView:H.current??void 0,onViewChange:W.onViewChange}),be=b({},a,{tabs:b({},a==null?void 0:a.tabs,{rangePosition:X,onRangePositionChange:j}),toolbar:b({},a==null?void 0:a.toolbar,{rangePosition:X,onRangePositionChange:j})}),te=(n==null?void 0:n.layout)??Zr;return{renderPicker:()=>O.jsxs(ur,{localeText:f,children:[O.jsx(L,b({},Z)),O.jsx(ka,b({role:"tooltip",placement:"bottom-start",containerRef:P,anchorEl:d.current,onBlur:he},$,{open:K,slots:n,slotProps:a,shouldRestoreFocus:B,reduceAnimations:S,children:O.jsx(te,b({},W,a==null?void 0:a.layout,{slots:n,slotProps:be,children:U()}))}))]})}},kn=h.forwardRef(function(t,r){var i;const n=yn(t,"MuiDesktopDateRangePicker"),a=b({day:Cn},n.viewRenderers),o=b({},n,{viewRenderers:a,calendars:n.calendars??2,views:["day"],openTo:"day",slots:b({field:Pn},n.slots),slotProps:b({},n.slotProps,{field:u=>{var p;return b({},Ye((p=n.slotProps)==null?void 0:p.field,u),en(n),{ref:r})},toolbar:b({hidden:!0},(i=n.slotProps)==null?void 0:i.toolbar)})}),{renderPicker:l}=Cs({props:o,valueManager:Ge,valueType:"date",validator:Lt});return l()});kn.propTypes={autoFocus:c.bool,calendars:c.oneOf([1,2,3]),className:c.string,closeOnSelect:c.bool,currentMonthCalendarPosition:c.oneOf([1,2,3]),dayOfWeekFormatter:c.func,defaultRangePosition:c.oneOf(["end","start"]),defaultValue:c.arrayOf(c.object),disableAutoMonthSwitching:c.bool,disabled:c.bool,disableDragEditing:c.bool,disableFuture:c.bool,disableHighlightToday:c.bool,disableOpenPicker:c.bool,disablePast:c.bool,displayWeekNumber:c.bool,enableAccessibleFieldDOMStructure:c.any,fixedWeekNumber:c.number,format:c.string,formatDensity:c.oneOf(["dense","spacious"]),inputRef:Gr,label:c.node,loading:c.bool,localeText:c.object,maxDate:c.object,minDate:c.object,name:c.string,onAccept:c.func,onChange:c.func,onClose:c.func,onError:c.func,onMonthChange:c.func,onOpen:c.func,onRangePositionChange:c.func,onSelectedSectionsChange:c.func,open:c.bool,rangePosition:c.oneOf(["end","start"]),readOnly:c.bool,reduceAnimations:c.bool,referenceDate:c.object,renderLoading:c.func,selectedSections:c.oneOfType([c.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),c.number]),shouldDisableDate:c.func,showDaysOutsideCurrentMonth:c.bool,slotProps:c.object,slots:c.object,sx:c.oneOfType([c.arrayOf(c.oneOfType([c.func,c.object,c.bool])),c.func,c.object]),timezone:c.string,value:c.arrayOf(c.object),viewRenderers:c.shape({day:c.func})};const Ps=["props"],ws=Kt(),ks=e=>{var te;let{props:t}=e,r=ue(e,Ps);Ut("x-date-pickers-pro",ws);const{slots:n,slotProps:a,className:o,sx:l,format:i,formatDensity:u,enableAccessibleFieldDOMStructure:p,selectedSections:g,onSelectedSectionsChange:y,timezone:m,label:x,inputRef:w,name:D,readOnly:R,disabled:F,disableOpenPicker:E,localeText:k}=t,f=h.useRef(null),S=h.useRef(null),C=n.field.fieldType??"multi-input",{rangePosition:d,onRangePositionChange:P}=xr(t,C==="single-input"?f:void 0),T=Yr(),N=Ht(),{open:H,actions:z,layoutProps:X,renderCurrentView:j,fieldProps:K}=Jr(b({},r,{props:t,wrapperVariant:"mobile",autoFocusView:!0,fieldRef:d==="start"?f:S,additionalViewProps:{rangePosition:d,onRangePositionChange:P}})),$=n.field,W=je({elementType:$,externalSlotProps:a==null?void 0:a.field,additionalProps:b({},K,{readOnly:R??!0,disabled:F,className:o,sx:l,format:i,formatDensity:u,enableAccessibleFieldDOMStructure:p,selectedSections:g,onSelectedSectionsChange:y,timezone:m},C==="single-input"?{inputRef:w,name:D}:{}),ownerState:t}),U=((te=a==null?void 0:a.toolbar)==null?void 0:te.hidden)??!1,B=wn({wrapperVariant:"mobile",fieldType:C,open:H,actions:z,readOnly:R,labelId:T,disableOpenPicker:E,label:x,localeText:k,rangePosition:d,onRangePositionChange:P,pickerSlots:n,pickerSlotProps:a,fieldProps:W,startFieldRef:f,endFieldRef:S}),se=b({},a,{tabs:b({},a==null?void 0:a.tabs,{rangePosition:d,onRangePositionChange:P}),toolbar:b({},a==null?void 0:a.toolbar,{titleId:T,rangePosition:d,onRangePositionChange:P})}),he=(n==null?void 0:n.layout)??Zr,L=b({},N,k);let re=r.valueType==="date-time"?`${T}-start-toolbar ${T}-end-toolbar`:T;if(U){const V=[];C==="multi-input"?(L.start&&V.push(`${T}-start-label`),L.end&&V.push(`${T}-end-label`)):x!=null&&V.push(`${T}-label`),re=V.length>0?V.join(" "):void 0}const Z=b({},a,{mobilePaper:b({"aria-labelledby":re},a==null?void 0:a.mobilePaper)});return{renderPicker:()=>O.jsxs(ur,{localeText:k,children:[O.jsx($,b({},B)),O.jsx(Ra,b({},z,{open:H,slots:n,slotProps:Z,children:O.jsx(he,b({},X,Z==null?void 0:Z.layout,{slots:n,slotProps:se,children:j()}))}))]})}},Rn=h.forwardRef(function(t,r){var i;const n=yn(t,"MuiMobileDateRangePicker"),a=b({day:Cn},n.viewRenderers),o=b({},n,{viewRenderers:a,calendars:1,views:["day"],openTo:"day",slots:b({field:Pn},n.slots),slotProps:b({},n.slotProps,{field:u=>{var p;return b({},Ye((p=n.slotProps)==null?void 0:p.field,u),en(n),{ref:r})},toolbar:b({hidden:!1},(i=n.slotProps)==null?void 0:i.toolbar)})}),{renderPicker:l}=ks({props:o,valueManager:Ge,valueType:"date",validator:Lt});return l()});Rn.propTypes={autoFocus:c.bool,className:c.string,closeOnSelect:c.bool,currentMonthCalendarPosition:c.oneOf([1,2,3]),dayOfWeekFormatter:c.func,defaultRangePosition:c.oneOf(["end","start"]),defaultValue:c.arrayOf(c.object),disableAutoMonthSwitching:c.bool,disabled:c.bool,disableDragEditing:c.bool,disableFuture:c.bool,disableHighlightToday:c.bool,disableOpenPicker:c.bool,disablePast:c.bool,displayWeekNumber:c.bool,enableAccessibleFieldDOMStructure:c.any,fixedWeekNumber:c.number,format:c.string,formatDensity:c.oneOf(["dense","spacious"]),inputRef:Gr,label:c.node,loading:c.bool,localeText:c.object,maxDate:c.object,minDate:c.object,name:c.string,onAccept:c.func,onChange:c.func,onClose:c.func,onError:c.func,onMonthChange:c.func,onOpen:c.func,onRangePositionChange:c.func,onSelectedSectionsChange:c.func,open:c.bool,rangePosition:c.oneOf(["end","start"]),readOnly:c.bool,reduceAnimations:c.bool,referenceDate:c.object,renderLoading:c.func,selectedSections:c.oneOfType([c.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),c.number]),shouldDisableDate:c.func,showDaysOutsideCurrentMonth:c.bool,slotProps:c.object,slots:c.object,sx:c.oneOfType([c.arrayOf(c.oneOfType([c.func,c.object,c.bool])),c.func,c.object]),timezone:c.string,value:c.arrayOf(c.object),viewRenderers:c.shape({day:c.func})};const Rs=["desktopModeMediaQuery"],Ss=h.forwardRef(function(t,r){const n=Fe({props:t,name:"MuiDateRangePicker"}),{desktopModeMediaQuery:a="@media (pointer: fine)"}=n,o=ue(n,Rs);return dr(a,{defaultMatches:!0})?O.jsx(kn,b({ref:r},o)):O.jsx(Rn,b({ref:r},o))});Ea.extend(Sa);Gn(Ma)(({theme:e})=>({"& .MuiPaper-root":{backgroundColor:e.glassCard.backgroundColor},"& .MuiInputBase-root":{color:e.palette.text.primary,borderColor:e.palette.divider},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:e.palette.divider},"&:hover fieldset":{borderColor:e.palette.primary.main},"&.Mui-focused fieldset":{borderColor:e.palette.primary.main}},"& .MuiSvgIcon-root":{color:e.palette.text.secondary},"& .MuiPickersDay-root":{color:e.palette.text.primary,"&.Mui-selected":{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},"&.MuiPickersDay-today":{borderColor:e.palette.primary.main}}}));const Ms=Tt.memo(({auth:e,title:t,allData:r,jurisdictions:n,users:a,reports:o,reports_with_daily_works:l})=>{const i=Je(),[u,p]=h.useState([]),[g,y]=h.useState(!1),[m,x]=h.useState(0),[w,D]=h.useState([]),[R,F]=h.useState(),[E,k]=h.useState(null),[f,S]=h.useState(null),[C,d]=h.useState(""),P=dr(i.breakpoints.down("md")),[T,N]=h.useState(10),[H,z]=h.useState(1),X=async(L,re)=>{var Z,be;y(!0);try{const te=await Xr.get(route("dailyWorks.paginate"),{params:{page:L,perPage:re,search:C,status:U.status!=="all"?U.status:"",inCharge:U.incharge!=="all"?U.incharge:"",startDate:(Z=U.startDate)==null?void 0:Z.format("YYYY-MM-DD"),endDate:(be=U.endDate)==null?void 0:be.format("YYYY-MM-DD")}});p(te.data.data),x(te.data.total),y(!1)}catch(te){console.log(te),Me.error("Failed to fetch data.",{icon:"游댮",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,color:i.palette.text.primary}}),y(!1)}},j=h.useCallback((L,re)=>{k(L),S(re)},[]),K=h.useCallback(()=>{S(null),k(null)},[]),$=h.useCallback(L=>{S(L)},[]),W=h.useCallback(()=>{S(null)},[]),[U,B]=h.useState({startDate:null,endDate:null,status:"all",incharge:"all",report:""}),se=h.useCallback((L,re)=>{if(L==="dates"){const[Z,be]=re;B(te=>({...te,startDate:Z,endDate:be}))}else B(Z=>({...Z,[L]:re}))},[]),he=L=>{const re=L.target.value.toLowerCase();d(re)};return h.useEffect(()=>{X(H,T)},[H,T,U,C]),I(oe,{children:[s($n,{title:t}),f==="editDailyWork"&&s(co,{open:f==="editDailyWork",currentRow:R,setDailyWorks,closeModal:W}),f==="deleteDailyWork"&&s(uo,{open:f==="deleteDailyWork",handleClose:K,taskIdToDelete:E,setDailyWorks,setFilteredData:D}),f==="importDailyWorks"&&s(ii,{open:f==="importDailyWorks",closeModal:W,setDailyWorks,setFilteredData:D}),f==="exportDailyWorks"&&s(po,{open:f==="exportDailyWorks",closeModal:W,filteredData:w,users:a}),s(le,{sx:{display:"flex",justifyContent:"center",p:2},children:s(qn,{in:!0,children:I(Ln,{children:[s(Qn,{title:t,sx:{padding:"24px"},action:I(le,{display:"flex",gap:2,children:[e.permissions.includes("addTask")&&s(Pe,{title:"Add Task",color:"primary",id:"showAddModalBtn",children:s(Ia,{})}),e.roles.includes("Administrator")&&s(oe,{children:P?I(oe,{children:[s(Pe,{title:"Import Daily Works",color:"warning",onClick:()=>$("importDailyWorks"),children:s(nr,{})}),s(Pe,{title:"Export Daily Works",color:"success",onClick:()=>$("exportDailyWorks"),children:s(tr,{})})]}):I(oe,{children:[s(dt,{title:"Import Daily Works",variant:"outlined",color:"warning",startIcon:s(nr,{}),onClick:()=>$("importDailyWorks"),children:"Import"}),s(dt,{title:"Export Daily Works",variant:"outlined",color:"success",startIcon:s(tr,{}),onClick:()=>$("exportDailyWorks"),children:"Export"})]})})]})}),s(Pr,{children:s(le,{children:I(ce,{container:!0,spacing:2,children:[s(ce,{item:!0,xs:12,sm:6,md:3,children:s(ur,{dateAdapter:Fa,children:s(le,{display:"flex",alignItems:"center",children:s(Ss,{value:[U.startDate,U.endDate],onChange:L=>se("dates",L),localeText:{start:"Start date",end:"End date"},renderInput:(L,re)=>I(oe,{children:[s(fe,{...L,fullWidth:!0,size:"small"}),s(le,{sx:{mx:1},children:" to "}),s(fe,{...re,fullWidth:!0,size:"small"})]})})})})}),s(ce,{item:!0,xs:6,sm:4,md:3,children:I(Rt,{fullWidth:!0,children:[s(St,{id:"status-label",children:"Status"}),I(Le,{variant:"outlined",labelId:"status-label",label:"Status",name:"status",value:U.status,onChange:L=>se("status",L.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[s(J,{value:"all",children:"All"}),s(J,{value:"completed",children:"Completed"}),s(J,{value:"new",children:"New"}),s(J,{value:"resubmission",children:"Resubmission"}),s(J,{value:"emergency",children:"Emergency"})]})]})}),e.roles.includes("Administrator")&&s(ce,{item:!0,xs:6,sm:4,md:3,children:I(Rt,{fullWidth:!0,children:[s(St,{id:"incharge-label",children:"Incharge"}),I(Le,{variant:"outlined",labelId:"incharge-label",label:"Incharge",name:"incharge",value:U.incharge,onChange:L=>se("incharge",L.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[s(J,{value:"all",children:"All"}),r.allInCharges.map(L=>s(J,{value:L.id,children:L.name},L.id))]})]})}),s(ce,{item:!0,xs:6,sm:4,md:3,children:I(Rt,{fullWidth:!0,children:[s(St,{id:"report-label",children:"Report"}),s(Le,{variant:"outlined",labelId:"report-label",label:"Report",name:"report",value:U.report,onChange:L=>se("report",L.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:s(J,{value:"",disabled:!0,children:"Select Report"})})]})})]})})}),I(Pr,{children:[s(fe,{label:"Search",fullWidth:!0,variant:"outlined",placeholder:"Search...",value:C,onChange:he,InputProps:{startAdornment:s(Jn,{position:"start",children:s(on,{})})}}),s(lo,{setData:p,filteredData:w,setFilteredData:D,reports:o,setCurrentRow:F,setCurrentPage:z,setPerPage:N,handleClickOpen:j,openModal:$,juniors:r.juniors,totalRows:m,loading:g,data:u,allInCharges:r.allInCharges,jurisdictions:n,users:a,reports_with_daily_works:l})]})]})})})]})});Ms.layout=e=>s(ea,{children:e});export{Ms as default};
