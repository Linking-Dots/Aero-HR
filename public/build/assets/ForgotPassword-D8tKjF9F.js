import{p as g,q as y,r as f,a as i,b as e,Q as H,t as M,F as x,h as P,a2 as R}from"./app-cbrZIJav.js";import{ai as b,aj as C,u as N,G as v,d as L,B as s,l as O,N as w,a as T,T as D,A as V}from"./App-CURzoPWw.js";import{C as z}from"./CardContent-D1khwn-F.js";import"./app-CcJ9IVG5.js";var c={},_;function F(){if(_)return c;_=1;var r=b();Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0;var a=r(C()),n=g();return c.default=(0,a.default)((0,n.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),c}var K=F();const W=y(K);var m={},E;function k(){if(E)return m;E=1;var r=b();Object.defineProperty(m,"__esModule",{value:!0}),m.default=void 0;var a=r(C()),n=g();return m.default=(0,a.default)((0,n.jsx)("path",{d:"M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2"}),"VpnKey"),m}var A=k();const G=y(A);var p={},j;function B(){if(j)return p;j=1;var r=b();Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var a=r(C()),n=g();return p.default=(0,a.default)((0,n.jsx)("path",{d:"M2 17h20v2H2zm1.15-4.05L4 11.47l.85 1.48 1.3-.75-.85-1.48H7v-1.5H5.3l.85-1.47L4.85 7 4 8.47 3.15 7l-1.3.75.85 1.47H1v1.5h1.7l-.85 1.48zm6.7-.75 1.3.75.85-1.48.85 1.48 1.3-.75-.85-1.48H15v-1.5h-1.7l.85-1.47-1.3-.75L12 8.47 11.15 7l-1.3.75.85 1.47H9v1.5h1.7zM23 9.22h-1.7l.85-1.47-1.3-.75L20 8.47 19.15 7l-1.3.75.85 1.47H17v1.5h1.7l-.85 1.48 1.3.75.85-1.48.85 1.48 1.3-.75-.85-1.48H23z"}),"Password"),p}var Q=B();const I=y(Q);function Z(){N();const[r,a]=f.useState({email:"",otp:"",newPassword:"",confirmPassword:""}),[n,h]=f.useState(!1),[l,u]=f.useState({}),[d,q]=f.useState(1),S=o=>{o.preventDefault(),h(!0),d===1?axios.post(route("password.send-otp"),{email:r.email}).then(t=>{u({}),q(2)}).catch(t=>{console.error(t),console.error("Password reset OTP request failed:",t.response.data.errors),u(t.response.data.errors)}).finally(()=>{h(!1)}):d===2?axios.post(route("password.verify"),{email:r.email,otp:r.otp}).then(t=>{u({}),q(3)}).catch(t=>{console.error(t),console.error("OTP verification failed:",t.response.data.errors),u(t.response.data.errors)}).finally(()=>{h(!1)}):d===3&&axios.post(route("password.reset-custom"),{email:r.email,newPassword:r.newPassword,newPassword_confirmation:r.confirmPassword}).then(t=>{R.get(route("login"))}).catch(t=>{console.error(t),console.error("Password reset failed:",t.response.data.errors),u(t.response.data.errors)}).finally(()=>{h(!1)})};return i(V,{children:[e(H,{title:"Forgot Password"}),e(s,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",p:2},children:e(v,{container:!0,spacing:2,justifyContent:"center",children:e(v,{item:!0,xs:12,md:8,lg:6,xl:5,children:e(L,{children:i(z,{children:[e(s,{textAlign:"center",children:e(M,{style:{alignItems:"center",display:"inline-flex"},href:route("dashboard"),className:"d-inline-block auth-logo",children:e("img",{src:O,alt:"Logo",className:"h-24 md:h-40 sm:h-40 xs:h-10"})})}),e(s,{mt:4,children:i("form",{onSubmit:S,children:[d===1&&i(x,{children:[e(s,{mb:3,children:e(w,{isClearable:!0,type:"email",label:"Enter your email address",variant:"underlined",id:"email",name:"email",value:r.email||"",onChange:o=>{a({...r,email:o.target.value})},required:!0,fullWidth:!0,isInvalid:!!l.email,errorMessage:l.email,placeholder:"you@example.com",labelPlacement:"outside",startContent:e(W,{className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"})})}),e(s,{mt:4,children:e(P,{fullWidth:!0,variant:"bordered",color:"primary",type:"submit",isLoading:n,children:"Send OTP"})})]}),d===2&&i(x,{children:[e(s,{mb:3,children:e(w,{isClearable:!0,type:"text",label:"Enter OTP sent to your email",variant:"underlined",id:"otp",name:"otp",value:r.otp||"",onChange:o=>{a({...r,otp:o.target.value})},required:!0,fullWidth:!0,isInvalid:!!l.otp,errorMessage:l.otp,placeholder:"Enter the OTP",labelPlacement:"outside",startContent:e(G,{className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"})})}),e(s,{mt:4,children:e(P,{fullWidth:!0,variant:"bordered",color:"primary",type:"submit",isLoading:n,children:"Verify OTP"})})]}),d===3&&i(x,{children:[e(s,{mb:4,children:e(w,{label:"New Password",id:"newPassword",name:"newPassword",variant:"underlined",startContent:e(I,{className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"}),type:"password",value:r.newPassword||"",onChange:o=>{a({...r,newPassword:o.target.value})},required:!0,isInvalid:!!l.newPassword,errorMessage:l.newPassword,placeholder:"Enter new password",labelPlacement:"outside"})}),e(s,{mb:4,children:e(w,{isClearable:!0,type:"password",label:"Confirm New Password",variant:"underlined",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword||"",onChange:o=>{a({...r,confirmPassword:o.target.value})},required:!0,fullWidth:!0,isInvalid:!!l.confirmPassword,errorMessage:l.confirmPassword,placeholder:"Confirm new password",labelPlacement:"outside",startContent:e(I,{className:"text-2xl text-default-400 pointer-events-none flex-shrink-0"})})}),e(s,{mt:4,children:e(P,{fullWidth:!0,variant:"bordered",color:"primary",type:"submit",isLoading:n,children:"Reset Password"})})]})]})})]})})})})}),e("footer",{children:e(T,{children:e(v,{container:!0,justifyContent:"center",children:e(v,{item:!0,xs:12,textAlign:"center",children:i(D,{variant:"body2",color:"text.secondary",children:["Â© ",new Date().getFullYear()," Emam Hosen. Crafted with ",e("i",{className:"mdi mdi-heart text-danger"})]})})})})})]})}export{Z as default};
