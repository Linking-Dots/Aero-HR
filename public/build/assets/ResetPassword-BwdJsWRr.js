import{x as W,r as m,b as s,j as e,Q as R}from"./app-_fBEAKGv.js";import{B as V,A}from"./Button-Crz0Z05X.js";import{u as I,m as t}from"./logo-Doov_oAp.js";import{F as $,a as j}from"./ShieldCheckIcon-CFNet5UT.js";import{F as y}from"./EyeSlashIcon-CISsO60e.js";import{F as g}from"./EyeIcon-DdllO4B6.js";import{F as b}from"./LockClosedIcon-DvGVgIQj.js";import{i as f}from"./chunk-6MDMHKHV-DPPAXvv7.js";import"./app-CX8GSXRI.js";import"./clsx.m-CH7BE6MN.js";import"./create-visual-element-COMdWoDg.js";import"motion-dom";function H({token:x,email:h}){const{data:n,setData:l,post:v,processing:d,errors:o,reset:k}=W({token:x,email:h,verification_code:"",password:"",password_confirmation:""}),[c,N]=m.useState(0),[p,C]=m.useState(!1),[u,F]=m.useState(!1),r=I(),P=a=>{let i=0;return a.length>=8&&(i+=1),/[a-z]/.test(a)&&(i+=1),/[A-Z]/.test(a)&&(i+=1),/[0-9]/.test(a)&&(i+=1),/[^A-Za-z0-9]/.test(a)&&(i+=1),i},S=a=>{const i=a.target.value;l("password",i),N(P(i))},_=()=>{switch(c){case 0:case 1:return"Very weak";case 2:return"Weak";case 3:return"Fair";case 4:return"Good";case 5:return"Strong";default:return""}},w=()=>{switch(c){case 0:case 1:return r.palette.error.main;case 2:return"#f59e0b";case 3:return"#eab308";case 4:return r.palette.primary.main;case 5:return r.palette.success.main;default:return r.palette.grey[300]}};return s(A,{title:"Set new password",subtitle:"Enter the verification code and create a new secure password",children:[e(R,{title:"Reset Password"}),s("form",{onSubmit:a=>{a.preventDefault(),v(route("password.update"),{onFinish:()=>k("password","password_confirmation")})},className:"space-y-6",children:[e(t.div,{className:"p-4 rounded-xl border",style:{background:r.palette.mode==="dark"?"rgba(255, 255, 255, 0.05)":"rgba(255, 255, 255, 0.8)",borderColor:r.palette.mode==="dark"?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.1)",backdropFilter:"blur(10px)"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:s("p",{className:"text-sm",style:{color:r.palette.text.secondary},children:["Resetting password for: ",e("span",{className:"font-medium",style:{color:r.palette.text.primary},children:h})]})}),s(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[e(f,{type:"text",label:"Verification code",placeholder:"Enter 6-digit code from email",value:n.verification_code,onChange:a=>l("verification_code",a.target.value),isInvalid:!!o.verification_code,errorMessage:o.verification_code,autoComplete:"one-time-code",autoFocus:!0,maxLength:6,required:!0,startContent:e($,{className:"w-4 h-4 text-default-400 pointer-events-none flex-shrink-0"}),classNames:{base:"w-full",mainWrapper:"w-full",input:["bg-transparent","text-black dark:text-white","placeholder:text-default-700/50 dark:placeholder:text-white/60"],innerWrapper:"bg-transparent",inputWrapper:["shadow-xl","bg-default-200/50","dark:bg-default/60","backdrop-blur-xl","backdrop-saturate-200","hover:bg-default-200/70","dark:hover:bg-default/70","group-data-[focused=true]:bg-default-200/50","dark:group-data-[focused=true]:bg-default/60","!cursor-text"]}}),e(t.p,{className:"text-xs mt-2",style:{color:r.palette.text.secondary},initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:"Check your email for the 6-digit verification code"})]}),e(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:s("div",{children:[e(f,{type:p?"text":"password",label:"New password",placeholder:"Create a strong password",value:n.password,onChange:S,isInvalid:!!o.password,errorMessage:o.password,autoComplete:"new-password",required:!0,startContent:e(b,{className:"w-4 h-4 text-default-400 pointer-events-none flex-shrink-0"}),endContent:e("button",{className:"focus:outline-none",type:"button",onClick:()=>C(!p),children:p?e(y,{className:"w-4 h-4 text-default-400 pointer-events-none"}):e(g,{className:"w-4 h-4 text-default-400 pointer-events-none"})}),classNames:{base:"w-full",mainWrapper:"w-full",input:["bg-transparent","text-black dark:text-white","placeholder:text-default-700/50 dark:placeholder:text-white/60"],innerWrapper:"bg-transparent",inputWrapper:["shadow-xl","bg-default-200/50","dark:bg-default/60","backdrop-blur-xl","backdrop-saturate-200","hover:bg-default-200/70","dark:hover:bg-default/70","group-data-[focused=true]:bg-default-200/50","dark:group-data-[focused=true]:bg-default/60","!cursor-text"]}}),n.password&&s(t.div,{className:"mt-3 space-y-2",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.4},children:[s("div",{className:"flex items-center space-x-3",children:[e("div",{className:"flex-1 h-2 rounded-full overflow-hidden",style:{backgroundColor:r.palette.grey[200]},children:e(t.div,{className:"h-full rounded-full transition-all duration-500",style:{backgroundColor:w()},initial:{width:0},animate:{width:`${c/5*100}%`}})}),e(t.span,{className:"text-xs font-medium w-20 text-right",style:{color:w()},initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:_()})]}),e(t.p,{className:"text-xs",style:{color:r.palette.text.secondary},initial:{opacity:0,y:-5},animate:{opacity:1,y:0},transition:{delay:.3},children:"Use 8+ characters with uppercase, lowercase, numbers, and symbols"})]})]})}),e(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:e(f,{type:u?"text":"password",label:"Confirm new password",placeholder:"Confirm your new password",value:n.password_confirmation,onChange:a=>l("password_confirmation",a.target.value),isInvalid:!!o.password_confirmation,errorMessage:o.password_confirmation,autoComplete:"new-password",required:!0,startContent:e(b,{className:"w-4 h-4 text-default-400 pointer-events-none flex-shrink-0"}),endContent:e("button",{className:"focus:outline-none",type:"button",onClick:()=>F(!u),children:u?e(y,{className:"w-4 h-4 text-default-400 pointer-events-none"}):e(g,{className:"w-4 h-4 text-default-400 pointer-events-none"})}),classNames:{base:"w-full",mainWrapper:"w-full",input:["bg-transparent","text-black dark:text-white","placeholder:text-default-700/50 dark:placeholder:text-white/60"],innerWrapper:"bg-transparent",inputWrapper:["shadow-xl","bg-default-200/50","dark:bg-default/60","backdrop-blur-xl","backdrop-saturate-200","hover:bg-default-200/70","dark:hover:bg-default/70","group-data-[focused=true]:bg-default-200/50","dark:group-data-[focused=true]:bg-default/60","!cursor-text"]}})}),e(t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:e(V,{type:"submit",variant:"primary",size:"lg",className:"w-full",loading:d,disabled:d,children:d?"Updating password...":"Update password"})})]}),e(t.div,{className:"mt-8 p-4 rounded-xl border",style:{background:"rgba(34, 197, 94, 0.1)",borderColor:"rgba(34, 197, 94, 0.2)",backdropFilter:"blur(10px)"},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:s("div",{className:"flex items-start",children:[e(t.div,{className:"flex-shrink-0",initial:{scale:0},animate:{scale:1},transition:{delay:.7,type:"spring",stiffness:500},children:e(j,{className:"w-5 h-5 text-green-500"})}),s("div",{className:"ml-3",children:[e(t.h3,{className:"text-sm font-medium text-green-800",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.8},children:"Secure Password Reset"}),s(t.div,{className:"text-sm text-green-700 mt-2 space-y-1",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.9},children:[e("p",{children:"• Your password reset is protected with two-factor verification"}),e("p",{children:"• All sessions will be invalidated after password change"}),e("p",{children:"• This activity is logged for security monitoring"})]})]})]})})]})}export{H as default};
