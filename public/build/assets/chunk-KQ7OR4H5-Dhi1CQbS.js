import{r as p,R as F,ak as $t,au as bt,w as S}from"./vendor-B6hDaovV.js";import{D as gt,E as ht,H as Le,I as wt,J as Et,K as Tt,n as Pt,L as yt,M as je,N as xt,O as Lt,u as Ct,P as Ht,Q as St,s as Y,R as Be,p as Ot,w as Mt,S as Dt,T as It,U as Rt,V as kt,X as At,Z as Ft}from"./app-BlUtopFH.js";import{$ as Nt}from"./DOMLayoutDelegate-DQ8H1B3H.js";import{w as Wt}from"./useFormValidationState-YP8sap9k.js";const zt=1500,Ke=500;let z={},jt=0,ee=!1,I=null,j=null;function Bt(e={}){let{delay:t=zt,closeDelay:n=Ke}=e,{isOpen:o,open:r,close:a}=gt(e),i=p.useMemo(()=>`${++jt}`,[]),l=p.useRef(),f=()=>{z[i]=m},c=()=>{for(let s in z)s!==i&&(z[s](!0),delete z[s])},u=()=>{clearTimeout(l.current),l.current=null,c(),f(),ee=!0,r(),I&&(clearTimeout(I),I=null),j&&(clearTimeout(j),j=null)},m=s=>{s||n<=0?(clearTimeout(l.current),l.current=null,a()):l.current||(l.current=setTimeout(()=>{l.current=null,a()},n)),I&&(clearTimeout(I),I=null),ee&&(j&&clearTimeout(j),j=setTimeout(()=>{delete z[i],j=null,ee=!1},Math.max(Ke,n)))},v=()=>{c(),f(),!o&&!I&&!ee?I=setTimeout(()=>{I=null,ee=!0,u()},t):o||u()};return p.useEffect(()=>()=>{clearTimeout(l.current),z[i]&&delete z[i]},[i]),{isOpen:o,open:s=>{!s&&t>0&&!l.current?v():u()},close:m}}const K=typeof document<"u"?F.useLayoutEffect:()=>{};function Ce(e){const t=p.useRef(null);return K(()=>{t.current=e},[e]),p.useCallback((...n)=>{const o=t.current;return o==null?void 0:o(...n)},[])}let Kt=!!(typeof window<"u"&&window.document&&window.document.createElement),me=new Map;function Ut(e){let[t,n]=p.useState(e),o=p.useRef(null),r=ht(t),a=p.useCallback(i=>{o.current=i},[]);return Kt&&me.set(r,a),K(()=>{let i=r;return()=>{me.delete(i)}},[r]),p.useEffect(()=>{let i=o.current;i&&(o.current=null,n(i))}),r}function Vt(e,t){if(e===t)return e;let n=me.get(e);if(n)return n(t),t;let o=me.get(t);return o?(o(e),e):t}function ve(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const oe=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},He=e=>e&&"window"in e&&e.window===e?e:oe(e).defaultView||window;function B(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let o=e[n];for(let r in o){let a=t[r],i=o[r];typeof a=="function"&&typeof i=="function"&&r[0]==="o"&&r[1]==="n"&&r.charCodeAt(2)>=65&&r.charCodeAt(2)<=90?t[r]=ve(a,i):(r==="className"||r==="UNSAFE_className")&&typeof a=="string"&&typeof i=="string"?t[r]=$t(a,i):r==="id"&&a&&i?t.id=Vt(a,i):t[r]=i!==void 0?i:a}}return t}const Yt=new Set(["id"]),Xt=new Set(["aria-label","aria-labelledby","aria-describedby","aria-details"]),Gt=new Set(["href","hrefLang","target","rel","download","ping","referrerPolicy"]),Zt=/^(data-.*)$/;function qt(e,t={}){let{labelable:n,isLink:o,propNames:r}=t,a={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(Yt.has(i)||n&&Xt.has(i)||o&&Gt.has(i)||r!=null&&r.has(i)||Zt.test(i))&&(a[i]=e[i]);return a}function Ie(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function Re(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function nt(){return Re(/^Mac/i)}function Jt(){return Re(/^iPhone/i)}function Qt(){return Re(/^iPad/i)||nt()&&navigator.maxTouchPoints>1}function _t(){return Jt()||Qt()}function en(){return Ie(/AppleWebKit/i)&&!tn()}function tn(){return Ie(/Chrome/i)}function nn(){return Ie(/Android/i)}function on(){return typeof window.ResizeObserver<"u"}function rn(e){const{ref:t,onResize:n}=e;p.useEffect(()=>{let o=t==null?void 0:t.current;if(o)if(on()){const r=new window.ResizeObserver(a=>{a.length&&n()});return r.observe(o),()=>{o&&r.unobserve(o)}}else return window.addEventListener("resize",n,!1),()=>{window.removeEventListener("resize",n,!1)}},[n,t])}function Ue(e,t){let n=window.getComputedStyle(e),o=/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY);return o&&t&&(o=e.scrollHeight!==e.clientHeight||e.scrollWidth!==e.clientWidth),o}function ot(e,t){let n=e;for(Ue(n,t)&&(n=n.parentElement);n&&!Ue(n,t);)n=n.parentElement;return n||document.scrollingElement||document.documentElement}function ln(e){return e.mozInputSource===0&&e.isTrusted?!0:nn()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}class an{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(t,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=t}}function sn(e){let t=p.useRef({isFocused:!1,observer:null});K(()=>{const o=t.current;return()=>{o.observer&&(o.observer.disconnect(),o.observer=null)}},[]);let n=Ce(o=>{e==null||e(o)});return p.useCallback(o=>{if(o.target instanceof HTMLButtonElement||o.target instanceof HTMLInputElement||o.target instanceof HTMLTextAreaElement||o.target instanceof HTMLSelectElement){t.current.isFocused=!0;let r=o.target,a=i=>{t.current.isFocused=!1,r.disabled&&n(new an("blur",i)),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};r.addEventListener("focusout",a,{once:!0}),t.current.observer=new MutationObserver(()=>{if(t.current.isFocused&&r.disabled){var i;(i=t.current.observer)===null||i===void 0||i.disconnect();let l=r===document.activeElement?null:document.activeElement;r.dispatchEvent(new FocusEvent("blur",{relatedTarget:l})),r.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:l}))}}),t.current.observer.observe(r,{attributes:!0,attributeFilter:["disabled"]})}},[n])}let q=null,cn=new Set,ne=new Map,U=!1,Se=!1;function ke(e,t){for(let n of cn)n(e,t)}function un(e){return!(e.metaKey||!nt()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function $e(e){U=!0,un(e)&&(q="keyboard",ke("keyboard",e))}function M(e){q="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(U=!0,ke("pointer",e))}function rt(e){ln(e)&&(U=!0,q="virtual")}function lt(e){e.target===window||e.target===document||(!U&&!Se&&(q="virtual",ke("virtual",e)),U=!1,Se=!1)}function it(){U=!1,Se=!0}function Ve(e){if(typeof window>"u"||ne.get(He(e)))return;const t=He(e),n=oe(e);let o=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){U=!0,o.apply(this,arguments)},n.addEventListener("keydown",$e,!0),n.addEventListener("keyup",$e,!0),n.addEventListener("click",rt,!0),t.addEventListener("focus",lt,!0),t.addEventListener("blur",it,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",M,!0),n.addEventListener("pointermove",M,!0),n.addEventListener("pointerup",M,!0)):(n.addEventListener("mousedown",M,!0),n.addEventListener("mousemove",M,!0),n.addEventListener("mouseup",M,!0)),t.addEventListener("beforeunload",()=>{at(e)},{once:!0}),ne.set(t,{focus:o})}const at=(e,t)=>{const n=He(e),o=oe(e);t&&o.removeEventListener("DOMContentLoaded",t),ne.has(n)&&(n.HTMLElement.prototype.focus=ne.get(n).focus,o.removeEventListener("keydown",$e,!0),o.removeEventListener("keyup",$e,!0),o.removeEventListener("click",rt,!0),n.removeEventListener("focus",lt,!0),n.removeEventListener("blur",it,!1),typeof PointerEvent<"u"?(o.removeEventListener("pointerdown",M,!0),o.removeEventListener("pointermove",M,!0),o.removeEventListener("pointerup",M,!0)):(o.removeEventListener("mousedown",M,!0),o.removeEventListener("mousemove",M,!0),o.removeEventListener("mouseup",M,!0)),ne.delete(n))};function dn(e){const t=oe(e);let n;return t.readyState!=="loading"?Ve(e):(n=()=>{Ve(e)},t.addEventListener("DOMContentLoaded",n)),()=>at(e,n)}typeof document<"u"&&dn();function fn(){return q!=="pointer"}function pn(){return q}function mn(e){let{isDisabled:t,onBlurWithin:n,onFocusWithin:o,onFocusWithinChange:r}=e,a=p.useRef({isFocusWithin:!1}),i=p.useCallback(c=>{a.current.isFocusWithin&&!c.currentTarget.contains(c.relatedTarget)&&(a.current.isFocusWithin=!1,n&&n(c),r&&r(!1))},[n,r,a]),l=sn(i),f=p.useCallback(c=>{!a.current.isFocusWithin&&document.activeElement===c.target&&(o&&o(c),r&&r(!0),a.current.isFocusWithin=!0,l(c))},[o,r,l]);return t?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:f,onBlur:i}}}let be=!1,Te=0;function Oe(){be=!0,setTimeout(()=>{be=!1},50)}function Ye(e){e.pointerType==="touch"&&Oe()}function vn(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",Ye):document.addEventListener("touchend",Oe),Te++,()=>{Te--,!(Te>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",Ye):document.removeEventListener("touchend",Oe))}}function st(e){let{onHoverStart:t,onHoverChange:n,onHoverEnd:o,isDisabled:r}=e,[a,i]=p.useState(!1),l=p.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;p.useEffect(vn,[]);let{hoverProps:f,triggerHoverEnd:c}=p.useMemo(()=>{let u=(s,d)=>{if(l.pointerType=d,r||d==="touch"||l.isHovered||!s.currentTarget.contains(s.target))return;l.isHovered=!0;let b=s.currentTarget;l.target=b,t&&t({type:"hoverstart",target:b,pointerType:d}),n&&n(!0),i(!0)},m=(s,d)=>{if(l.pointerType="",l.target=null,d==="touch"||!l.isHovered)return;l.isHovered=!1;let b=s.currentTarget;o&&o({type:"hoverend",target:b,pointerType:d}),n&&n(!1),i(!1)},v={};return typeof PointerEvent<"u"?(v.onPointerEnter=s=>{be&&s.pointerType==="mouse"||u(s,s.pointerType)},v.onPointerLeave=s=>{!r&&s.currentTarget.contains(s.target)&&m(s,s.pointerType)}):(v.onTouchStart=()=>{l.ignoreEmulatedMouseEvents=!0},v.onMouseEnter=s=>{!l.ignoreEmulatedMouseEvents&&!be&&u(s,"mouse"),l.ignoreEmulatedMouseEvents=!1},v.onMouseLeave=s=>{!r&&s.currentTarget.contains(s.target)&&m(s,"mouse")}),{hoverProps:v,triggerHoverEnd:m}},[t,n,o,r,l]);return p.useEffect(()=>{r&&c({currentTarget:l.target},l.pointerType)},[r]),{hoverProps:f,isHovered:a}}function $n(e){let{ref:t,onInteractOutside:n,isDisabled:o,onInteractOutsideStart:r}=e,a=p.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),i=Ce(f=>{n&&de(f,t)&&(r&&r(f),a.current.isPointerDown=!0)}),l=Ce(f=>{n&&n(f)});p.useEffect(()=>{let f=a.current;if(o)return;const c=t.current,u=oe(c);if(typeof PointerEvent<"u"){let m=v=>{f.isPointerDown&&de(v,t)&&l(v),f.isPointerDown=!1};return u.addEventListener("pointerdown",i,!0),u.addEventListener("pointerup",m,!0),()=>{u.removeEventListener("pointerdown",i,!0),u.removeEventListener("pointerup",m,!0)}}else{let m=s=>{f.ignoreEmulatedMouseEvents?f.ignoreEmulatedMouseEvents=!1:f.isPointerDown&&de(s,t)&&l(s),f.isPointerDown=!1},v=s=>{f.ignoreEmulatedMouseEvents=!0,f.isPointerDown&&de(s,t)&&l(s),f.isPointerDown=!1};return u.addEventListener("mousedown",i,!0),u.addEventListener("mouseup",m,!0),u.addEventListener("touchstart",i,!0),u.addEventListener("touchend",v,!0),()=>{u.removeEventListener("mousedown",i,!0),u.removeEventListener("mouseup",m,!0),u.removeEventListener("touchstart",i,!0),u.removeEventListener("touchend",v,!0)}}},[t,o,i,l])}function de(e,t){if(e.button>0)return!1;if(e.target){const n=e.target.ownerDocument;if(!n||!n.documentElement.contains(e.target)||e.target.closest("[data-react-aria-top-layer]"))return!1}return t.current&&!t.current.contains(e.target)}function bn(e,t){let n=qt(e,{labelable:!0}),{hoverProps:o}=st({onHoverStart:()=>t==null?void 0:t.open(!0),onHoverEnd:()=>t==null?void 0:t.close()});return{tooltipProps:B(n,o,{role:"tooltip"})}}function gn(e,t,n){let{isDisabled:o,trigger:r}=e,a=Ut(),i=p.useRef(!1),l=p.useRef(!1),f=()=>{(i.current||l.current)&&t.open(l.current)},c=g=>{!i.current&&!l.current&&t.close(g)};p.useEffect(()=>{let g=h=>{n&&n.current&&h.key==="Escape"&&(h.stopPropagation(),t.close(!0))};if(t.isOpen)return document.addEventListener("keydown",g,!0),()=>{document.removeEventListener("keydown",g,!0)}},[n,t]);let u=()=>{r!=="focus"&&(pn()==="pointer"?i.current=!0:i.current=!1,f())},m=()=>{r!=="focus"&&(l.current=!1,i.current=!1,c())},v=()=>{l.current=!1,i.current=!1,c(!0)},s=()=>{fn()&&(l.current=!0,f())},d=()=>{l.current=!1,i.current=!1,c(!0)},{hoverProps:b}=st({isDisabled:o,onHoverStart:u,onHoverEnd:m}),{focusableProps:$}=Nt({isDisabled:o,onFocus:s,onBlur:d},n);return{triggerProps:{"aria-describedby":t.isOpen?a:void 0,...B($,b,{onPointerDown:v,onKeyDown:v})},tooltipProps:{id:a}}}const X={top:"top",bottom:"top",left:"left",right:"left"},ge={top:"bottom",bottom:"top",left:"right",right:"left"},hn={top:"left",left:"top"},Me={top:"height",left:"width"},ct={width:"totalWidth",height:"totalHeight"},fe={};let L=typeof document<"u"&&window.visualViewport;function Xe(e){let t=0,n=0,o=0,r=0,a=0,i=0,l={},f=(L==null?void 0:L.scale)>1;if(e.tagName==="BODY"){let m=document.documentElement;o=m.clientWidth,r=m.clientHeight;var c;t=(c=L==null?void 0:L.width)!==null&&c!==void 0?c:o;var u;n=(u=L==null?void 0:L.height)!==null&&u!==void 0?u:r,l.top=m.scrollTop||e.scrollTop,l.left=m.scrollLeft||e.scrollLeft,L&&(a=L.offsetTop,i=L.offsetLeft)}else({width:t,height:n,top:a,left:i}=Z(e)),l.top=e.scrollTop,l.left=e.scrollLeft,o=t,r=n;return en()&&(e.tagName==="BODY"||e.tagName==="HTML")&&f&&(l.top=0,l.left=0,a=L.pageTop,i=L.pageLeft),{width:t,height:n,totalWidth:o,totalHeight:r,scroll:l,top:a,left:i}}function wn(e){return{top:e.scrollTop,left:e.scrollLeft,width:e.scrollWidth,height:e.scrollHeight}}function Ge(e,t,n,o,r,a,i){let l=r.scroll[e],f=o[Me[e]],c=o.scroll[X[e]]+a,u=f+o.scroll[X[e]]-a,m=t-l+i[e]-o[X[e]],v=t-l+n+i[e]-o[X[e]];return m<c?c-m:v>u?Math.max(u-v,c-m):0}function En(e){let t=window.getComputedStyle(e);return{top:parseInt(t.marginTop,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0,right:parseInt(t.marginRight,10)||0}}function Ze(e){if(fe[e])return fe[e];let[t,n]=e.split(" "),o=X[t]||"right",r=hn[o];X[n]||(n="center");let a=Me[o],i=Me[r];return fe[e]={placement:t,crossPlacement:n,axis:o,crossAxis:r,size:a,crossSize:i},fe[e]}function Pe(e,t,n,o,r,a,i,l,f,c){let{placement:u,crossPlacement:m,axis:v,crossAxis:s,size:d,crossSize:b}=o,$={};$[s]=e[s],m==="center"?$[s]+=(e[b]-n[b])/2:m!==s&&($[s]+=e[b]-n[b]),$[s]+=a;const g=e[s]-n[b]+f+c,h=e[s]+e[b]-f-c;if($[s]=Le($[s],g,h),u===v){const T=l?i[d]:t[ct[d]];$[ge[v]]=Math.floor(T-e[v]+r)}else $[v]=Math.floor(e[v]+e[d]+r);return $}function Tn(e,t,n,o,r,a,i,l){const f=o?n.height:t[ct.height];let c=e.top!=null?n.top+e.top:n.top+(f-e.bottom-i),u=l!=="top"?Math.max(0,t.height+t.top+t.scroll.top-c-(r.top+r.bottom+a)):Math.max(0,c+i-(t.top+t.scroll.top)-(r.top+r.bottom+a));return Math.min(t.height-a*2,u)}function qe(e,t,n,o,r,a){let{placement:i,axis:l,size:f}=a;return i===l?Math.max(0,n[l]-e[l]-e.scroll[l]+t[l]-o[l]-o[ge[l]]-r):Math.max(0,e[f]+e[l]+e.scroll[l]-t[l]-n[l]-n[f]-o[l]-o[ge[l]]-r)}function Pn(e,t,n,o,r,a,i,l,f,c,u,m,v,s,d,b){let $=Ze(e),{size:g,crossAxis:h,crossSize:T,placement:P,crossPlacement:C}=$,w=Pe(t,l,n,$,u,m,c,v,d,b),k=u,y=qe(l,c,t,r,a+u,$);if(i&&o[g]>y){let Q=Ze(`${ge[P]} ${C}`),_=Pe(t,l,n,Q,u,m,c,v,d,b);qe(l,c,t,r,a+u,Q)>y&&($=Q,w=_,k=u)}let x="bottom";$.axis==="top"?$.placement==="top"?x="top":$.placement==="bottom"&&(x="bottom"):$.crossAxis==="top"&&($.crossPlacement==="top"?x="bottom":$.crossPlacement==="bottom"&&(x="top"));let O=Ge(h,w[h],n[T],l,f,a,c);w[h]+=O;let H=Tn(w,l,c,v,r,a,n.height,x);s&&s<H&&(H=s),n.height=Math.min(n.height,H),w=Pe(t,l,n,$,k,m,c,v,d,b),O=Ge(h,w[h],n[T],l,f,a,c),w[h]+=O;let A={},he=t[h]+.5*t[T]-w[h];const re=d/2+b,we=n[T]-d/2-b,N=t[h]-w[h]+d/2,Ee=t[h]+t[T]-w[h]-d/2,J=Le(he,N,Ee);return A[h]=Le(J,re,we),{position:w,maxHeight:H,arrowOffsetLeft:A.left,arrowOffsetTop:A.top,placement:$.placement}}function yn(e){let{placement:t,targetNode:n,overlayNode:o,scrollNode:r,padding:a,shouldFlip:i,boundaryElement:l,offset:f,crossOffset:c,maxHeight:u,arrowSize:m=0,arrowBoundaryOffset:v=0}=e,s=o instanceof HTMLElement?xn(o):document.documentElement,d=s===document.documentElement;const b=window.getComputedStyle(s).position;let $=!!b&&b!=="static",g=d?Z(n):Je(n,s);if(!d){let{marginTop:y,marginLeft:x}=window.getComputedStyle(n);g.top+=parseInt(y,10)||0,g.left+=parseInt(x,10)||0}let h=Z(o),T=En(o);h.width+=T.left+T.right,h.height+=T.top+T.bottom;let P=wn(r),C=Xe(l),w=Xe(s),k=l.tagName==="BODY"?Z(s):Je(s,l);return s.tagName==="HTML"&&l.tagName==="BODY"&&(w.scroll.top=0,w.scroll.left=0),Pn(t,g,h,P,T,a,i,C,w,k,f,c,$,u,m,v)}function Z(e){let{top:t,left:n,width:o,height:r}=e.getBoundingClientRect(),{scrollTop:a,scrollLeft:i,clientTop:l,clientLeft:f}=document.documentElement;return{top:t+a-l,left:n+i-f,width:o,height:r}}function Je(e,t){let n=window.getComputedStyle(e),o;if(n.position==="fixed"){let{top:r,left:a,width:i,height:l}=e.getBoundingClientRect();o={top:r,left:a,width:i,height:l}}else{o=Z(e);let r=Z(t),a=window.getComputedStyle(t);r.top+=(parseInt(a.borderTopWidth,10)||0)-t.scrollTop,r.left+=(parseInt(a.borderLeftWidth,10)||0)-t.scrollLeft,o.top-=r.top,o.left-=r.left}return o.top-=parseInt(n.marginTop,10)||0,o.left-=parseInt(n.marginLeft,10)||0,o}function xn(e){let t=e.offsetParent;if(t&&t===document.body&&window.getComputedStyle(t).position==="static"&&!Qe(t)&&(t=document.documentElement),t==null)for(t=e.parentElement;t&&!Qe(t);)t=t.parentElement;return t||document.documentElement}function Qe(e){let t=window.getComputedStyle(e);return t.transform!=="none"||/transform|perspective/.test(t.willChange)||t.filter!=="none"||t.contain==="paint"||"backdropFilter"in t&&t.backdropFilter!=="none"||"WebkitBackdropFilter"in t&&t.WebkitBackdropFilter!=="none"}const Ln=new WeakMap;function Cn(e){let{triggerRef:t,isOpen:n,onClose:o}=e;p.useEffect(()=>{if(!n||o===null)return;let r=a=>{let i=a.target;if(!t.current||i instanceof Node&&!i.contains(t.current))return;let l=o||Ln.get(t.current);l&&l()};return window.addEventListener("scroll",r,!0),()=>{window.removeEventListener("scroll",r,!0)}},[n,o,t])}let E=typeof document<"u"&&window.visualViewport;function Hn(e){let{direction:t}=wt(),{arrowSize:n=0,targetRef:o,overlayRef:r,scrollRef:a=r,placement:i="bottom",containerPadding:l=12,shouldFlip:f=!0,boundaryElement:c=typeof document<"u"?document.body:null,offset:u=0,crossOffset:m=0,shouldUpdatePosition:v=!0,isOpen:s=!0,onClose:d,maxHeight:b,arrowBoundaryOffset:$=0}=e,[g,h]=p.useState({position:{},arrowOffsetLeft:void 0,arrowOffsetTop:void 0,maxHeight:void 0,placement:void 0}),T=[v,i,r.current,o.current,a.current,l,f,c,u,m,s,t,b,$,n],P=p.useRef(E==null?void 0:E.scale);p.useEffect(()=>{s&&(P.current=E==null?void 0:E.scale)},[s]);let C=p.useCallback(()=>{if(v===!1||!s||!r.current||!o.current||!a.current||!c||(E==null?void 0:E.scale)!==P.current)return;let y=r.current;if(!b&&r.current){var x;y.style.top="0px",y.style.bottom="";var O;y.style.maxHeight=((O=(x=window.visualViewport)===null||x===void 0?void 0:x.height)!==null&&O!==void 0?O:window.innerHeight)+"px"}let H=yn({placement:On(i,t),overlayNode:r.current,targetNode:o.current,scrollNode:a.current,padding:l,shouldFlip:f,boundaryElement:c,offset:u,crossOffset:m,maxHeight:b,arrowSize:n,arrowBoundaryOffset:$});y.style.top="",y.style.bottom="",Object.keys(H.position).forEach(A=>y.style[A]=H.position[A]+"px"),y.style.maxHeight=H.maxHeight!=null?H.maxHeight+"px":void 0,h(H)},T);K(C,T),Sn(C),rn({ref:r,onResize:C});let w=p.useRef(!1);K(()=>{let y,x=()=>{w.current=!0,clearTimeout(y),y=setTimeout(()=>{w.current=!1},500),C()},O=()=>{w.current&&x()};return E==null||E.addEventListener("resize",x),E==null||E.addEventListener("scroll",O),()=>{E==null||E.removeEventListener("resize",x),E==null||E.removeEventListener("scroll",O)}},[C]);let k=p.useCallback(()=>{w.current||d()},[d,w]);return Cn({triggerRef:o,isOpen:s,onClose:d&&k}),{overlayProps:{style:{position:"absolute",zIndex:1e5,...g.position,maxHeight:g.maxHeight}},placement:g.placement,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:g.arrowOffsetLeft,top:g.arrowOffsetTop}},updatePosition:C}}function Sn(e){K(()=>(window.addEventListener("resize",e,!1),()=>{window.removeEventListener("resize",e,!1)}),[e])}function On(e,t){return t==="rtl"?e.replace("start","right").replace("end","left"):e.replace("start","left").replace("end","right")}const R=[];function Mn(e,t){let{onClose:n,shouldCloseOnBlur:o,isOpen:r,isDismissable:a=!1,isKeyboardDismissDisabled:i=!1,shouldCloseOnInteractOutside:l}=e;p.useEffect(()=>(r&&R.push(t),()=>{let d=R.indexOf(t);d>=0&&R.splice(d,1)}),[r,t]);let f=()=>{R[R.length-1]===t&&n&&n()},c=d=>{(!l||l(d.target))&&R[R.length-1]===t&&(d.stopPropagation(),d.preventDefault())},u=d=>{(!l||l(d.target))&&(R[R.length-1]===t&&(d.stopPropagation(),d.preventDefault()),f())},m=d=>{d.key==="Escape"&&!i&&!d.nativeEvent.isComposing&&(d.stopPropagation(),d.preventDefault(),f())};$n({ref:t,onInteractOutside:a&&r?u:null,onInteractOutsideStart:c});let{focusWithinProps:v}=mn({isDisabled:!o,onBlurWithin:d=>{!d.relatedTarget||Et(d.relatedTarget)||(!l||l(d.relatedTarget))&&n()}}),s=d=>{d.target===d.currentTarget&&d.preventDefault()};return{overlayProps:{onKeyDown:m,...v},underlayProps:{onPointerDown:s}}}const ye=typeof document<"u"&&window.visualViewport,Dn=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let pe=0,xe;function In(e={}){let{isDisabled:t}=e;K(()=>{if(!t)return pe++,pe===1&&(_t()?xe=kn():xe=Rn()),()=>{pe--,pe===0&&xe()}},[t])}function Rn(){return ve(G(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),G(document.documentElement,"overflow","hidden"))}function kn(){let e,t,n=c=>{e=ot(c.target,!0),!(e===document.documentElement&&e===document.body)&&e instanceof HTMLElement&&window.getComputedStyle(e).overscrollBehavior==="auto"&&(t=G(e,"overscrollBehavior","contain"))},o=c=>{if(!e||e===document.documentElement||e===document.body){c.preventDefault();return}e.scrollHeight===e.clientHeight&&e.scrollWidth===e.clientWidth&&c.preventDefault()},r=c=>{let u=c.target;et(u)&&u!==document.activeElement&&(c.preventDefault(),l(),u.style.transform="translateY(-2000px)",u.focus(),requestAnimationFrame(()=>{u.style.transform=""})),t&&t()},a=c=>{let u=c.target;et(u)&&(l(),u.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{u.style.transform="",ye&&(ye.height<window.innerHeight?requestAnimationFrame(()=>{_e(u)}):ye.addEventListener("resize",()=>_e(u),{once:!0}))}))},i=null,l=()=>{if(i)return;let c=()=>{window.scrollTo(0,0)},u=window.pageXOffset,m=window.pageYOffset;i=ve(te(window,"scroll",c),G(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),G(document.documentElement,"overflow","hidden"),G(document.body,"marginTop",`-${m}px`),()=>{window.scrollTo(u,m)}),window.scrollTo(0,0)},f=ve(te(document,"touchstart",n,{passive:!1,capture:!0}),te(document,"touchmove",o,{passive:!1,capture:!0}),te(document,"touchend",r,{passive:!1,capture:!0}),te(document,"focus",a,!0));return()=>{t==null||t(),i==null||i(),f()}}function G(e,t,n){let o=e.style[t];return e.style[t]=n,()=>{e.style[t]=o}}function te(e,t,n,o){return e.addEventListener(t,n,o),()=>{e.removeEventListener(t,n,o)}}function _e(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=ot(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let o=n.getBoundingClientRect().top,r=e.getBoundingClientRect().top;r>o+e.clientHeight&&(n.scrollTop+=r-o)}e=n.parentElement}}function et(e){return e instanceof HTMLInputElement&&!Dn.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}const De=F.createContext(null);function An(e){let{children:t}=e,n=p.useContext(De),[o,r]=p.useState(0),a=p.useMemo(()=>({parent:n,modalCount:o,addModal(){r(i=>i+1),n&&n.addModal()},removeModal(){r(i=>i-1),n&&n.removeModal()}}),[n,o]);return F.createElement(De.Provider,{value:a},t)}function Fn(){let e=p.useContext(De);return{modalProviderProps:{"aria-hidden":e&&e.modalCount>0?!0:null}}}function Nn(e){let{modalProviderProps:t}=Fn();return F.createElement("div",{"data-overlay-container":!0,...e,...t})}function Wn(e){return F.createElement(An,null,F.createElement(Nn,e))}function tt(e){let t=Tt(),{portalContainer:n=t?null:document.body,...o}=e;if(F.useEffect(()=>{if(n!=null&&n.closest("[data-overlay-container]"))throw new Error("An OverlayContainer must not be inside another container. Please change the portalContainer prop.")},[n]),!n)return null;let r=F.createElement(Wn,o);return bt.createPortal(r,n)}function zn(e){var t,n;const o=Pt(),[r,a]=yt(e,je.variantKeys),{ref:i,as:l,isOpen:f,content:c,children:u,defaultOpen:m,onOpenChange:v,isDisabled:s,trigger:d,shouldFlip:b=!0,containerPadding:$=12,placement:g="top",delay:h=0,closeDelay:T=500,showArrow:P=!1,offset:C=7,crossOffset:w=0,isDismissable:k,shouldCloseOnBlur:y=!0,portalContainer:x,isKeyboardDismissDisabled:O=!1,updatePositionDeps:H=[],shouldCloseOnInteractOutside:A,className:he,onClose:re,motionProps:we,classNames:N,shouldBlockScroll:Ee=!0,...J}=r,Q=l||"div",_=(n=(t=e==null?void 0:e.disableAnimation)!=null?t:o==null?void 0:o.disableAnimation)!=null?n:!1,V=Bt({delay:h,closeDelay:T,isDisabled:s,defaultOpen:m,isOpen:f,onOpenChange:W=>{v==null||v(W),W||re==null||re()}}),le=p.useRef(null),ie=p.useRef(null),ae=p.useId(),D=V.isOpen&&!s;p.useImperativeHandle(i,()=>xt(ie)),In({isDisabled:!(Ee&&D)});const{triggerProps:Ae,tooltipProps:dt}=gn({isDisabled:s,trigger:d},V,le),{tooltipProps:Fe}=bn({isOpen:D,...B(r,dt)},V),{overlayProps:Ne,placement:se,updatePosition:ft}=Hn({isOpen:D,targetRef:le,placement:Lt(g),overlayRef:ie,offset:P?C+3:C,crossOffset:w,shouldFlip:b,containerPadding:$});Ct(()=>{H.length&&ft()},H);const{overlayProps:We}=Mn({isOpen:D,onClose:V.close,isDismissable:k,shouldCloseOnBlur:y,isKeyboardDismissDisabled:O,shouldCloseOnInteractOutside:A},ie),ce=p.useMemo(()=>{var W,ue,ze;return je({...a,disableAnimation:_,radius:(W=e==null?void 0:e.radius)!=null?W:"md",size:(ue=e==null?void 0:e.size)!=null?ue:"md",shadow:(ze=e==null?void 0:e.shadow)!=null?ze:"sm"})},[Ht(a),_,e==null?void 0:e.radius,e==null?void 0:e.size,e==null?void 0:e.shadow]),pt=p.useCallback((W={},ue=null)=>({...B(Ae,W),ref:St(ue,le),"aria-describedby":D?ae:void 0}),[Ae,D,ae,V]),mt=p.useCallback(()=>({ref:ie,"data-slot":"base","data-open":Y(D),"data-arrow":Y(P),"data-disabled":Y(s),"data-placement":Be(se,g),...B(Fe,We,J),style:B(Ne.style,J.style,r.style),className:ce.base({class:N==null?void 0:N.base}),id:ae}),[ce,D,P,s,se,g,Fe,We,J,Ne,r,ae]),vt=p.useCallback(()=>({"data-slot":"content","data-open":Y(D),"data-arrow":Y(P),"data-disabled":Y(s),"data-placement":Be(se,g),className:ce.content({class:Ot(N==null?void 0:N.content,he)})}),[ce,D,P,s,se,g,N]);return{Component:Q,content:c,children:u,isOpen:D,triggerRef:le,showArrow:P,portalContainer:x,placement:g,disableAnimation:_,isDisabled:s,motionProps:we,getTooltipContentProps:vt,getTriggerProps:pt,getTooltipProps:mt}}var ut=Mt((e,t)=>{const{Component:n,children:o,content:r,isOpen:a,portalContainer:i,placement:l,disableAnimation:f,motionProps:c,getTriggerProps:u,getTooltipProps:m,getTooltipContentProps:v}=zn({...e,ref:t});let s;try{if(p.Children.count(o)!==1)throw new Error;if(!p.isValidElement(o))s=S.jsx("p",{...u(),children:o});else{const P=o;s=p.cloneElement(P,u(P.props,P.ref))}}catch{s=S.jsx("span",{}),Wt("Tooltip must have only one child node. Please, check your code.")}const{ref:d,id:b,style:$,...g}=m(),h=S.jsx("div",{ref:d,id:b,style:$,children:S.jsx(Dt,{features:It,children:S.jsx(Rt.div,{animate:"enter",exit:"exit",initial:"exit",variants:kt.scaleSpring,...B(c,g),style:{...At(l)},children:S.jsx(n,{...v(),children:r})})})});return S.jsxs(S.Fragment,{children:[s,f&&a?S.jsx(tt,{portalContainer:i,children:S.jsx("div",{ref:d,id:b,style:$,...g,children:S.jsx(n,{...v(),children:r})})}):S.jsx(Ft,{children:a?S.jsx(tt,{portalContainer:i,children:h}):null})]})});ut.displayName="NextUI.Tooltip";var Vn=ut;export{Vn as t};
