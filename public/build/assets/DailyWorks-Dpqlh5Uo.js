import{r as $t,q as Ar,j as F,a as s,F as le,c as Yn,B as Te,Y as _r,G as jr}from"./app-C_hT4Oyg.js";import{p as pt,q as A,s as Nt,w as ft,x as gt,y as ve,T as Ee,r as g,ah as Oe,J as ge,_ as y,ak as qe,L as Qe,f as dt,u as Je,af as Lr,o as ht,B as ce,M as J,S as ze,a4 as Dn,P as Ft,b as ye,c as ke,X as zt,G as de,F as kt,h as Rt,V as $r,Y as Ht,Z as Vt,$ as Nr,j as zr,k as Hr,l as Cn,m as Dt,n as Vr,O as Wr,aq as c,au as en,ai as Br,an as re,am as Ur,Q as un,K as Xn,ag as $e,ap as Xe,ao as Tt,av as Kr,ar as Gn,e as Yr,g as Xr,a as Pn,I as Gr}from"./vendor-DYJuczRe.js";import{L as qr,d as Qr,A as Jr}from"./App-LMo44FcI.js";import{K as Zr,X as ea,N as wn,O as ta,Q as na,R as kn,q as ra,e as Ze,u as Wt,f as qn,h as Et,n as Rn,T as aa,U as oa,W as ia,Y as sa,l as la,o as ca,G as da,b as Qn,j as ua,d as pa,k as fa,Z as ga,p as ha,B as Sn,_ as ma,$ as ba,a0 as ya,a as In,a1 as va,P as xa,c as Mn,E as tn,v as Jn,w as Zn,a2 as Da,L as pn,x as Ca,a3 as Fn,A as er,F as Pa,H as wa,I as ka,J as Ra}from"./minMax-C46FWTVH.js";import{d as Sa}from"./Delete-BFDw3j9I.js";import{d as Ia}from"./dayjs.min-33VdPO6W.js";import{d as fn,G as Bt}from"./GlassDialog-IEn1zhTE.js";import{L as gn}from"./LoadingButton-BV-H27mq.js";import{D as nn,u as qt,w as Ma}from"./xlsx-4agzAUDh.js";import{d as Fa,p as Ta}from"./Search-BY8A04L2.js";import{C as Ea}from"./Clear-cRlhmG2W.js";import"./isBetween-cDr70IVw.js";const Oa=pt(A.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),Aa=pt(A.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description"),_a=pt(A.jsx("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm7 7V3.5L18.5 9z"}),"InsertDriveFile"),ja=pt(A.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf"),rn=pt(A.jsx("path",{d:"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z"}),"Upload");function et(e,t,n,r){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function i(h){try{p(r.next(h))}catch(v){l(v)}}function f(h){try{p(r.throw(h))}catch(v){l(v)}}function p(h){h.done?o(h.value):a(h.value).then(i,f)}p((r=r.apply(e,t||[])).next())})}function tt(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,a,o,l;return l={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function i(p){return function(h){return f([p,h])}}function f(p){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(r=1,a&&(o=p[0]&2?a.return:p[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,p[1])).done)return o;switch(a=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,a=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(h){p=[6,h],a=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function Tn(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,o=[],l;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(i){l={error:i}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return o}function En(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var hn={},La=Nt;Object.defineProperty(hn,"__esModule",{value:!0});var tr=hn.default=void 0,$a=La($t()),Na=A;tr=hn.default=(0,$a.default)((0,Na.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle");var mn={},za=Nt;Object.defineProperty(mn,"__esModule",{value:!0});var nr=mn.default=void 0,Ha=za($t()),Va=A;nr=mn.default=(0,Ha.default)((0,Va.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2M8.5 15H7.3l-2.55-3.5V15H3.5V9h1.25l2.5 3.5V9H8.5zm5-4.74H11v1.12h2.5v1.26H11v1.11h2.5V15h-4V9h4zm7 3.74c0 .55-.45 1-1 1h-4c-.55 0-1-.45-1-1V9h1.25v4.51h1.13V9.99h1.25v3.51h1.12V9h1.25z"}),"FiberNew");function Wa(e){return gt("MuiPickersToolbarText",e)}const On=ft("MuiPickersToolbarText",["root","selected"]),Ba=["className","selected","value"],Ua=e=>{const{classes:t,selected:n}=e;return Qe({root:["root",n&&"selected"]},Wa,t)},Ka=ve(Ee,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${On.selected}`]:t.selected}]})(({theme:e})=>({transition:e.transitions.create("color"),color:(e.vars||e).palette.text.secondary,[`&.${On.selected}`]:{color:(e.vars||e).palette.text.primary}})),Ya=g.forwardRef(function(t,n){const r=Oe({props:t,name:"MuiPickersToolbarText"}),{className:a,value:o}=r,l=ge(r,Ba),i=Ua(r);return A.jsx(Ka,y({ref:n,className:qe(a,i.root),component:"span"},l,{children:o}))}),Xa=["align","className","selected","typographyClassName","value","variant","width"],Ga=e=>{const{classes:t}=e;return Qe({root:["root"]},Zr,t)},qa=ve(dt,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,minWidth:16,textTransform:"none"}),An=g.forwardRef(function(t,n){const r=Oe({props:t,name:"MuiPickersToolbarButton"}),{align:a,className:o,selected:l,typographyClassName:i,value:f,variant:p,width:h}=r,v=ge(r,Xa),m=Ga(r);return A.jsx(qa,y({variant:"text",ref:n,className:qe(o,m.root)},h?{sx:{width:h}}:{},v,{children:A.jsx(Ya,{align:a,className:i,variant:p,value:f,selected:l})}))});var bn={},Qa=Nt;Object.defineProperty(bn,"__esModule",{value:!0});var rr=bn.default=void 0,Ja=Qa($t()),Za=A;rr=bn.default=(0,Ja.default)((0,Za.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8"}),"Replay");var yn={},eo=Nt;Object.defineProperty(yn,"__esModule",{value:!0});var ar=yn.default=void 0,to=eo($t()),no=A;ar=yn.default=(0,to.default)((0,no.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");const ro=ve(ea)(({theme:e})=>({"& .rdt_Table":{backgroundColor:"transparent","& .rdt_TableHead":{"& .rdt_TableHeadRow":{backgroundColor:"transparent",color:e.palette.text.primary},top:0,zIndex:1},"& .rdt_TableBody":{overflowY:"auto",maxHeight:"52vh","& .rdt_TableRow":{minHeight:"auto",backgroundColor:"transparent",color:e.palette.text.primary,"& .rdt_TableCol":{backgroundColor:"transparent",borderBottom:`1px solid ${e.palette.divider}`,width:"auto",whiteSpace:"nowrap"}},"& .rdt_TableRow:hover":{backgroundColor:e.palette.action.hover}}}})),ao=({allData:e,setData:t,loading:n,handleClickOpen:r,allInCharges:a,reports:o,juniors:l,reports_with_daily_works:i,openModal:f,setCurrentRow:p,filteredData:h,setFilteredData:v})=>{const{auth:m}=Ar().props,b=Je(),C=m.roles.includes("Administrator"),M=m.roles.includes("Supervision Engineer"),P=[{name:"Date",selector:d=>d.date,sortable:"true",center:"true",width:"100px"},{name:"RFI NO",selector:d=>d.number,sortable:"true",center:"true",width:"140px",cell:d=>F(le,{children:[d.number,d.reports&&d.reports.map(u=>s("div",{children:F("span",{children:[s("i",{className:"mdi mdi-circle-medium"})," ",u.ref_no]})},u.ref_no))]})},{name:"Status",selector:d=>d.status,sortable:"true",center:"true",width:"220px",cell:d=>F(ze,{variant:"outlined",size:"small",fullWidth:!0,value:d.status,onChange:u=>R(d.id,"status",u.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:b.glassCard.backgroundColor,border:b.glassCard.border,borderRadius:2,boxShadow:b.glassCard.boxShadow}}},children:[s(J,{value:"new",children:F(ce,{sx:{display:"flex"},children:[s(nr,{style:{marginRight:8,color:k("new")}})," New"]})}),s(J,{value:"resubmission",children:F(ce,{sx:{display:"flex"},children:[s(rr,{style:{marginRight:8,color:k("resubmission")}})," Resubmission"]})}),s(J,{value:"completed",children:F(ce,{sx:{display:"flex"},children:[s(tr,{style:{marginRight:8,color:k("completed")}})," Completed"]})}),s(J,{value:"emergency",children:F(ce,{sx:{display:"flex"},children:[s(ar,{style:{marginRight:8,color:k("emergency")}})," Emergency"]})})]})},...M?[{name:"Assigned",selector:d=>d.assigned,sortable:"true",center:"true",cell:d=>F(ze,{variant:"outlined",fullWidth:!0,size:"small",value:d.assigned||"na",onChange:u=>R(d.id,"assigned",u.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:b.glassCard.backgroundColor,border:b.glassCard.border,borderRadius:2,boxShadow:b.glassCard.boxShadow}}},children:[s(J,{value:"na",disabled:!0,children:"Please select"}),l.map(u=>s(J,{value:u.id,children:F(ce,{sx:{display:"flex"},children:[s(Dn,{src:`/assets/images/users/${u.user_name||"user-dummy-img"}.jpg`,alt:u.name||"Not assigned",sx:{borderRadius:"50%",width:23,height:23,display:"flex",mr:1}}),u.name]})},u.id))]})}]:[],{name:"Type",selector:d=>d.type,sortable:"true",center:"true",width:"140px"},{name:"Description",selector:d=>d.description,sortable:"true",left:"true",width:"260px",cell:d=>s(ce,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},children:d.description})},{name:"Location",selector:d=>d.location,sortable:"true",center:"true",width:"200px",cell:d=>s(ce,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},children:d.location})},{name:"Results",selector:d=>d.inspection_details,sortable:"true",width:"200px",center:"true",cell:d=>{const[u,w]=Ft.useState(!1),[x,S]=Ft.useState(d.inspection_details||"");return s(ce,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",cursor:"pointer"},onClick:u?void 0:()=>{w(!0)},children:u?s(ye,{fullWidth:!0,value:x,onChange:W=>{S(W.target.value)},onBlur:()=>{w(!1),R(d.id,"inspection_details",x)},autoFocus:!0,variant:"standard",InputProps:{style:{marginBottom:0,border:"none",outline:"none",backgroundColor:"transparent",textAlign:"center"}}}):s(le,{children:d.inspection_details||"N/A"})})}},{name:"Road Type",selector:d=>d.side,sortable:"true",center:"true",width:"120px"},{name:"Quantity/Layer No.",selector:d=>d.qty_layer,sortable:"true",center:"true",width:"150px"},...C?[{name:"In charge",selector:d=>d.incharge,sortable:"true",center:"true",cell:d=>F(ze,{variant:"outlined",fullWidth:!0,size:"small",value:d.incharge||"na",onChange:u=>R(d.id,"incharge",u.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:b.glassCard.backgroundColor,border:b.glassCard.border,borderRadius:2,boxShadow:b.glassCard.boxShadow}}},children:[s(J,{value:"na",disabled:!0,children:"Please select"}),a.map(u=>s(J,{value:u.id,children:F(ce,{sx:{display:"flex"},children:[s(Dn,{src:u.profile_image,alt:u.name||"Not assigned",sx:{borderRadius:"50%",width:23,height:23,display:"flex",mr:1}}),u.name]})},u.id))]})}]:[],{name:"Planned Time",selector:d=>d.planned_time,sortable:"true",center:"true",width:"130px"},{name:"Completion Time",selector:d=>d.completion_time,sortable:"true",center:"true",width:"250px",cell:d=>s(ye,{fullWidth:!0,size:"small",type:"datetime-local",value:d.completion_time?new Date(d.completion_time).toISOString().slice(0,16):"",onChange:u=>R(d.id,"completion_time",u.target.value),style:{border:"none",outline:"none",backgroundColor:"transparent"},inputProps:{placeholder:"YYYY-MM-DDTHH:MM"}})},{name:"Resubmission Count",selector:d=>d.resubmission_count,sortable:"true",center:"true",width:"160px",cell:d=>s(le,{children:d.resubmission_count?`${d.resubmission_count} ${d.resubmission_count>1?"times":"time"}`:""})},...C?[{name:"RFI Submission Date",selector:d=>d.rfi_submission_date,sortable:"true",center:"true",width:"180px",cell:d=>s(ye,{fullWidth:!0,size:"small",type:"date",onChange:u=>R(d.id,"rfi_submission_date",u.target.value),value:d.rfi_submission_date?new Date(d.rfi_submission_date).toISOString().slice(0,10):"",style:{border:"none",outline:"none",backgroundColor:"transparent"},inputProps:{placeholder:"yyyy-MM-dd"}})}]:[],...C?[{name:"Actions",center:"true",width:"150px",cell:d=>F(ce,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s(ke,{sx:{m:1},variant:"outlined",color:"success",size:"small",onClick:()=>{p(d),f("editDailyWork")},children:s(Qr,{})}),s(ke,{sx:{m:1},variant:"outlined",color:"error",size:"small",onClick:()=>r(d.id,"deleteDailyWork"),children:s(Sa,{})})]})}]:[]],k=d=>{switch(d){case"new":return"blue";case"resubmission":return"orange";case"completed":return"green";case"emergency":return"red";default:return""}},R=async(d,u,w)=>{var x,S;try{const O=await Yn.post(route("dailyWorks.update"),{id:d,[u]:w});O.status===200?(t(_=>_.map(H=>H.id===d?{...H,[u]:w}:H)),Te.success(...O.data.messages||"Task updated successfully",{icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:b.glassCard.backgroundColor,border:b.glassCard.border,color:b.palette.text.primary}})):Te.error(O.data.error||`Failed to update task ${[u]}.`,{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:b.glassCard.backgroundColor,border:b.glassCard.border,color:b.palette.text.primary}})}catch(O){Te.error(((S=(x=O.response)==null?void 0:x.data)==null?void 0:S.message)||"An unexpected error occurred.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:b.glassCard.backgroundColor,border:b.glassCard.border,color:b.palette.text.primary}})}};return F("div",{children:[n&&s(qr,{}),s(Lr,{styles:{"& .cgTKyH":{backgroundColor:"transparent !important",color:b.palette.text.primary}}}),s(ro,{classNames:{base:"max-h-[84vh] overflow-scroll",table:"min-h-[84vh]"},columns:P,data:e,loading:n,loadingComponent:s(ht,{}),defaultSortField:"date",highlightOnHover:!0,responsive:!0,dense:!0})]})},oo=({open:e,closeModal:t,currentRow:n,setData:r})=>{const a=Je(),[o,l]=g.useState({id:n.id||"",date:n.date||"",number:n.number||"",planned_time:n.planned_time||"",type:n.type||"Structure",location:n.location||"",description:n.description||"",side:n.side||"SR-R",qty_layer:n.qty_layer||""}),[i,f]=g.useState({}),[p,h]=g.useState(!1),[v,m]=g.useState(!1);g.useEffect(()=>{const M=Object.values(o).some(P=>P!=="");m(M)},[o]);const b=M=>{const{name:P,value:k}=M.target;l(R=>({...R,[P]:k}))};async function C(M){M.preventDefault(),h(!0);const P=new Promise(async(k,R)=>{try{const d=await fetch(route("dailyWorks.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"details",...o})}),u=await d.json();d.ok?(r(w=>w.map(x=>x.id===o.id?{...x,...o}:x)),t(),k(u.message?[u.message]:u.messages),h(!1),t(),console.log(u.message?[u.message]:u.messages)):(h(!1),f(u.errors),R(u.errors),console.error(u.errors))}catch(d){h(!1),t(),console.log(d),R(["An unexpected error occurred."])}});Te.promise(P,{pending:{render(){return F("div",{style:{display:"flex",alignItems:"center"},children:[s(ht,{}),s("span",{style:{marginLeft:"8px"},children:"Updating daily work ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},success:{render({data:k}){return s(le,{children:k.map((R,d)=>s("div",{children:R},d))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},error:{render({data:k}){return s(le,{children:k.map((R,d)=>s("div",{children:R},d))})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}}})}return F(Bt,{open:e,onClose:t,children:[F(zt,{style:{cursor:"move"},id:"draggable-dialog-title",children:[s(Ee,{children:"Add Task"}),s(ke,{variant:"outlined",color:"primary",onClick:t,sx:{position:"absolute",top:8,right:16},children:s(fn,{})})]}),F("form",{onSubmit:C,children:[s(Ht,{children:F(de,{container:!0,spacing:2,children:[s(de,{item:!0,xs:12,md:6,children:s(ye,{label:"RFI Date",type:"date",name:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:o.date,onChange:b,error:!!i.date,helperText:i.date})}),s(de,{item:!0,xs:12,md:6,children:s(ye,{label:"RFI Number",name:"number",fullWidth:!0,value:o.number,onChange:b,error:!!i.number,helperText:i.number})}),s(de,{item:!0,xs:12,md:6,children:s(ye,{label:"Planned Time",name:"planned_time",fullWidth:!0,InputLabelProps:{shrink:!0},value:o.planned_time,onChange:b,error:!!i.planned_time,helperText:i.planned_time})}),s(de,{item:!0,xs:12,md:6,children:F(kt,{fullWidth:!0,children:[s(Rt,{id:"type-label",children:"Type"}),F(ze,{select:!0,label:"Type",name:"type",fullWidth:!0,value:o.type,onChange:b,error:!!i.type,helperText:i.type,labelId:"type-label",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[s(J,{value:"Structure",children:"Structure"}),s(J,{value:"Embankment",children:"Embankment"}),s(J,{value:"Pavement",children:"Pavement"})]}),s($r,{children:i.type})]})}),s(de,{item:!0,xs:12,md:6,children:s(ye,{label:"Location",name:"location",fullWidth:!0,value:o.location,onChange:b,error:!!i.location,helperText:i.location})}),s(de,{item:!0,xs:12,md:6,children:s(ye,{label:"Description",name:"description",fullWidth:!0,value:o.description,onChange:b,error:!!i.description,helperText:i.description})}),s(de,{item:!0,xs:12,md:6,children:F(ye,{select:!0,label:"Road Type",name:"side",fullWidth:!0,value:o.side,onChange:b,error:!!i.side,helperText:i.side,children:[s(J,{value:"SR-R",children:"SR-R"}),s(J,{value:"SR-L",children:"SR-L"}),s(J,{value:"TR-R",children:"TR-R"}),s(J,{value:"TR-L",children:"TR-L"})]})}),s(de,{item:!0,xs:12,md:6,children:s(ye,{label:"Quantity/Layer No.",name:"qty_layer",fullWidth:!0,value:o.qty_layer,onChange:b,error:!!i.qty_layer,helperText:i.qty_layer})})]})}),s(Vt,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"16px"},children:s(gn,{disabled:!v,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:p,children:"Submit"})})]})]})},io=({open:e,handleClose:t,handleDelete:n})=>(Je(),F(Bt,{open:e,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[s(zt,{id:"alert-dialog-title",children:"Confirm Deletion"}),s(Ht,{children:s(Nr,{id:"alert-dialog-description",children:"Are you sure you want to delete this task? This action cannot be undone."})}),F(Vt,{children:[s(dt,{onClick:t,color:"primary",children:"Cancel"}),s(dt,{onClick:n,color:"error",autoFocus:!0,children:"Delete"})]})]})),so=({open:e,closeModal:t,data:n,users:r})=>{g.useState(!1);const a=Je(),o=[{label:"Date",key:"date"},{label:"RFI No.",key:"number"},{label:"Status",key:"status"},{label:"Assigned",key:"assigned"},{label:"In charge",key:"incharge"},{label:"Type",key:"type"},{label:"Description",key:"description"},{label:"Location",key:"location"},{label:"Side",key:"side"},{label:"Quantity/Layer",key:"qty_layer"},{label:"Planned Time",key:"planned_time"},{label:"Completion Time",key:"completion_time"},{label:"Results",key:"inspection_details"},{label:"Resubmission Count",key:"resubmission_count"},{label:"RFI Submission Date",key:"rfi_submission_date"}],[l,i]=g.useState(o.map(h=>({...h,checked:!0}))),f=h=>{const v=[...l];v[h].checked=!v[h].checked,i(v)},p=async h=>{const v=new Promise((m,b)=>{try{const C=n.map(k=>{const R={};return h.forEach(d=>{if(d.checked)if(d.key==="incharge"||d.key==="assigned"){const u=r.find(w=>w.id===k[d.key]);R[d.label]=u?u.name:"N/A"}else if(d.key==="status"){const u=k[d.key];R[d.label]=u.charAt(0).toUpperCase()+u.slice(1)}else R[d.label]=k[d.key]}),R}),M=qt.json_to_sheet(C),P=qt.book_new();qt.book_append_sheet(P,M,"Daily Works"),Ma(P,"DailyWorks.xlsx"),m("Export successful!"),t()}catch(C){b("Failed to export data. Please try again."),console.error("Error exporting data to Excel:",C)}});Te.promise(v,{pending:{render(){return F("div",{style:{display:"flex",alignItems:"center"},children:[s(ht,{}),s("span",{style:{marginLeft:"8px"},children:"Exporting data to Excel ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},success:{render({data:m}){return s(le,{children:m})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},error:{render({data:m}){return s(le,{children:m})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}}})};return F(Bt,{open:e,onClose:t,children:[F(zt,{style:{cursor:"move"},id:"draggable-dialog-title",children:[s(Ee,{children:"Export Daily Works"}),s(ke,{variant:"outlined",color:"primary",onClick:t,sx:{position:"absolute",top:8,right:16},children:s(fn,{})})]}),s(Ht,{children:F(zr,{size:"small",sx:{"& .MuiTableCell-root":{padding:"4px 8px"},"& .MuiCheckbox-root":{padding:"0px"}},children:[s(Hr,{children:F(Cn,{children:[s(Dt,{children:"Column Label"}),s(Dt,{align:"center",children:"Include in Export"})]})}),s(Vr,{children:l.map((h,v)=>F(Cn,{children:[s(Dt,{children:h.label}),s(Dt,{align:"center",children:s(Wr,{checked:h.checked,onChange:()=>f(v)})})]},h.key))})]})}),s(Vt,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:s(gn,{sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",onClick:()=>p(l),startIcon:s(nn,{}),children:"Download"})})]})};var lo=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function mt(e,t){var n=co(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function co(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),a=lo.get(r);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}var uo=[".DS_Store","Thumbs.db"];function po(e){return et(this,void 0,void 0,function(){return tt(this,function(t){return Ot(e)&&fo(e.dataTransfer)?[2,bo(e.dataTransfer,e.type)]:go(e)?[2,ho(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,mo(e)]:[2,[]]})})}function fo(e){return Ot(e)}function go(e){return Ot(e)&&Ot(e.target)}function Ot(e){return typeof e=="object"&&e!==null}function ho(e){return an(e.target.files).map(function(t){return mt(t)})}function mo(e){return et(this,void 0,void 0,function(){var t;return tt(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(r){return r.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(r){return mt(r)})]}})})}function bo(e,t){return et(this,void 0,void 0,function(){var n,r;return tt(this,function(a){switch(a.label){case 0:return e.items?(n=an(e.items).filter(function(o){return o.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(yo))]):[3,2];case 1:return r=a.sent(),[2,_n(or(r))];case 2:return[2,_n(an(e.files).map(function(o){return mt(o)}))]}})})}function _n(e){return e.filter(function(t){return uo.indexOf(t.name)===-1})}function an(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function yo(e){if(typeof e.webkitGetAsEntry!="function")return jn(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?ir(t):jn(e)}function or(e){return e.reduce(function(t,n){return En(En([],Tn(t),!1),Tn(Array.isArray(n)?or(n):[n]),!1)},[])}function jn(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=mt(t);return Promise.resolve(n)}function vo(e){return et(this,void 0,void 0,function(){return tt(this,function(t){return[2,e.isDirectory?ir(e):xo(e)]})})}function ir(e){var t=e.createReader();return new Promise(function(n,r){var a=[];function o(){var l=this;t.readEntries(function(i){return et(l,void 0,void 0,function(){var f,p,h;return tt(this,function(v){switch(v.label){case 0:if(i.length)return[3,5];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all(a)];case 2:return f=v.sent(),n(f),[3,4];case 3:return p=v.sent(),r(p),[3,4];case 4:return[3,6];case 5:h=Promise.all(i.map(vo)),a.push(h),o(),v.label=6;case 6:return[2]}})})},function(i){r(i)})}o()})}function xo(e){return et(this,void 0,void 0,function(){return tt(this,function(t){return[2,new Promise(function(n,r){e.file(function(a){var o=mt(a,e.fullPath);n(o)},function(a){r(a)})})]})})}var Do=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",a=(e.type||"").toLowerCase(),o=a.replace(/\/.*$/,"");return n.some(function(l){var i=l.trim().toLowerCase();return i.charAt(0)==="."?r.toLowerCase().endsWith(i):i.endsWith("/*")?o===i.replace(/\/.*$/,""):a===i})}return!0};function Ln(e){return wo(e)||Po(e)||lr(e)||Co()}function Co(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Po(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wo(e){if(Array.isArray(e))return on(e)}function $n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$n(Object(n),!0).forEach(function(r){sr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$n(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ut(e,t){return So(e)||Ro(e,t)||lr(e,t)||ko()}function ko(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lr(e,t){if(e){if(typeof e=="string")return on(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return on(e,t)}}function on(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ro(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,l,i;try{for(n=n.call(e);!(a=(l=n.next()).done)&&(r.push(l.value),!(t&&r.length===t));a=!0);}catch(f){o=!0,i=f}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw i}}return r}}function So(e){if(Array.isArray(e))return e}var Io="file-invalid-type",Mo="file-too-large",Fo="file-too-small",To="too-many-files",Eo=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var n=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:Io,message:"File type must be ".concat(n)}},zn=function(t){return{code:Mo,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Hn=function(t){return{code:Fo,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Oo={code:To,message:"Too many files"};function cr(e,t){var n=e.type==="application/x-moz-file"||Do(e,t);return[n,n?null:Eo(t)]}function dr(e,t,n){if(Le(e.size))if(Le(t)&&Le(n)){if(e.size>n)return[!1,zn(n)];if(e.size<t)return[!1,Hn(t)]}else{if(Le(t)&&e.size<t)return[!1,Hn(t)];if(Le(n)&&e.size>n)return[!1,zn(n)]}return[!0,null]}function Le(e){return e!=null}function Ao(e){var t=e.files,n=e.accept,r=e.minSize,a=e.maxSize,o=e.multiple,l=e.maxFiles,i=e.validator;return!o&&t.length>1||o&&l>=1&&t.length>l?!1:t.every(function(f){var p=cr(f,n),h=ut(p,1),v=h[0],m=dr(f,r,a),b=ut(m,1),C=b[0],M=i?i(f):null;return v&&C&&!M})}function At(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Ct(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Vn(e){e.preventDefault()}function _o(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function jo(e){return e.indexOf("Edge/")!==-1}function Lo(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return _o(e)||jo(e)}function we(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return t.some(function(i){return!At(r)&&i&&i.apply(void 0,[r].concat(o)),At(r)})}}function $o(){return"showOpenFilePicker"in window}function No(e){if(Le(e)){var t=Object.entries(e).filter(function(n){var r=ut(n,2),a=r[0],o=r[1],l=!0;return ur(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(o)||!o.every(pr))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(n,r){var a=ut(r,2),o=a[0],l=a[1];return Nn(Nn({},n),{},sr({},o,l))},{});return[{description:"Files",accept:t}]}return e}function zo(e){if(Le(e))return Object.entries(e).reduce(function(t,n){var r=ut(n,2),a=r[0],o=r[1];return[].concat(Ln(t),[a],Ln(o))},[]).filter(function(t){return ur(t)||pr(t)}).join(",")}function Ho(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Vo(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function ur(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function pr(e){return/^.*\.[\w]+$/.test(e)}var Wo=["children"],Bo=["open"],Uo=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Ko=["refKey","onChange","onClick"];function Yo(e){return qo(e)||Go(e)||fr(e)||Xo()}function Xo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Go(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qo(e){if(Array.isArray(e))return sn(e)}function Qt(e,t){return Zo(e)||Jo(e,t)||fr(e,t)||Qo()}function Qo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fr(e,t){if(e){if(typeof e=="string")return sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sn(e,t)}}function sn(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jo(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,l,i;try{for(n=n.call(e);!(a=(l=n.next()).done)&&(r.push(l.value),!(t&&r.length===t));a=!0);}catch(f){o=!0,i=f}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw i}}return r}}function Zo(e){if(Array.isArray(e))return e}function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wn(Object(n),!0).forEach(function(r){ln(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(e,t){if(e==null)return{};var n=ei(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ei(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var vn=g.forwardRef(function(e,t){var n=e.children,r=_t(e,Wo),a=hr(r),o=a.open,l=_t(a,Bo);return g.useImperativeHandle(t,function(){return{open:o}},[o]),Ft.createElement(g.Fragment,null,n(Q(Q({},l),{},{open:o})))});vn.displayName="Dropzone";var gr={disabled:!1,getFilesFromEvent:po,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};vn.defaultProps=gr;vn.propTypes={children:c.func,accept:c.objectOf(c.arrayOf(c.string)),multiple:c.bool,preventDropOnDocument:c.bool,noClick:c.bool,noKeyboard:c.bool,noDrag:c.bool,noDragEventsBubbling:c.bool,minSize:c.number,maxSize:c.number,maxFiles:c.number,disabled:c.bool,getFilesFromEvent:c.func,onFileDialogCancel:c.func,onFileDialogOpen:c.func,useFsAccessApi:c.bool,autoFocus:c.bool,onDragEnter:c.func,onDragLeave:c.func,onDragOver:c.func,onDrop:c.func,onDropAccepted:c.func,onDropRejected:c.func,onError:c.func,validator:c.func};var cn={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function hr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Q(Q({},gr),e),n=t.accept,r=t.disabled,a=t.getFilesFromEvent,o=t.maxSize,l=t.minSize,i=t.multiple,f=t.maxFiles,p=t.onDragEnter,h=t.onDragLeave,v=t.onDragOver,m=t.onDrop,b=t.onDropAccepted,C=t.onDropRejected,M=t.onFileDialogCancel,P=t.onFileDialogOpen,k=t.useFsAccessApi,R=t.autoFocus,d=t.preventDropOnDocument,u=t.noClick,w=t.noKeyboard,x=t.noDrag,S=t.noDragEventsBubbling,O=t.onError,_=t.validator,H=g.useMemo(function(){return zo(n)},[n]),W=g.useMemo(function(){return No(n)},[n]),G=g.useMemo(function(){return typeof P=="function"?P:Bn},[P]),B=g.useMemo(function(){return typeof M=="function"?M:Bn},[M]),z=g.useRef(null),U=g.useRef(null),$=g.useReducer(ti,cn),V=Qt($,2),te=V[0],N=V[1],ue=te.isFocused,Y=te.isFileDialogActive,pe=g.useRef(typeof window<"u"&&window.isSecureContext&&k&&$o()),he=function(){!pe.current&&Y&&setTimeout(function(){if(U.current){var I=U.current.files;I.length||(N({type:"closeDialog"}),B())}},300)};g.useEffect(function(){return window.addEventListener("focus",he,!1),function(){window.removeEventListener("focus",he,!1)}},[U,Y,B,pe]);var oe=g.useRef([]),Re=function(I){z.current&&z.current.contains(I.target)||(I.preventDefault(),oe.current=[])};g.useEffect(function(){return d&&(document.addEventListener("dragover",Vn,!1),document.addEventListener("drop",Re,!1)),function(){d&&(document.removeEventListener("dragover",Vn),document.removeEventListener("drop",Re))}},[z,d]),g.useEffect(function(){return!r&&R&&z.current&&z.current.focus(),function(){}},[z,R,r]);var j=g.useCallback(function(D){O?O(D):console.error(D)},[O]),T=g.useCallback(function(D){D.preventDefault(),D.persist(),Ae(D),oe.current=[].concat(Yo(oe.current),[D.target]),Ct(D)&&Promise.resolve(a(D)).then(function(I){if(!(At(D)&&!S)){var Z=I.length,ne=Z>0&&Ao({files:I,accept:H,minSize:l,maxSize:o,multiple:i,maxFiles:f,validator:_}),se=Z>0&&!ne;N({isDragAccept:ne,isDragReject:se,isDragActive:!0,type:"setDraggedFiles"}),p&&p(D)}}).catch(function(I){return j(I)})},[a,p,j,S,H,l,o,i,f,_]),ee=g.useCallback(function(D){D.preventDefault(),D.persist(),Ae(D);var I=Ct(D);if(I&&D.dataTransfer)try{D.dataTransfer.dropEffect="copy"}catch{}return I&&v&&v(D),!1},[v,S]),ae=g.useCallback(function(D){D.preventDefault(),D.persist(),Ae(D);var I=oe.current.filter(function(ne){return z.current&&z.current.contains(ne)}),Z=I.indexOf(D.target);Z!==-1&&I.splice(Z,1),oe.current=I,!(I.length>0)&&(N({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Ct(D)&&h&&h(D))},[z,h,S]),me=g.useCallback(function(D,I){var Z=[],ne=[];D.forEach(function(se){var De=cr(se,H),Se=Qt(De,2),Ce=Se[0],ot=Se[1],it=dr(se,l,o),We=Qt(it,2),st=We[0],Be=We[1],lt=_?_(se):null;if(Ce&&st&&!lt)Z.push(se);else{var _e=[ot,Be];lt&&(_e=_e.concat(lt)),ne.push({file:se,errors:_e.filter(function(Yt){return Yt})})}}),(!i&&Z.length>1||i&&f>=1&&Z.length>f)&&(Z.forEach(function(se){ne.push({file:se,errors:[Oo]})}),Z.splice(0)),N({acceptedFiles:Z,fileRejections:ne,type:"setFiles"}),m&&m(Z,ne,I),ne.length>0&&C&&C(ne,I),Z.length>0&&b&&b(Z,I)},[N,i,H,l,o,f,m,b,C,_]),ie=g.useCallback(function(D){D.preventDefault(),D.persist(),Ae(D),oe.current=[],Ct(D)&&Promise.resolve(a(D)).then(function(I){At(D)&&!S||me(I,D)}).catch(function(I){return j(I)}),N({type:"reset"})},[a,me,j,S]),E=g.useCallback(function(){if(pe.current){N({type:"openDialog"}),G();var D={multiple:i,types:W};window.showOpenFilePicker(D).then(function(I){return a(I)}).then(function(I){me(I,null),N({type:"closeDialog"})}).catch(function(I){Ho(I)?(B(I),N({type:"closeDialog"})):Vo(I)?(pe.current=!1,U.current?(U.current.value=null,U.current.click()):j(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):j(I)});return}U.current&&(N({type:"openDialog"}),G(),U.current.value=null,U.current.click())},[N,G,B,k,me,j,W,i]),rt=g.useCallback(function(D){!z.current||!z.current.isEqualNode(D.target)||(D.key===" "||D.key==="Enter"||D.keyCode===32||D.keyCode===13)&&(D.preventDefault(),E())},[z,E]),yt=g.useCallback(function(){N({type:"focus"})},[]),fe=g.useCallback(function(){N({type:"blur"})},[]),at=g.useCallback(function(){u||(Lo()?setTimeout(E,0):E())},[u,E]),Ie=function(I){return r?null:I},He=function(I){return w?null:Ie(I)},Ve=function(I){return x?null:Ie(I)},Ae=function(I){S&&I.stopPropagation()},be=g.useMemo(function(){return function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=D.refKey,Z=I===void 0?"ref":I,ne=D.role,se=D.onKeyDown,De=D.onFocus,Se=D.onBlur,Ce=D.onClick,ot=D.onDragEnter,it=D.onDragOver,We=D.onDragLeave,st=D.onDrop,Be=_t(D,Uo);return Q(Q(ln({onKeyDown:He(we(se,rt)),onFocus:He(we(De,yt)),onBlur:He(we(Se,fe)),onClick:Ie(we(Ce,at)),onDragEnter:Ve(we(ot,T)),onDragOver:Ve(we(it,ee)),onDragLeave:Ve(we(We,ae)),onDrop:Ve(we(st,ie)),role:typeof ne=="string"&&ne!==""?ne:"presentation"},Z,z),!r&&!w?{tabIndex:0}:{}),Be)}},[z,rt,yt,fe,at,T,ee,ae,ie,w,x,r]),vt=g.useCallback(function(D){D.stopPropagation()},[]),Me=g.useMemo(function(){return function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=D.refKey,Z=I===void 0?"ref":I,ne=D.onChange,se=D.onClick,De=_t(D,Ko),Se=ln({accept:H,multiple:i,type:"file",style:{display:"none"},onChange:Ie(we(ne,ie)),onClick:Ie(we(se,vt)),tabIndex:-1},Z,U);return Q(Q({},Se),De)}},[U,n,i,ie,r]);return Q(Q({},te),{},{isFocused:ue&&!r,getRootProps:be,getInputProps:Me,rootRef:z,inputRef:U,open:Ie(E)})}function ti(e,t){switch(t.type){case"focus":return Q(Q({},e),{},{isFocused:!0});case"blur":return Q(Q({},e),{},{isFocused:!1});case"openDialog":return Q(Q({},cn),{},{isFileDialogActive:!0});case"closeDialog":return Q(Q({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Q(Q({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Q(Q({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return Q({},cn);default:return e}}function Bn(){}const ni=({open:e,closeModal:t,setTotalRows:n,setData:r})=>{const[a,o]=g.useState(null),[l,i]=g.useState(!1),f=Je(),p=P=>{o(P[0])},h=()=>{o(null)},{getRootProps:v,getInputProps:m,isDragActive:b}=hr({onDrop:p,noClick:!!a,noKeyboard:!!a}),C=P=>{if(!P)return s(Oa,{fontSize:"large"});const k=P.type;return k.startsWith("image/")?s(Image,{fontSize:"large"}):k==="application/pdf"?s(ja,{fontSize:"large"}):k==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"?s(Aa,{fontSize:"large"}):s(_a,{fontSize:"large"})};return F(Bt,{open:e,onClose:t,children:[F(zt,{style:{cursor:"move"},id:"draggable-dialog-title",children:[s(Ee,{children:"Import Daily Works"}),s(ke,{variant:"outlined",color:"primary",onClick:t,sx:{position:"absolute",top:8,right:16,zIndex:0},children:s(fn,{})})]}),F("form",{onSubmit:async P=>{P.preventDefault(),i(!0);const k=new FormData;k.append("file",a);const R=new Promise(async(d,u)=>{try{const w=await fetch(route("dailyWorks.import"),{method:"POST",body:k,headers:{"X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content}}),x=await w.json();w.ok?(r(x.data),n(x.total),d("Daily works imported successfully."),t()):(console.error(x.errors||x.error),u("Failed to import data."))}catch(w){u(`Error: ${w.message||"An unexpected error occurred."}`)}finally{i(!1)}});Te.promise(R,{pending:{render(){return F("div",{style:{display:"flex",alignItems:"center"},children:[s(ht,{}),s("span",{style:{marginLeft:"8px"},children:"Uploading file ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:f.glassCard.backgroundColor,border:f.glassCard.border,color:f.palette.text.primary}},success:{render({data:d}){return s(le,{children:d})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:f.glassCard.backgroundColor,border:f.glassCard.border,color:f.palette.text.primary}},error:{render({data:d}){return s(le,{children:d})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:f.glassCard.backgroundColor,border:f.glassCard.border,color:f.palette.text.primary}}})},children:[s(Ht,{children:s(de,{container:!0,spacing:2,children:s(de,{item:!0,xs:12,children:F(ce,{...v(),sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"2px dashed #ccc",borderRadius:"8px",padding:"20px",cursor:a?"not-allowed":"pointer","&:hover":{borderColor:a?"#ccc":"#aaa"}},children:[s("input",{...m()}),s(ke,{sx:{borderRadius:"50%",backgroundColor:"#f0f0f0","&:hover":{backgroundColor:a?"#f0f0f0":"#e0e0e0",cursor:a?"not-allowed":"pointer"}},disabled:!!a,children:C(a)}),a?F(le,{children:[F(Ee,{variant:"body1",sx:{marginTop:"10px"},children:[a.name," (",(a.size/1024).toFixed(2)," KB)"]}),s(ke,{onClick:h,sx:{marginTop:"10px",backgroundColor:"#f0f0f0","&:hover":{backgroundColor:"#e0e0e0"}},children:s(Ea,{})})]}):s(Ee,{variant:"body1",sx:{marginTop:"10px"},children:"Drag & drop files here, or click to select files"})]})})})}),s(Vt,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:s(gn,{disabled:!a,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:l,startIcon:s(rn,{}),children:"Upload"})})]})]})},ri=["value","referenceDate"],Ge={emptyValue:[null,null],getTodayValue:(e,t,n)=>[wn(e,t,n),wn(e,t,n)],getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=ge(e,ri);const a=t[0]!=null&&r.utils.isValid(t[0]),o=t[1]!=null&&r.utils.isValid(t[1]);if(a&&o)return t;const l=n??ta(r);return[a?t[0]:l,o?t[1]:l]},cleanValue:(e,t)=>t.map(n=>na(e,n)),areValuesEqual:(e,t,n)=>kn(e,t[0],n[0])&&kn(e,t[1],n[1]),isSameError:(e,t)=>t!==null&&e[1]===t[1]&&e[0]===t[0],hasError:e=>e[0]!=null||e[1]!=null,defaultErrorState:[null,null],getTimezone:(e,t)=>{const n=t[0]==null||!e.isValid(t[0])?null:e.getTimezone(t[0]),r=t[1]==null||!e.isValid(t[1])?null:e.getTimezone(t[1]);if(n!=null&&r!=null&&n!==r)throw new Error("MUI X: The timezone of the start and the end date should be the same.");return n??r},setTimezone:(e,t,n)=>[n[0]==null?null:e.setTimezone(n[0],t),n[1]==null?null:e.setTimezone(n[1],t)]};function ai(e){return gt("MuiDateRangePickerToolbar",e)}ft("MuiDateRangePickerToolbar",["root","container"]);const oi=["value","rangePosition","onRangePositionChange","toolbarFormat","className","onViewChange","view","views"],ii=e=>{const{classes:t}=e;return Qe({root:["root"],container:["container"]},ai,t)},si=ve(ra,{name:"MuiDateRangePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),li=ve("div",{name:"MuiDateRangePickerToolbar",slot:"Container",overridesResolver:(e,t)=>t.container})({display:"flex"}),ci=g.forwardRef(function(t,n){const r=Ze(),a=Oe({props:t,name:"MuiDateRangePickerToolbar"}),{value:[o,l],rangePosition:i,onRangePositionChange:f,toolbarFormat:p,className:h}=a,v=ge(a,oi),m=Wt(),b=o?r.formatByString(o,p||r.formats.shortDate):m.start,C=l?r.formatByString(l,p||r.formats.shortDate):m.end,M=a,P=ii(M);return A.jsx(si,y({},v,{toolbarTitle:m.dateRangePickerToolbarTitle,isLandscape:!1,className:qe(h,P.root),ownerState:M,ref:n,children:A.jsxs(li,{className:P.container,children:[A.jsx(An,{variant:o!==null?"h5":"h6",value:b,selected:i==="start",onClick:()=>f("start")}),A.jsxs(Ee,{variant:"h5",children:["Â ","â€“","Â "]}),A.jsx(An,{variant:l!==null?"h5":"h6",value:C,selected:i==="end",onClick:()=>f("end")})]})}))});function mr(e,t){const n=Ze(),r=qn(),a=Oe({props:e,name:t}),o=g.useMemo(()=>{var l;return((l=a.localeText)==null?void 0:l.toolbarTitle)==null?a.localeText:y({},a.localeText,{dateRangePickerToolbarTitle:a.localeText.toolbarTitle})},[a.localeText]);return y({},a,{localeText:o,disableFuture:a.disableFuture??!1,disablePast:a.disablePast??!1,minDate:Et(n,a.minDate,r.minDate),maxDate:Et(n,a.maxDate,r.maxDate),slots:y({toolbar:ci},a.slots)})}const br=[];let Ne=0;for(;Ne<64;)br[Ne]=0|Math.sin(++Ne%Math.PI)*4294967296;function di(e){const t=[];let n,r,a,o=unescape(encodeURI(e))+"Â€",l=o.length;const i=[n=1732584193,r=4023233417,~n,~r];for(e=--l/4+2|15,t[--e]=l*8;~l;)t[l>>2]|=o.charCodeAt(l)<<8*l--;for(Ne=o=0;Ne<e;Ne+=16){for(l=i;o<64;l=[a=l[3],n+((a=l[0]+[n&r|~n&a,a&n|~a&r,n^r^a,r^(n|~a)][l=o>>4]+br[o]+~~t[Ne|[o,5*o+1,3*o+5,7*o][l]&15])<<(l=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*l+o++%4])|a>>>-l),n,r])n=l[1]|0,r=l[2];for(o=4;o;)i[--o]+=l[o]}for(e="";o<32;)e+=(i[o>>3]>>(1^o++)*4&15).toString(16);return e}const Pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",yr=e=>{let t="",n,r,a,o,l,i,f,p=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");p<e.length;)o=Pt.indexOf(e.charAt(p++)),l=Pt.indexOf(e.charAt(p++)),i=Pt.indexOf(e.charAt(p++)),f=Pt.indexOf(e.charAt(p++)),n=o<<2|l>>4,r=(l&15)<<4|i>>2,a=(i&3)<<6|f,t=t+String.fromCharCode(n),i!=64&&(t=t+String.fromCharCode(r)),f!=64&&(t=t+String.fromCharCode(a));return t},ui=["pro","premium"],pi=["perpetual","annual","subscription"];function nt(e){console.error(["*************************************************************","",...e,"","*************************************************************"].join(`
`))}function fi(){nt(["MUI X: Invalid license key.","","Your MUI X license key format isn't valid. It could be because the license key is missing a character or has a typo.","","To solve the issue, you need to double check that `setLicenseKey()` is called with the right argument","Please check the license key installation https://mui.com/r/x-license-key-installation."])}function gi(){nt(["MUI X: License key plan mismatch.","","Your use of MUI X is not compatible with the plan of your license key. The feature you are trying to use is not included in the plan of your license key. This happens if you try to use `DataGridPremium` with a license key for the Pro plan.","","To solve the issue, you can upgrade your plan from Pro to Premium at https://mui.com/r/x-get-license?scope=premium.","Of if you didn't intend to use Premium features, you can replace the import of `@mui/x-data-grid-premium` with `@mui/x-data-grid-pro`."])}function hi(){nt(["MUI X: Component not included in your license.","","The component you are trying to use is not included in the Pro Plan you purchased.","","Your license is from an old version of the Pro Plan that is only compatible with the `@mui/x-data-grid-pro` and `@mui/x-date-pickers-pro` commercial packages.","","To start using another Pro package, please consider reaching to our sales team to upgrade your license or visit https://mui.com/r/x-get-license to get a new license key."])}function mi({plan:e,packageName:t}){nt(["MUI X: Missing license key.","",`The license key is missing. You might not be allowed to use \`${t}\` which is part of MUI X ${e}.`,"","To solve the issue, you can check the free trial conditions: https://mui.com/r/x-license-trial.","If you are eligible no actions are required. If you are not eligible to the free trial, you need to purchase a license https://mui.com/r/x-get-license or stop using the software immediately."])}function bi({packageName:e}){nt(["MUI X: Expired package version.","",`You have installed a version of \`${e}\` that is outside of the maintenance plan of your license key. By default, commercial licenses provide access to new versions released during the first year after the purchase.`,"","To solve the issue, you can renew your license https://mui.com/r/x-get-license or install an older version of the npm package that is compatible with your license key."])}function yi({plan:e,licenseKey:t,expiryTimestamp:n}){nt(["MUI X: Expired license key.","",`Your annual license key to use MUI X ${e} in non-production environments has expired. If you are seeing this development console message, you might be close to breach the license terms by making direct or indirect changes to the frontend of an app that render a MUI X ${e} component (more details in https://mui.com/r/x-license-annual).`,"","To solve the problem you can either:","","- Renew your license https://mui.com/r/x-get-license and use the new key",`- Stop making changes to code depending directly or indirectly on MUI X ${e}'s APIs`,"","Note that your license is perpetual in production environments with any version released before your license term ends.","",`- License key expiry timestamp: ${new Date(n)}`,`- Installed license key: ${t}`,""])}function vi({plan:e,licenseKey:t,expiryTimestamp:n}){throw new Error(["MUI X: Expired license key.","",`Your annual license key to use MUI X ${e} in non-production environments has expired. If you are seeing this development console message, you might be close to breach the license terms by making direct or indirect changes to the frontend of an app that render a MUI X ${e} component (more details in https://mui.com/r/x-license-annual).`,"","To solve the problem you can either:","","- Renew your license https://mui.com/r/x-get-license and use the new key",`- Stop making changes to code depending directly or indirectly on MUI X ${e}'s APIs`,"","Note that your license is perpetual in production environments with any version released before your license term ends.","",`- License key expiry timestamp: ${new Date(n)}`,`- Installed license key: ${t}`,""].join(`
`))}en.__MUI_LICENSE_INFO__=en.__MUI_LICENSE_INFO__||{key:void 0};class jt{static getLicenseInfo(){return en.__MUI_LICENSE_INFO__}static getLicenseKey(){return jt.getLicenseInfo().key}static setLicenseKey(t){const n=jt.getLicenseInfo();n.key=t}}let K=function(e){return e.NotFound="NotFound",e.Invalid="Invalid",e.ExpiredAnnual="ExpiredAnnual",e.ExpiredAnnualGrace="ExpiredAnnualGrace",e.ExpiredVersion="ExpiredVersion",e.Valid="Valid",e.OutOfScope="OutOfScope",e.NotAvailableInInitialProPlan="NotAvailableInInitialProPlan",e}({});function xi(e,t){let n;return e.includes("-pro")?n=["pro","premium"]:e.includes("-premium")?n=["premium"]:n=[],n.includes(t)}const Di=/^.*EXPIRY=([0-9]+),.*$/,Ci=["x-data-grid-pro","x-date-pickers-pro"],Pi=e=>{let t;try{t=parseInt(e.match(Di)[1],10),(!t||Number.isNaN(t))&&(t=null)}catch{t=null}return{scope:"pro",licensingModel:"perpetual",expiryTimestamp:t,planVersion:"initial"}},wi=e=>{const t={scope:null,licensingModel:null,expiryTimestamp:null,planVersion:"initial"};return e.split(",").map(n=>n.split("=")).filter(n=>n.length===2).forEach(([n,r])=>{if(n==="S"&&(t.scope=r),n==="LM"&&(t.licensingModel=r),n==="E"){const a=parseInt(r,10);a&&!Number.isNaN(a)&&(t.expiryTimestamp=a)}n==="PV"&&(t.planVersion=r)}),t},ki=e=>{const t=yr(e);return t.includes("KEYVERSION=1")?Pi(t):t.includes("KV=2")?wi(t):null};function Ri({releaseInfo:e,licenseKey:t,packageName:n}){if(!e)throw new Error("MUI X: The release information is missing. Not able to validate license.");if(!t)return{status:K.NotFound};const r=t.substr(0,32),a=t.substr(32);if(r!==di(a))return{status:K.Invalid};const o=ki(a);if(o==null)return console.error("MUI X: Error checking license. Key version not found!"),{status:K.Invalid};if(o.licensingModel==null||!pi.includes(o.licensingModel))return console.error("MUI X: Error checking license. Licensing model not found or invalid!"),{status:K.Invalid};if(o.expiryTimestamp==null)return console.error("MUI X: Error checking license. Expiry timestamp not found or invalid!"),{status:K.Invalid};o.licensingModel;{const l=parseInt(yr(e),10);if(Number.isNaN(l))throw new Error("MUI X: The release information is invalid. Not able to validate license.");if(o.expiryTimestamp<l)return{status:K.ExpiredVersion}}return o.scope==null||!ui.includes(o.scope)?(console.error("MUI X: Error checking license. scope not found or invalid!"),{status:K.Invalid}):xi(n,o.scope)?o.planVersion==="initial"&&o.scope==="pro"&&!Ci.includes(n)?{status:K.NotAvailableInInitialProPlan}:{status:K.Valid}:{status:K.OutOfScope}}const Si=g.createContext({key:void 0}),wt={};function Ut(e,t){const{key:n}=g.useContext(Si);return g.useMemo(()=>{const r=n??jt.getLicenseKey();if(wt[e]&&wt[e].key===r)return wt[e].licenseVerifier;const a=e.includes("premium")?"Premium":"Pro",o=Ri({releaseInfo:t,licenseKey:r,packageName:e}),l=`@mui/${e}`;return o.status===K.Valid||(o.status===K.Invalid?fi():o.status===K.NotAvailableInInitialProPlan?hi():o.status===K.OutOfScope?gi():o.status===K.NotFound?mi({plan:a,packageName:l}):o.status===K.ExpiredAnnualGrace?yi(y({plan:a},o.meta)):o.status===K.ExpiredAnnual?vi(y({plan:a},o.meta)):o.status===K.ExpiredVersion&&bi({packageName:l})),wt[e]={key:r,licenseVerifier:o},o},[e,t,n])}function Ii(e){switch(e){case K.ExpiredAnnualGrace:case K.ExpiredAnnual:return"MUI X Expired license key";case K.ExpiredVersion:return"MUI X Expired package version";case K.Invalid:return"MUI X Invalid license key";case K.OutOfScope:return"MUI X License key plan mismatch";case K.NotAvailableInInitialProPlan:return"MUI X Product not covered by plan";case K.NotFound:return"MUI X Missing license key";default:throw new Error("Unhandled MUI X license status.")}}function Mi(e){const{packageName:t,releaseInfo:n}=e,r=Ut(t,n);return r.status===K.Valid?null:A.jsx("div",{style:{position:"absolute",pointerEvents:"none",color:"#8282829e",zIndex:1e5,width:"100%",textAlign:"center",bottom:"50%",right:0,letterSpacing:5,fontSize:24},children:Ii(r.status)})}const Kt=()=>"MTcyMzc1NTYwMDAwMA==",Fi=e=>gt("MuiDateRangeCalendar",e),Un=ft("MuiDateRangeCalendar",["root","monthContainer","dayDragging"]),bt=(e,t)=>!!(t&&t[0]&&t[1]&&!e.isBefore(t[1],t[0])),Jt=(e,t,n)=>bt(e,n)&&e.isWithinRange(t,n),St=(e,t,n)=>bt(e,n)&&e.isSameDay(t,n[0]),ct=(e,t,n)=>bt(e,n)&&e.isSameDay(t,n[1]);function dn({utils:e,range:t,newDate:n,rangePosition:r,allowRangeFlip:a=!1,shouldMergeDateAndTime:o=!1}){const[l,i]=t;if(o&&n&&(l&&r==="start"&&(n=Rn(e,n,l)),i&&r==="end"&&(n=Rn(e,n,i))),r==="start"){const p=a?{nextSelection:"start",newRange:[i,n]}:{nextSelection:"end",newRange:[n,null]};return i&&e.isAfter(n,i)?p:{nextSelection:"end",newRange:[n,i]}}const f=a?{nextSelection:"end",newRange:[n,l]}:{nextSelection:"end",newRange:[n,null]};return l&&e.isBeforeDay(n,l)?f:{nextSelection:"start",newRange:[l,n]}}function Ti(e){if(e.newDate==null)return[null,null];const[t,n]=e.range,{newRange:r}=dn(e);if(!t||!n)return r;const[a,o]=r;return e.rangePosition==="end"?[n,o]:[a,t]}function Ei(e){return gt("MuiDateRangePickerDay",e)}const q=ft("MuiDateRangePickerDay",["root","rangeIntervalDayHighlight","rangeIntervalDayHighlightStart","rangeIntervalDayHighlightEnd","rangeIntervalPreview","rangeIntervalDayPreview","rangeIntervalDayPreviewStart","rangeIntervalDayPreviewEnd","outsideCurrentMonth","startOfMonth","endOfMonth","firstVisibleCell","lastVisibleCell","hiddenDayFiller","day","dayOutsideRangeInterval","dayInsideRangeInterval","notSelectedDate"]),Oi=["className","day","outsideCurrentMonth","isEndOfHighlighting","isEndOfPreviewing","isHighlighting","isPreviewing","isStartOfHighlighting","isStartOfPreviewing","selected","isVisuallySelected","sx","draggable","isFirstVisibleCell","isLastVisibleCell"],Ai=Kt(),_i=e=>{const{isHighlighting:t,outsideCurrentMonth:n,isStartOfHighlighting:r,isStartOfMonth:a,isEndOfHighlighting:o,isEndOfMonth:l,isPreviewing:i,isStartOfPreviewing:f,isEndOfPreviewing:p,isFirstVisibleCell:h,isLastVisibleCell:v,isHiddenDayFiller:m,selected:b,classes:C}=e;return Qe({root:["root",t&&"rangeIntervalDayHighlight",r&&"rangeIntervalDayHighlightStart",o&&"rangeIntervalDayHighlightEnd",n&&"outsideCurrentMonth",a&&"startOfMonth",l&&"endOfMonth",h&&"firstVisibleCell",v&&"lastVisibleCell",m&&"hiddenDayFiller"],rangeIntervalPreview:["rangeIntervalPreview",i&&"rangeIntervalDayPreview",(f||a)&&"rangeIntervalDayPreviewStart",(p||l)&&"rangeIntervalDayPreviewEnd"],day:["day",!b&&"notSelectedDate",!t&&"dayOutsideRangeInterval",!b&&t&&"dayInsideRangeInterval"]},Ei,C)},It={borderTopRightRadius:"50%",borderBottomRightRadius:"50%"},Mt={borderTopLeftRadius:"50%",borderBottomLeftRadius:"50%"},ji=ve("div",{name:"MuiDateRangePickerDay",slot:"Root",overridesResolver:(e,t)=>[{[`&.${q.rangeIntervalDayHighlight}`]:t.rangeIntervalDayHighlight},{[`&.${q.rangeIntervalDayHighlightStart}`]:t.rangeIntervalDayHighlightStart},{[`&.${q.rangeIntervalDayHighlightEnd}`]:t.rangeIntervalDayHighlightEnd},{[`&.${q.firstVisibleCell}`]:t.firstVisibleCell},{[`&.${q.lastVisibleCell}`]:t.lastVisibleCell},{[`&.${q.startOfMonth}`]:t.startOfMonth},{[`&.${q.endOfMonth}`]:t.endOfMonth},{[`&.${q.outsideCurrentMonth}`]:t.outsideCurrentMonth},{[`&.${q.hiddenDayFiller}`]:t.hiddenDayFiller},t.root]})(({theme:e})=>({variants:[{props:{isHiddenDayFiller:!1},style:{[`&:first-of-type .${q.rangeIntervalDayPreview}`]:y({},Mt,{borderLeftColor:(e.vars||e).palette.divider}),[`&:last-of-type .${q.rangeIntervalDayPreview}`]:y({},It,{borderRightColor:(e.vars||e).palette.divider})}},{props:{isHiddenDayFiller:!1,isHighlighting:!0},style:{borderRadius:0,color:(e.vars||e).palette.primary.contrastText,backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Br(e.palette.primary.main,e.palette.action.focusOpacity),"&:first-of-type":Mt,"&:last-of-type":It}},{props:({ownerState:{isHiddenDayFiller:t,isStartOfHighlighting:n,isFirstVisibleCell:r}})=>!t&&(n||r),style:y({},Mt,{paddingLeft:0})},{props:({ownerState:{isHiddenDayFiller:t,isEndOfHighlighting:n,isLastVisibleCell:r}})=>!t&&(n||r),style:y({},It,{paddingRight:0})}]})),Li=ve("div",{name:"MuiDateRangePickerDay",slot:"RangeIntervalPreview",overridesResolver:(e,t)=>[{[`&.${q.rangeIntervalDayPreview}`]:t.rangeIntervalDayPreview},{[`&.${q.rangeIntervalDayPreviewStart}`]:t.rangeIntervalDayPreviewStart},{[`&.${q.rangeIntervalDayPreviewEnd}`]:t.rangeIntervalDayPreviewEnd},t.rangeIntervalPreview]})(({theme:e})=>({border:"2px solid transparent",variants:[{props:{isPreviewing:!0,isHiddenDayFiller:!1},style:{borderRadius:0,border:`2px dashed ${(e.vars||e).palette.divider}`,borderLeftColor:"transparent",borderRightColor:"transparent"}},{props:({ownerState:{isPreviewing:t,isHiddenDayFiller:n,isStartOfPreviewing:r,isFirstVisibleCell:a}})=>t&&!n&&(r||a),style:y({borderLeftColor:(e.vars||e).palette.divider},Mt)},{props:({ownerState:{isPreviewing:t,isHiddenDayFiller:n,isEndOfPreviewing:r,isLastVisibleCell:a}})=>t&&!n&&(r||a),style:y({borderRightColor:(e.vars||e).palette.divider},It)}]})),$i=ve(aa,{name:"MuiDateRangePickerDay",slot:"Day",overridesResolver:(e,t)=>[{[`&.${q.dayInsideRangeInterval}`]:t.dayInsideRangeInterval},{[`&.${q.dayOutsideRangeInterval}`]:t.dayOutsideRangeInterval},{[`&.${q.notSelectedDate}`]:t.notSelectedDate},t.day]})({transform:"scale(1.1)","& > *":{transform:"scale(0.9)"},variants:[{props:{draggable:!0},style:{cursor:"grab",touchAction:"none"}}]}),Ni=g.forwardRef(function(t,n){const r=Oe({props:t,name:"MuiDateRangePickerDay"}),{className:a,day:o,outsideCurrentMonth:l,isHighlighting:i,isPreviewing:f,selected:p=!1,isVisuallySelected:h,sx:v,draggable:m,isFirstVisibleCell:b,isLastVisibleCell:C}=r,M=ge(r,Oi);Ut("x-date-pickers-pro",Ai);const P=Ze(),k=P.isSameDay(o,P.endOfMonth(o)),R=P.isSameDay(o,P.startOfMonth(o)),d=y({},r,{selected:p,isStartOfMonth:R,isEndOfMonth:k,draggable:m,isFirstVisibleCell:b,isLastVisibleCell:C,isHiddenDayFiller:l&&!M.showDaysOutsideCurrentMonth}),u=_i(d);return A.jsx(ji,{className:qe(u.root,a),ownerState:d,sx:v,children:A.jsx(Li,{className:u.rangeIntervalPreview,ownerState:d,children:A.jsx($i,y({},M,{ref:n,disableMargin:!0,day:o,selected:h,outsideCurrentMonth:l,className:u.day,ownerState:d,draggable:m,isFirstVisibleCell:b,isLastVisibleCell:C}))})})}),zi=g.memo(Ni),Ye=(e,t,n)=>{const r=e.dataset.timestamp;if(!r)return null;const a=+r;return t.date(new Date(a).toISOString(),n)},Hi=e=>e.target.dataset.timestamp===e.dataTransfer.getData("draggingDate"),vr=e=>e&&(e instanceof HTMLButtonElement&&!e.disabled?e:e.children.length?vr(e.children[0]):null),Zt=(e,t)=>{var n;if(((n=e.changedTouches)==null?void 0:n.length)===1&&e.touches.length<=1){const r=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY),a=vr(r);return t&&a===e.changedTouches[0].target?null:a}return null},Vi=({utils:e,setRangeDragDay:t,setIsDragging:n,isDragging:r,onDatePositionChange:a,onDrop:o,disableDragEditing:l,dateRange:i,timezone:f})=>{const p=g.useRef(null);g.useEffect(()=>{p.current=document.createElement("img"),p.current.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},[]);const h=u=>{if(u==null)return!1;const w=!l&&!!i[0]&&!!i[1],x=St(e,u,i),S=ct(e,u,i);return w&&(x||S)},v=re(u=>{const w=Ye(u.target,e,f);if(!h(w))return;u.stopPropagation(),p.current&&u.dataTransfer.setDragImage(p.current,0,0),t(w),u.dataTransfer.effectAllowed="move",n(!0);const x=u.target.dataset;x.timestamp&&u.dataTransfer.setData("draggingDate",x.timestamp),x.position&&a(x.position)}),m=re(u=>{const w=Zt(u);if(!w)return;const x=Ye(w,e,f);h(x)&&t(x)}),b=re(u=>{r&&(u.preventDefault(),u.stopPropagation(),u.dataTransfer.dropEffect="move",t(Ye(u.target,e,f)))}),C=re(u=>{const w=Zt(u);if(!w)return;const x=Ye(w,e,f);if(x&&t(x),!(w===u.changedTouches[0].target)||!h(x))return;n(!0);const _=u.target.dataset;_.position&&a(_.position)}),M=re(u=>{r&&(u.preventDefault(),u.stopPropagation())}),P=re(u=>{r&&(u.preventDefault(),u.stopPropagation(),u.dataTransfer.dropEffect="move")}),k=re(u=>{if(!r)return;t(null),n(!1);const w=Zt(u,!0);if(!w)return;w.focus();const x=Ye(w,e,f);x&&o(x)}),R=re(u=>{r&&(u.preventDefault(),u.stopPropagation(),n(!1),t(null))}),d=re(u=>{if(!r||(u.preventDefault(),u.stopPropagation(),n(!1),t(null),u.currentTarget.focus(),Hi(u)))return;const w=Ye(u.target,e,f);w&&o(w)});return{onDragStart:v,onDragEnter:b,onDragLeave:M,onDragOver:P,onDragEnd:R,onDrop:d,onTouchStart:m,onTouchMove:C,onTouchEnd:k}},Wi=({disableDragEditing:e,utils:t,onDatePositionChange:n,onDrop:r,dateRange:a,timezone:o})=>{const[l,i]=g.useState(!1),[f,p]=g.useState(null),h=re(b=>{t.isEqual(b,f)||p(b)}),v=g.useMemo(()=>{const[b,C]=a;if(f){if(b&&t.isBefore(f,b))return"start";if(C&&t.isAfter(f,C))return"end"}return null},[a,f,t]),m=Vi({utils:t,onDatePositionChange:n,onDrop:r,setIsDragging:i,isDragging:l,setRangeDragDay:h,disableDragEditing:e,dateRange:a,timezone:o});return g.useMemo(()=>y({isDragging:l,rangeDragDay:f,draggingDatePosition:v},e?{}:m),[l,f,v,e,m])},xn=(e,t)=>{const[n,r]=Ur({name:"useRangePosition",state:"rangePosition",controlled:e.rangePosition,default:e.defaultRangePosition??"start"}),a=l=>{if((t==null?void 0:t.current)==null)return;const i=t.current.getSections(),f=l==="start"?0:i.length/2;t.current.setSelectedSections(f)},o=re(l=>{var i;r(l),(i=e.onRangePositionChange)==null||i.call(e,l),a(l)});return{rangePosition:n,onRangePositionChange:o}},Bi=40,Ui=["calendars","month","monthIndex","labelId"],Ki=["format","slots","slotProps","currentMonth","onMonthChange","disableFuture","disablePast","minDate","maxDate","timezone","reduceAnimations","views","view"],Yi=ve(oa)({padding:"12px 16px 4px 16px",display:"flex",alignItems:"center",justifyContent:"space-between"}),Xi=g.forwardRef(function(t,n){const r=Ze(),a=Wt(),{calendars:o,month:l,monthIndex:i,labelId:f}=t,p=ge(t,Ui),{format:h,slots:v,slotProps:m,currentMonth:b,onMonthChange:C,disableFuture:M,disablePast:P,minDate:k,maxDate:R,timezone:d}=p,u=ge(p,Ki),w=ia(b,{disableFuture:M,maxDate:R,timezone:d}),x=sa(b,{disablePast:P,minDate:k,timezone:d});if(o===1)return A.jsx(la,y({},p,{labelId:f,ref:n}));const S=()=>C(r.addMonths(b,1),"left"),O=()=>C(r.addMonths(b,-1),"right");return A.jsx(Yi,y({},u,{ref:n,onGoToPrevious:O,onGoToNext:S,isPreviousHidden:i!==0,isPreviousDisabled:x,previousLabel:a.previousMonth,isNextHidden:i!==o-1,isNextDisabled:w,nextLabel:a.nextMonth,slots:v,slotProps:m,labelId:f,children:r.formatByString(l,h??`${r.formats.month} ${r.formats.year}`)}))}),Gi=["value","defaultValue","referenceDate","onChange","className","disableFuture","disablePast","minDate","maxDate","shouldDisableDate","reduceAnimations","onMonthChange","rangePosition","defaultRangePosition","onRangePositionChange","calendars","currentMonthCalendarPosition","slots","slotProps","loading","renderLoading","disableHighlightToday","readOnly","disabled","showDaysOutsideCurrentMonth","dayOfWeekFormatter","disableAutoMonthSwitching","autoFocus","fixedWeekNumber","disableDragEditing","displayWeekNumber","timezone","availableRangePositions","views","view","openTo","onViewChange"],qi=["isDragging","rangeDragDay","draggingDatePosition"],Qi=Kt(),Ji=ve("div",{name:"MuiDateRangeCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row"}),Zi=ve("div",{name:"MuiDateRangeCalendar",slot:"Container",overridesResolver:(e,t)=>t.monthContainer})(({theme:e})=>({"&:not(:last-of-type)":{borderRight:`1px solid ${(e.vars||e).palette.divider}`}})),es=(Bi+ga*2)*6,ts=ve(ca)(({theme:e})=>({minWidth:312,minHeight:es,[`&.${Un.dayDragging}`]:{[`& .${q.day}`]:{cursor:"grabbing"},[`& .${q.root}:not(.${q.rangeIntervalDayHighlightStart}):not(.${q.rangeIntervalDayHighlightEnd}) .${q.day}:not(.${q.notSelectedDate})`]:{opacity:.6}},[`&:not(.${Un.dayDragging}) .${q.dayOutsideRangeInterval}`]:{"@media (pointer: fine)":{"&:hover":{border:`1px solid ${(e.vars||e).palette.grey[500]}`}}}}));function ns(e,t){const n=Ze(),r=qn(),a=ha(),o=Oe({props:e,name:t});return y({},o,{renderLoading:o.renderLoading??(()=>A.jsx("span",{children:"..."})),reduceAnimations:o.reduceAnimations??a,loading:e.loading??!1,disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,openTo:o.openTo??"day",views:o.views??["day"],minDate:Et(n,o.minDate,r.minDate),maxDate:Et(n,o.maxDate,r.maxDate),calendars:o.calendars??2,disableDragEditing:o.disableDragEditing??!1,availableRangePositions:o.availableRangePositions??["start","end"]})}const rs=e=>{const{classes:t,isDragging:n}=e;return Qe({root:["root"],monthContainer:["monthContainer"],dayCalendar:[n&&"dayDragging"]},Fi,t)},as=g.forwardRef(function(t,n){const r=ns(t,"MuiDateRangeCalendar"),a=un(da,{defaultMatches:!1}),{value:o,defaultValue:l,referenceDate:i,onChange:f,className:p,disableFuture:h,disablePast:v,minDate:m,maxDate:b,shouldDisableDate:C,reduceAnimations:M,onMonthChange:P,rangePosition:k,defaultRangePosition:R,onRangePositionChange:d,calendars:u,currentMonthCalendarPosition:w=1,slots:x,slotProps:S,loading:O,renderLoading:_,disableHighlightToday:H,readOnly:W,disabled:G,showDaysOutsideCurrentMonth:B,dayOfWeekFormatter:z,disableAutoMonthSwitching:U,autoFocus:$,fixedWeekNumber:V,disableDragEditing:te,displayWeekNumber:N,timezone:ue,availableRangePositions:Y,views:pe,view:he,openTo:oe,onViewChange:Re}=r,j=ge(r,Gi),{value:T,handleValueChange:ee,timezone:ae}=Qn({name:"DateRangeCalendar",timezone:ue,value:o,defaultValue:l,onChange:f,valueManager:Ge}),{setValueAndGoToNextView:me,view:ie}=ua({view:he,views:pe,openTo:oe,onChange:ee,onViewChange:Re,autoFocus:$}),E=Ze(),rt=pa(ae),yt=Xn(),{rangePosition:fe,onRangePositionChange:at}=xn({rangePosition:k,defaultRangePosition:R,onRangePositionChange:d}),Ie=re(L=>{fe!==L&&at(L)}),He=re((L,X,xe=!1)=>{const{nextSelection:Pe,newRange:Ke}=dn({newDate:L,utils:E,range:T,rangePosition:fe,allowRangeFlip:xe,shouldMergeDateAndTime:!0}),je=Y.includes(Pe);je&&at(Pe);const Fe=fe==="end"&&bt(E,Ke);me(Ke,Fe||!je?"finish":"partial",ie)}),Ve=re(L=>{He(L,void 0,!0)}),Ae=te||G||W,be=g.useMemo(()=>[T[0]==null||!E.isValid(T[0])?T[0]:E.startOfDay(T[0]),T[1]==null||!E.isValid(T[1])?T[1]:E.endOfDay(T[1])],[T,E]),vt=Wi({disableDragEditing:Ae,onDrop:Ve,onDatePositionChange:Ie,utils:E,dateRange:be,timezone:ae}),{isDragging:Me,rangeDragDay:D,draggingDatePosition:I}=vt,Z=ge(vt,qi),ne=y({},r,{isDragging:Me}),se=rs(ne),De=g.useMemo(()=>{if(!be[0]||!be[1]||!D)return[null,null];const L=dn({utils:E,range:be,newDate:D,rangePosition:fe,allowRangeFlip:!0}).newRange;return L[0]!==null&&L[1]!==null?[E.startOfDay(L[0]),E.endOfDay(L[1])]:L},[fe,D,E,be]),Se=g.useMemo(()=>{if(C)return L=>C(L,I||fe)},[C,fe,I]),{calendarState:Ce,changeFocusedDay:ot,changeMonth:it,handleChangeMonth:We,onMonthSwitchingAnimationEnd:st}=fa({value:T[0]||T[1],referenceDate:i,disableFuture:h,disablePast:v,disableSwitchToMonthOnDayFocus:!0,maxDate:b,minDate:m,onMonthChange:P,reduceAnimations:M,shouldDisableDate:Se,timezone:ae}),Be=(x==null?void 0:x.calendarHeader)??Xi,lt=$e({elementType:Be,externalSlotProps:S==null?void 0:S.calendarHeader,additionalProps:{calendars:u,views:["day"],view:"day",currentMonth:Ce.currentMonth,onMonthChange:(L,X)=>We({newMonth:L,direction:X}),minDate:m,maxDate:b,disabled:G,disablePast:v,disableFuture:h,reduceAnimations:M,timezone:ae,slots:x,slotProps:S},ownerState:r}),_e=g.useRef(null);g.useEffect(()=>{var je,Fe;const L=fe==="start"?T[0]:T[1];if(!L||!E.isValid(L))return;const X=fe==="start"?(je=_e.current)==null?void 0:je[0]:(Fe=_e.current)==null?void 0:Fe[1];if(_e.current=T,U&&X&&E.isEqual(X,L))return;const xe=u-1,Pe=E.getMonth(Ce.currentMonth),Ke=E.getMonth(L);if(!E.isSameYear(Ce.currentMonth,L)||Ke<Pe||Ke>Pe+xe){const xt=fe==="start"?L:E.addMonths(L,-xe);it(xt)}},[fe,T]);const Yt={disablePast:v,disableFuture:h,maxDate:b,minDate:m},kr={disableHighlightToday:H,readOnly:W,disabled:G},[Rr,Xt]=g.useState(null),Sr=g.useMemo(()=>({onMouseLeave:()=>Xt(null)}),[]),Gt=Ti({utils:E,range:be,newDate:Rr,rangePosition:fe}),Ir=re((L,X)=>{Jt(E,X,be)?Xt(null):Xt(X)}),Mr=y({day:zi},x),Fr=y({},S,{day:L=>{const{day:X}=L,xe=St(E,X,be),Pe=ct(E,X,be),je=!Ae&&be[0]&&be[1]&&(xe||Pe);let Fe;xe?Fe="start":Pe&&(Fe="end");const xt=Me?St(E,X,De):xe,Or=Me?ct(E,X,De):Pe;return y({isPreviewing:a?Jt(E,X,Gt):!1,isStartOfPreviewing:a?St(E,X,Gt):!1,isEndOfPreviewing:a?ct(E,X,Gt):!1,isHighlighting:Jt(E,X,Me?De:be),isStartOfHighlighting:xt,isEndOfHighlighting:Me?ct(E,X,De):Pe,onMouseEnter:a?Ir:void 0,isVisuallySelected:L.selected||Me&&(xt||Or),"data-position":Fe},Z,{draggable:je?!0:void 0},Xe(S==null?void 0:S.day,L)??{})}}),Tr=g.useMemo(()=>Array.from({length:u}).map((L,X)=>X),[u]),Ue=g.useMemo(()=>{const L=E.addMonths(Ce.currentMonth,1-w);return Array.from({length:u}).map((X,xe)=>E.addMonths(L,xe))},[E,Ce.currentMonth,u,w]),Er=g.useMemo(()=>$?T[0]!=null?Ue.find(L=>E.isSameMonth(L,T[0])):T[1]!=null?Ue.find(L=>E.isSameMonth(L,T[1])):Ue.find(L=>E.isSameMonth(L,rt))??Ue[0]:null,[E,T,Ue,$,rt]);return A.jsxs(Ji,y({ref:n,className:qe(p,se.root),ownerState:ne},j,{children:[A.jsx(Mi,{packageName:"x-date-pickers-pro",releaseInfo:Qi}),Tr.map(L=>{const X=Ue[L],xe=`${yt}-grid-${L}-label`;return A.jsxs(Zi,{className:se.monthContainer,children:[A.jsx(Be,y({},lt,{month:X,monthIndex:L,labelId:xe})),A.jsx(ts,y({className:se.dayCalendar},Ce,Yt,kr,{onMonthSwitchingAnimationEnd:st,onFocusedDayChange:ot,reduceAnimations:M,selectedDays:T,onSelectedDaysChange:He,currentMonth:X,TransitionProps:Sr,shouldDisableDate:Se,showDaysOutsideCurrentMonth:u===1&&B,dayOfWeekFormatter:z,loading:O,renderLoading:_,slots:Mr,slotProps:Fr,autoFocus:X===Er,fixedWeekNumber:V,displayWeekNumber:N,timezone:ae,gridLabelId:xe}))]},L)})]}))}),xr=({value:e,defaultValue:t,referenceDate:n,onChange:r,className:a,classes:o,disableFuture:l,disablePast:i,minDate:f,maxDate:p,shouldDisableDate:h,reduceAnimations:v,onMonthChange:m,rangePosition:b,defaultRangePosition:C,onRangePositionChange:M,calendars:P,currentMonthCalendarPosition:k,slots:R,slotProps:d,loading:u,renderLoading:w,disableHighlightToday:x,readOnly:S,disabled:O,showDaysOutsideCurrentMonth:_,dayOfWeekFormatter:H,disableAutoMonthSwitching:W,sx:G,autoFocus:B,fixedWeekNumber:z,disableDragEditing:U,displayWeekNumber:$,timezone:V,availableRangePositions:te,views:N,view:ue,onViewChange:Y})=>A.jsx(as,{value:e,defaultValue:t,referenceDate:n,onChange:r,className:a,classes:o,disableFuture:l,disablePast:i,minDate:f,maxDate:p,shouldDisableDate:h,reduceAnimations:v,onMonthChange:m,rangePosition:b,defaultRangePosition:C,onRangePositionChange:M,calendars:P,currentMonthCalendarPosition:k,slots:R,slotProps:d,loading:u,renderLoading:w,disableHighlightToday:x,readOnly:S,disabled:O,showDaysOutsideCurrentMonth:_,dayOfWeekFormatter:H,disableAutoMonthSwitching:W,sx:G,autoFocus:B,fixedWeekNumber:z,disableDragEditing:U,displayWeekNumber:$,timezone:V,availableRangePositions:te,view:ue,views:N,onViewChange:Y}),os=["shouldDisableDate"],Lt=({props:e,value:t,adapter:n})=>{const[r,a]=t,{shouldDisableDate:o}=e,l=ge(e,os),i=[Sn({adapter:n,value:r,props:y({},l,{shouldDisableDate:f=>!!(o!=null&&o(f,"start"))})}),Sn({adapter:n,value:a,props:y({},l,{shouldDisableDate:f=>!!(o!=null&&o(f,"end"))})})];return i[0]||i[1]?i:r===null||a===null?[null,null]:bt(n.utils,t)?[null,null]:["invalidRange","invalidRange"]},Kn=(e,t)=>Object.keys(e).reduce((n,r)=>(t.includes(r)||(n[r]=e[r]),n),{}),is=e=>{const t=g.useRef(null),n=Tt(e.unstableEndFieldRef,t),[r,a]=g.useState(e.selectedSections??null),[o,l]=g.useState(null),i=()=>t.current&&t.current.isFieldFocused()?"end":"start",f=re(v=>{var m;a(v),i()==="start"&&((m=e.onSelectedSectionsChange)==null||m.call(e,v))}),p=re(v=>{var m;l(v),i()==="end"&&((m=e.onSelectedSectionsChange)==null||m.call(e,v))}),h=i();return{start:{unstableFieldRef:e.unstableStartFieldRef,selectedSections:h==="start"&&e.selectedSections!==void 0?e.selectedSections:r,onSelectedSectionsChange:f},end:{unstableFieldRef:n,selectedSections:h==="end"&&e.selectedSections!==void 0?e.selectedSections:o,onSelectedSectionsChange:p}}},ss=({sharedProps:e,startTextFieldProps:t,unstableStartFieldRef:n,endTextFieldProps:r,unstableEndFieldRef:a})=>{const o=ma(e),l=ba(),{value:i,defaultValue:f,format:p,formatDensity:h,shouldRespectLeadingZeros:v,onChange:m,disabled:b,readOnly:C,selectedSections:M,onSelectedSectionsChange:P,timezone:k,enableAccessibleFieldDOMStructure:R,autoFocus:d}=o,{value:u,handleValueChange:w,timezone:x}=Qn({name:"useMultiInputDateRangeField",timezone:k,value:i,defaultValue:f,onChange:m,valueManager:Ge}),S=$=>(V,te)=>{const N=$===0?[V,u[1]]:[u[0],V],ue=y({},te,{validationError:Lt({adapter:l,value:N,props:y({},o,{timezone:x})})});w(N,ue)},O=re(S(0)),_=re(S(1)),H=ya(y({},o,{value:u,timezone:x}),Lt,Ge.isSameError,Ge.defaultErrorState),W=is({selectedSections:M,onSelectedSectionsChange:P,unstableStartFieldRef:n,unstableEndFieldRef:a}),G=y({error:!!H[0]},t,W.start,{disabled:b,readOnly:C,format:p,formatDensity:h,shouldRespectLeadingZeros:v,timezone:x,value:i===void 0?void 0:i[0],defaultValue:f===void 0?void 0:f[0],onChange:O,enableAccessibleFieldDOMStructure:R,autoFocus:d}),B=y({error:!!H[1]},r,W.end,{format:p,formatDensity:h,shouldRespectLeadingZeros:v,disabled:b,readOnly:C,timezone:x,value:i===void 0?void 0:i[1],defaultValue:f===void 0?void 0:f[1],onChange:_,enableAccessibleFieldDOMStructure:R}),z=In(G),U=In(B);return{startDate:Kn(z,["clearable","onClear"]),endDate:Kn(U,["clearable","onClear"])}},ls=["slots","slotProps","unstableStartFieldRef","unstableEndFieldRef","className"];ft("MuiMultiInputDateRangeField",["root","separator"]);const cs=e=>gt("MuiMultiInputDateRangeField",e),ds=e=>{const{classes:t}=e;return Qe({root:["root"],separator:["separator"]},cs,t)},us=ve(g.forwardRef((e,t)=>A.jsx(Kr,y({ref:t,spacing:2,direction:"row",alignItems:"center"},e))),{name:"MuiMultiInputDateRangeField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ps=ve(Ee,{name:"MuiMultiInputDateRangeField",slot:"Separator",overridesResolver:(e,t)=>t.separator})({lineHeight:"1.4375em"}),Dr=g.forwardRef(function(t,n){const r=Oe({props:t,name:"MuiMultiInputDateRangeField"}),{internalProps:a,forwardedProps:o}=va(r),{slots:l,slotProps:i,unstableStartFieldRef:f,unstableEndFieldRef:p,className:h}=o,v=ge(o,ls),m=r,b=ds(m),C=(l==null?void 0:l.root)??us,M=$e({elementType:C,externalSlotProps:i==null?void 0:i.root,externalForwardedProps:v,additionalProps:{ref:n},ownerState:m,className:qe(h,b.root)}),P=(l==null?void 0:l.textField)??(t.enableAccessibleFieldDOMStructure?xa:ye),k=$e({elementType:P,externalSlotProps:i==null?void 0:i.textField,ownerState:y({},m,{position:"start"})}),R=$e({elementType:P,externalSlotProps:i==null?void 0:i.textField,ownerState:y({},m,{position:"end"})}),d=(l==null?void 0:l.separator)??ps,u=$e({elementType:d,externalSlotProps:i==null?void 0:i.separator,additionalProps:{children:` ${a.dateSeparator??"â€“"} `},ownerState:m,className:b.separator}),w=ss({sharedProps:a,startTextFieldProps:k,endTextFieldProps:R,unstableStartFieldRef:f,unstableEndFieldRef:p}),x=Mn(w.startDate),S=Mn(w.endDate);return A.jsxs(C,y({},M,{children:[A.jsx(P,y({fullWidth:!0},x)),A.jsx(d,y({},u)),A.jsx(P,y({fullWidth:!0},S))]}))}),fs=["clearable","onClear"],gs=({wrapperVariant:e,open:t,actions:n,readOnly:r,labelId:a,disableOpenPicker:o,onBlur:l,rangePosition:i,onRangePositionChange:f,localeText:p,pickerSlotProps:h,pickerSlots:v,fieldProps:m,anchorRef:b,currentView:C,initialView:M,onViewChange:P,startFieldRef:k,endFieldRef:R})=>{const d=Wt(),u=Tt(m.unstableStartFieldRef,k),w=Tt(m.unstableEndFieldRef,R),x=g.useRef(i);g.useEffect(()=>{var V;if(!t)return;const $=i==="start"?k:R;if((V=$.current)==null||V.focusField(),!$.current||!C){x.current=i;return}$.current.setSelectedSections(x.current===i?C:0),x.current=i},[i,t,C,k,R]);const S=$=>{$.stopPropagation(),f("start"),!r&&!o&&n.onOpen($)},O=$=>{$.stopPropagation(),f("end"),!r&&!o&&n.onOpen($)},_=()=>{t&&(f("start"),x.current!=="start"&&M&&(P==null||P(M)))},H=()=>{t&&(f("end"),x.current!=="end"&&M&&(P==null||P(M)))},W=y({textField:v==null?void 0:v.textField,root:v==null?void 0:v.fieldRoot,separator:v==null?void 0:v.fieldSeparator},m.slots),G=y({},m.slotProps,{textField:$=>{const V=Xe(h==null?void 0:h.textField,$);let te,N;return $.position==="start"?(te=y({label:(p==null?void 0:p.start)??d.start,onKeyDown:tn(S),onFocus:_,focused:t?i==="start":void 0},!r&&!m.disabled&&{onClick:S},e==="mobile"&&{readOnly:!0}),b&&(N=y({},V==null?void 0:V.InputProps,{ref:b}))):(te=y({label:(p==null?void 0:p.end)??d.end,onKeyDown:tn(O),onFocus:H,focused:t?i==="end":void 0},!r&&!m.disabled&&{onClick:O},e==="mobile"&&{readOnly:!0}),N=V==null?void 0:V.InputProps),y({},a!=null&&{id:`${a}-${$.position}`},te,Xe(h==null?void 0:h.textField,$),{InputProps:N})},root:$=>y({},{onBlur:l},Xe(h==null?void 0:h.fieldRoot,$)),separator:h==null?void 0:h.fieldSeparator}),B=m,z=ge(B,fs);return y({},z,{unstableStartFieldRef:u,unstableEndFieldRef:w,slots:W,slotProps:G})},hs=({wrapperVariant:e,open:t,actions:n,readOnly:r,labelId:a,disableOpenPicker:o,label:l,onBlur:i,rangePosition:f,onRangePositionChange:p,startFieldRef:h,endFieldRef:v,pickerSlots:m,pickerSlotProps:b,fieldProps:C,anchorRef:M,currentView:P})=>{const k=Tt(C.unstableFieldRef,h,v);g.useEffect(()=>{var O;if(!(!t||!h.current)&&!h.current.isFieldFocused()&&P){const _=h.current.getSections().map(W=>W.type),H=f==="start"?_.indexOf(P):_.lastIndexOf(P);(O=h.current)==null||O.focusField(H)}},[f,t,P,h]);const R=()=>{var W,G;if(!((W=h.current)!=null&&W.isFieldFocused()))return;const O=h.current.getSections(),_=(G=h.current)==null?void 0:G.getActiveSectionIndex(),H=_==null||_<O.length/2?"start":"end";H!=null&&H!==f&&p(H)},d=re(O=>{var _;setTimeout(R),(_=C.onSelectedSectionsChange)==null||_.call(C,O)}),u=O=>{O.stopPropagation(),!r&&!o&&n.onOpen(O)},w=y({},C.slots,{textField:m==null?void 0:m.textField,clearButton:m==null?void 0:m.clearButton,clearIcon:m==null?void 0:m.clearIcon}),x=y({},C.slotProps,{textField:b==null?void 0:b.textField,clearButton:m==null?void 0:m.clearButton,clearIcon:m==null?void 0:m.clearIcon});return y({},C,{slots:w,slotProps:x,label:l,unstableFieldRef:k,onKeyDown:tn(u,C.onKeyDown),onSelectedSectionsChange:d,onBlur:i,InputProps:y({ref:M},C==null?void 0:C.InputProps),focused:t?!0:void 0},a!=null&&{id:a},e==="mobile"&&{readOnly:!0},!r&&!C.disabled&&{onClick:u})},Cr=e=>e.fieldType==="multi-input"?gs(e):hs(e),ms=["props"],bs=Kt(),ys=e=>{let{props:t}=e,n=ge(e,ms);Ut("x-date-pickers-pro",bs);const{slots:r,slotProps:a,className:o,sx:l,format:i,formatDensity:f,enableAccessibleFieldDOMStructure:p,selectedSections:h,onSelectedSectionsChange:v,timezone:m,label:b,inputRef:C,name:M,readOnly:P,disabled:k,autoFocus:R,disableOpenPicker:d,localeText:u,reduceAnimations:w}=t,x=g.useRef(null),S=g.useRef(null),O=g.useRef(null),_=g.useRef(null),H=g.useRef(null),W=g.useRef(t.openTo??null),G=r.field.fieldType??"multi-input",{rangePosition:B,onRangePositionChange:z}=xn(t,G==="single-input"?_:void 0),{open:U,actions:$,layoutProps:V,renderCurrentView:te,shouldRestoreFocus:N,fieldProps:ue}=Jn(y({},n,{props:t,wrapperVariant:"desktop",autoFocusView:!1,fieldRef:B==="start"?_:H,additionalViewProps:{rangePosition:B,onRangePositionChange:z}}));g.useEffect(()=>{V.view&&(W.current=V.view)},[]);const Y=()=>{Da(()=>{var ee,ae;(ee=x.current)!=null&&ee.contains(Fn(document))||(ae=O.current)!=null&&ae.contains(Fn(document))||$.onDismiss()})},pe=r.field,he=$e({elementType:pe,externalSlotProps:a==null?void 0:a.field,additionalProps:y({},ue,{readOnly:P,disabled:k,className:o,sx:l,format:i,formatDensity:f,enableAccessibleFieldDOMStructure:p,selectedSections:h,onSelectedSectionsChange:v,timezone:m,autoFocus:R&&!t.open,ref:x},G==="single-input"?{inputRef:C,name:M}:{}),ownerState:t}),oe=Cr({wrapperVariant:"desktop",fieldType:G,open:U,actions:$,readOnly:P,disableOpenPicker:d,label:b,localeText:u,onBlur:Y,rangePosition:B,onRangePositionChange:z,pickerSlotProps:a,pickerSlots:r,fieldProps:he,anchorRef:S,startFieldRef:_,endFieldRef:H,currentView:V.view!==t.openTo?V.view:void 0,initialView:W.current??void 0,onViewChange:V.onViewChange}),Re=y({},a,{tabs:y({},a==null?void 0:a.tabs,{rangePosition:B,onRangePositionChange:z}),toolbar:y({},a==null?void 0:a.toolbar,{rangePosition:B,onRangePositionChange:z})}),j=(r==null?void 0:r.layout)??Zn;return{renderPicker:()=>A.jsxs(pn,{localeText:u,children:[A.jsx(pe,y({},oe)),A.jsx(Ca,y({role:"tooltip",placement:"bottom-start",containerRef:O,anchorEl:S.current,onBlur:Y},$,{open:U,slots:r,slotProps:a,shouldRestoreFocus:N,reduceAnimations:w,children:A.jsx(j,y({},V,a==null?void 0:a.layout,{slots:r,slotProps:Re,children:te()}))}))]})}},Pr=g.forwardRef(function(t,n){var i;const r=mr(t,"MuiDesktopDateRangePicker"),a=y({day:xr},r.viewRenderers),o=y({},r,{viewRenderers:a,calendars:r.calendars??2,views:["day"],openTo:"day",slots:y({field:Dr},r.slots),slotProps:y({},r.slotProps,{field:f=>{var p;return y({},Xe((p=r.slotProps)==null?void 0:p.field,f),er(r),{ref:n})},toolbar:y({hidden:!0},(i=r.slotProps)==null?void 0:i.toolbar)})}),{renderPicker:l}=ys({props:o,valueManager:Ge,valueType:"date",validator:Lt});return l()});Pr.propTypes={autoFocus:c.bool,calendars:c.oneOf([1,2,3]),className:c.string,closeOnSelect:c.bool,currentMonthCalendarPosition:c.oneOf([1,2,3]),dayOfWeekFormatter:c.func,defaultRangePosition:c.oneOf(["end","start"]),defaultValue:c.arrayOf(c.object),disableAutoMonthSwitching:c.bool,disabled:c.bool,disableDragEditing:c.bool,disableFuture:c.bool,disableHighlightToday:c.bool,disableOpenPicker:c.bool,disablePast:c.bool,displayWeekNumber:c.bool,enableAccessibleFieldDOMStructure:c.any,fixedWeekNumber:c.number,format:c.string,formatDensity:c.oneOf(["dense","spacious"]),inputRef:Gn,label:c.node,loading:c.bool,localeText:c.object,maxDate:c.object,minDate:c.object,name:c.string,onAccept:c.func,onChange:c.func,onClose:c.func,onError:c.func,onMonthChange:c.func,onOpen:c.func,onRangePositionChange:c.func,onSelectedSectionsChange:c.func,open:c.bool,rangePosition:c.oneOf(["end","start"]),readOnly:c.bool,reduceAnimations:c.bool,referenceDate:c.object,renderLoading:c.func,selectedSections:c.oneOfType([c.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),c.number]),shouldDisableDate:c.func,showDaysOutsideCurrentMonth:c.bool,slotProps:c.object,slots:c.object,sx:c.oneOfType([c.arrayOf(c.oneOfType([c.func,c.object,c.bool])),c.func,c.object]),timezone:c.string,value:c.arrayOf(c.object),viewRenderers:c.shape({day:c.func})};const vs=["props"],xs=Kt(),Ds=e=>{var j;let{props:t}=e,n=ge(e,vs);Ut("x-date-pickers-pro",xs);const{slots:r,slotProps:a,className:o,sx:l,format:i,formatDensity:f,enableAccessibleFieldDOMStructure:p,selectedSections:h,onSelectedSectionsChange:v,timezone:m,label:b,inputRef:C,name:M,readOnly:P,disabled:k,disableOpenPicker:R,localeText:d}=t,u=g.useRef(null),w=g.useRef(null),x=r.field.fieldType??"multi-input",{rangePosition:S,onRangePositionChange:O}=xn(t,x==="single-input"?u:void 0),_=Xn(),H=Wt(),{open:W,actions:G,layoutProps:B,renderCurrentView:z,fieldProps:U}=Jn(y({},n,{props:t,wrapperVariant:"mobile",autoFocusView:!0,fieldRef:S==="start"?u:w,additionalViewProps:{rangePosition:S,onRangePositionChange:O}})),$=r.field,V=$e({elementType:$,externalSlotProps:a==null?void 0:a.field,additionalProps:y({},U,{readOnly:P??!0,disabled:k,className:o,sx:l,format:i,formatDensity:f,enableAccessibleFieldDOMStructure:p,selectedSections:h,onSelectedSectionsChange:v,timezone:m},x==="single-input"?{inputRef:C,name:M}:{}),ownerState:t}),te=((j=a==null?void 0:a.toolbar)==null?void 0:j.hidden)??!1,N=Cr({wrapperVariant:"mobile",fieldType:x,open:W,actions:G,readOnly:P,labelId:_,disableOpenPicker:R,label:b,localeText:d,rangePosition:S,onRangePositionChange:O,pickerSlots:r,pickerSlotProps:a,fieldProps:V,startFieldRef:u,endFieldRef:w}),ue=y({},a,{tabs:y({},a==null?void 0:a.tabs,{rangePosition:S,onRangePositionChange:O}),toolbar:y({},a==null?void 0:a.toolbar,{titleId:_,rangePosition:S,onRangePositionChange:O})}),Y=(r==null?void 0:r.layout)??Zn,pe=y({},H,d);let he=n.valueType==="date-time"?`${_}-start-toolbar ${_}-end-toolbar`:_;if(te){const T=[];x==="multi-input"?(pe.start&&T.push(`${_}-start-label`),pe.end&&T.push(`${_}-end-label`)):b!=null&&T.push(`${_}-label`),he=T.length>0?T.join(" "):void 0}const oe=y({},a,{mobilePaper:y({"aria-labelledby":he},a==null?void 0:a.mobilePaper)});return{renderPicker:()=>A.jsxs(pn,{localeText:d,children:[A.jsx($,y({},N)),A.jsx(Pa,y({},G,{open:W,slots:r,slotProps:oe,children:A.jsx(Y,y({},B,oe==null?void 0:oe.layout,{slots:r,slotProps:ue,children:z()}))}))]})}},wr=g.forwardRef(function(t,n){var i;const r=mr(t,"MuiMobileDateRangePicker"),a=y({day:xr},r.viewRenderers),o=y({},r,{viewRenderers:a,calendars:1,views:["day"],openTo:"day",slots:y({field:Dr},r.slots),slotProps:y({},r.slotProps,{field:f=>{var p;return y({},Xe((p=r.slotProps)==null?void 0:p.field,f),er(r),{ref:n})},toolbar:y({hidden:!1},(i=r.slotProps)==null?void 0:i.toolbar)})}),{renderPicker:l}=Ds({props:o,valueManager:Ge,valueType:"date",validator:Lt});return l()});wr.propTypes={autoFocus:c.bool,className:c.string,closeOnSelect:c.bool,currentMonthCalendarPosition:c.oneOf([1,2,3]),dayOfWeekFormatter:c.func,defaultRangePosition:c.oneOf(["end","start"]),defaultValue:c.arrayOf(c.object),disableAutoMonthSwitching:c.bool,disabled:c.bool,disableDragEditing:c.bool,disableFuture:c.bool,disableHighlightToday:c.bool,disableOpenPicker:c.bool,disablePast:c.bool,displayWeekNumber:c.bool,enableAccessibleFieldDOMStructure:c.any,fixedWeekNumber:c.number,format:c.string,formatDensity:c.oneOf(["dense","spacious"]),inputRef:Gn,label:c.node,loading:c.bool,localeText:c.object,maxDate:c.object,minDate:c.object,name:c.string,onAccept:c.func,onChange:c.func,onClose:c.func,onError:c.func,onMonthChange:c.func,onOpen:c.func,onRangePositionChange:c.func,onSelectedSectionsChange:c.func,open:c.bool,rangePosition:c.oneOf(["end","start"]),readOnly:c.bool,reduceAnimations:c.bool,referenceDate:c.object,renderLoading:c.func,selectedSections:c.oneOfType([c.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),c.number]),shouldDisableDate:c.func,showDaysOutsideCurrentMonth:c.bool,slotProps:c.object,slots:c.object,sx:c.oneOfType([c.arrayOf(c.oneOfType([c.func,c.object,c.bool])),c.func,c.object]),timezone:c.string,value:c.arrayOf(c.object),viewRenderers:c.shape({day:c.func})};const Cs=["desktopModeMediaQuery"],Ps=g.forwardRef(function(t,n){const r=Oe({props:t,name:"MuiDateRangePicker"}),{desktopModeMediaQuery:a="@media (pointer: fine)"}=r,o=ge(r,Cs);return un(a,{defaultMatches:!0})?A.jsx(Pr,y({ref:n},o)):A.jsx(wr,y({ref:n},o))});Ia.extend(wa);const ws=Ft.memo(({auth:e,title:t,allData:n,jurisdictions:r,users:a,reports:o,reports_with_daily_works:l})=>{const i=Je(),[f,p]=g.useState([]),[h,v]=g.useState(!1),[m,b]=g.useState(0),[C,M]=g.useState(0),[P,k]=g.useState([]),[R,d]=g.useState(),[u,w]=g.useState(null),[x,S]=g.useState(null),[O,_]=g.useState(""),H=un(i.breakpoints.down("md")),[W,G]=g.useState(30),[B,z]=g.useState(1),U=async(j,T,ee)=>{var ae,me;try{const ie=await Yn.get(route("dailyWorks.paginate"),{params:{page:j,perPage:T,search:O,status:ee.status!=="all"?ee.status:"",inCharge:ee.incharge!=="all"?ee.incharge:"",startDate:(ae=ee.startDate)==null?void 0:ae.format("YYYY-MM-DD"),endDate:(me=ee.endDate)==null?void 0:me.format("YYYY-MM-DD")}});p(ie.data.data),b(ie.data.total),M(ie.data.last_page),v(!1)}catch(ie){console.log(ie),Te.error("Failed to fetch data.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,color:i.palette.text.primary}}),v(!1)}},$=()=>{const j=new Promise(async(T,ee)=>{var ae,me;try{const ie=await fetch("/delete-daily-work",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:u,page:B,perPage:W,search:O,status:Y.status!=="all"?Y.status:"",inCharge:Y.incharge!=="all"?Y.incharge:"",startDate:(ae=Y.startDate)==null?void 0:ae.format("YYYY-MM-DD"),endDate:(me=Y.endDate)==null?void 0:me.format("YYYY-MM-DD")})}),E=await ie.json();ie.ok?(p(E.data),b(E.total),T("Daily work deleted successfully")):ee(E.error||"Failed to delete task")}catch(ie){console.error("Error deleting task:",ie),ee("An error occurred while deleting the task")}finally{te()}});Te.promise(j,{pending:{render(){return F("div",{style:{display:"flex",alignItems:"center"},children:[s(ht,{}),s("span",{style:{marginLeft:"8px"},children:"Deleting task..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,color:i.palette.text.primary}},success:{render({data:T}){return s(le,{children:T})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,color:i.palette.text.primary}},error:{render({data:T}){return s(le,{children:T})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,color:i.palette.text.primary}}})},V=g.useCallback((j,T)=>{w(j),S(T)},[]),te=g.useCallback(()=>{S(null),w(null)},[]),N=g.useCallback(j=>{S(j)},[]),ue=g.useCallback(()=>{S(null)},[]),[Y,pe]=g.useState({startDate:null,endDate:null,status:"all",incharge:"all",report:""}),he=g.useCallback((j,T)=>{if(j==="dates"){const[ee,ae]=T;pe(me=>({...me,startDate:ee,endDate:ae}))}else pe(ee=>({...ee,[j]:T}))},[]),oe=j=>{const T=j.target.value.toLowerCase();_(T)};g.useEffect(()=>{v(!0),U(B,W,Y)},[B,W,Y,O]);const Re=j=>{z(j)};return F(le,{children:[s(_r,{title:t}),x==="editDailyWork"&&s(oo,{open:x==="editDailyWork",currentRow:R,setData:p,closeModal:ue}),x==="deleteDailyWork"&&s(io,{open:x==="deleteDailyWork",handleClose:te,handleDelete:$,setData:p}),x==="importDailyWorks"&&s(ni,{open:x==="importDailyWorks",closeModal:ue,setData:p,setTotalRows:b}),x==="exportDailyWorks"&&s(so,{open:x==="exportDailyWorks",closeModal:ue,data:f,users:a}),s(ce,{sx:{display:"flex",justifyContent:"center",p:2},children:s(Yr,{in:!0,children:F(jr,{children:[s(Xr,{title:t,sx:{padding:"24px"},action:F(ce,{display:"flex",gap:2,children:[e.permissions.includes("addTask")&&s(ke,{title:"Add Task",color:"primary",id:"showAddModalBtn",children:s(ka,{})}),e.roles.includes("Administrator")&&s(le,{children:H?F(le,{children:[s(ke,{title:"Import Daily Works",color:"warning",onClick:()=>N("importDailyWorks"),children:s(rn,{})}),s(ke,{title:"Export Daily Works",color:"success",onClick:()=>N("exportDailyWorks"),children:s(nn,{})})]}):F(le,{children:[s(dt,{title:"Import Daily Works",variant:"outlined",color:"warning",startIcon:s(rn,{}),onClick:()=>N("importDailyWorks"),children:"Import"}),s(dt,{title:"Export Daily Works",variant:"outlined",color:"success",startIcon:s(nn,{}),onClick:()=>N("exportDailyWorks"),children:"Export"})]})})]})}),s(Pn,{children:s(ce,{children:F(de,{container:!0,spacing:2,children:[s(de,{item:!0,xs:12,sm:6,md:3,children:s(pn,{dateAdapter:Ra,children:s(ce,{display:"flex",alignItems:"center",children:s(Ps,{value:[Y.startDate,Y.endDate],onChange:j=>he("dates",j),localeText:{start:"Start date",end:"End date"},renderInput:(j,T)=>F(le,{children:[s(ye,{...j,fullWidth:!0,size:"small"}),s(ce,{sx:{mx:1},children:" to "}),s(ye,{...T,fullWidth:!0,size:"small"})]})})})})}),s(de,{item:!0,xs:6,sm:4,md:3,children:F(kt,{fullWidth:!0,children:[s(Rt,{id:"status-label",children:"Status"}),F(ze,{variant:"outlined",labelId:"status-label",label:"Status",name:"status",value:Y.status,onChange:j=>he("status",j.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[s(J,{value:"all",children:"All"}),s(J,{value:"completed",children:"Completed"}),s(J,{value:"new",children:"New"}),s(J,{value:"resubmission",children:"Resubmission"}),s(J,{value:"emergency",children:"Emergency"})]})]})}),e.roles.includes("Administrator")&&s(de,{item:!0,xs:6,sm:4,md:3,children:F(kt,{fullWidth:!0,children:[s(Rt,{id:"incharge-label",children:"Incharge"}),F(ze,{variant:"outlined",labelId:"incharge-label",label:"Incharge",name:"incharge",value:Y.incharge,onChange:j=>he("incharge",j.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[s(J,{value:"all",children:"All"}),n.allInCharges.map(j=>s(J,{value:j.id,children:j.name},j.id))]})]})}),s(de,{item:!0,xs:6,sm:4,md:3,children:F(kt,{fullWidth:!0,children:[s(Rt,{id:"report-label",children:"Report"}),s(ze,{variant:"outlined",labelId:"report-label",label:"Report",name:"report",value:Y.report,onChange:j=>he("report",j.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:s(J,{value:"",disabled:!0,children:"Select Report"})})]})})]})})}),F(Pn,{children:[s(ye,{label:"Search",fullWidth:!0,variant:"outlined",placeholder:"Search...",value:O,onChange:oe,InputProps:{startAdornment:s(Gr,{position:"start",children:s(Fa,{})})}}),s(ao,{setData:p,filteredData:P,setFilteredData:k,reports:o,setCurrentRow:d,currentPage:B,setCurrentPage:z,setLoading:v,handleClickOpen:V,openModal:N,juniors:n.juniors,totalRows:m,lastPage:C,loading:h,allData:f,allInCharges:n.allInCharges,jurisdictions:r,users:a,reports_with_daily_works:l}),m>=30&&s("div",{className:"py-2 px-2 flex justify-center items-center",children:s(Ta,{initialPage:1,isCompact:!0,showControls:!0,showShadow:!0,color:"primary",variant:"bordered",page:B,total:C,onChange:Re})})]})]})})})]})});ws.layout=e=>s(Jr,{children:e});export{ws as default};
