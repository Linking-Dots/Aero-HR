import{r as $t,q as _r,j as F,a as s,F as le,c as Xn,B as Te,Y as jr,G as Lr}from"./app-COlRSZSH.js";import{p as pt,q as L,s as Nt,t as zt,x as ft,y as gt,z as ve,T as Ee,r as g,ai as Ae,K as ge,_ as y,al as qe,N as Qe,f as ut,u as Je,ag as $r,o as ht,B as ce,M as J,S as ze,a5 as Cn,Q as Ft,b as ye,c as ke,Y as Ht,G as ue,F as kt,h as Rt,W as Nr,Z as Vt,$ as Wt,a0 as zr,j as Hr,k as Vr,l as Pn,m as Dt,n as Wr,P as Br,ar as c,av as tn,aj as Ur,ao as re,an as Kr,U as pn,L as Gn,ah as $e,aq as Xe,ap as Tt,aw as Yr,as as qn,e as Xr,g as Gr,a as wn,I as qr}from"./vendor-Dul5qjIJ.js";import{L as Qr,d as Jr,A as Zr}from"./App-OYkIIhWA.js";import{K as ea,X as ta,N as kn,O as na,Q as ra,R as Rn,q as aa,e as Ze,u as Bt,f as Qn,h as Et,n as Sn,T as oa,U as ia,W as sa,Y as la,l as ca,o as ua,G as da,b as Jn,j as pa,d as fa,k as ga,Z as ha,p as ma,B as In,_ as ba,$ as ya,a0 as va,a as Mn,a1 as xa,P as Da,c as Fn,E as nn,v as Zn,w as er,a2 as Ca,L as fn,x as Pa,a3 as Tn,A as tr,F as wa,H as ka,I as Ra,J as Sa}from"./minMax-CmxUQLCG.js";import{d as Ia}from"./Delete-wmYZgLaa.js";import{d as Ma}from"./dayjs.min-B75L56Ne.js";import{d as gn,G as Ut}from"./GlassDialog-mHX65hHl.js";import{L as hn}from"./LoadingButton-CAhPCtAx.js";import{D as rn,u as Qt,w as Fa}from"./xlsx-C1FC9ofm.js";import{d as Ta,p as Ea}from"./Search-qG9pxPEi.js";import{C as Aa}from"./Clear-mN_auGHO.js";import"./isBetween-BELBvU7H.js";const Oa=pt(L.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),_a=pt(L.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description"),ja=pt(L.jsx("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm7 7V3.5L18.5 9z"}),"InsertDriveFile"),La=pt(L.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf"),an=pt(L.jsx("path",{d:"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z"}),"Upload");function et(e,t,n,r){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function i(h){try{p(r.next(h))}catch(v){l(v)}}function f(h){try{p(r.throw(h))}catch(v){l(v)}}function p(h){h.done?o(h.value):a(h.value).then(i,f)}p((r=r.apply(e,t||[])).next())})}function tt(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,a,o,l;return l={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function i(p){return function(h){return f([p,h])}}function f(p){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,p[0]&&(n=0)),n;)try{if(r=1,a&&(o=p[0]&2?a.return:p[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,p[1])).done)return o;switch(a=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,a=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(h){p=[6,h],a=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function En(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,o=[],l;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(i){l={error:i}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return o}function An(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var mn={},$a=zt;Object.defineProperty(mn,"__esModule",{value:!0});var nr=mn.default=void 0,Na=$a($t()),za=Nt();nr=mn.default=(0,Na.default)((0,za.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle");var bn={},Ha=zt;Object.defineProperty(bn,"__esModule",{value:!0});var rr=bn.default=void 0,Va=Ha($t()),Wa=Nt();rr=bn.default=(0,Va.default)((0,Wa.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2M8.5 15H7.3l-2.55-3.5V15H3.5V9h1.25l2.5 3.5V9H8.5zm5-4.74H11v1.12h2.5v1.26H11v1.11h2.5V15h-4V9h4zm7 3.74c0 .55-.45 1-1 1h-4c-.55 0-1-.45-1-1V9h1.25v4.51h1.13V9.99h1.25v3.51h1.12V9h1.25z"}),"FiberNew");function Ba(e){return gt("MuiPickersToolbarText",e)}const On=ft("MuiPickersToolbarText",["root","selected"]),Ua=["className","selected","value"],Ka=e=>{const{classes:t,selected:n}=e;return Qe({root:["root",n&&"selected"]},Ba,t)},Ya=ve(Ee,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${On.selected}`]:t.selected}]})(({theme:e})=>({transition:e.transitions.create("color"),color:(e.vars||e).palette.text.secondary,[`&.${On.selected}`]:{color:(e.vars||e).palette.text.primary}})),Xa=g.forwardRef(function(t,n){const r=Ae({props:t,name:"MuiPickersToolbarText"}),{className:a,value:o}=r,l=ge(r,Ua),i=Ka(r);return L.jsx(Ya,y({ref:n,className:qe(a,i.root),component:"span"},l,{children:o}))}),Ga=["align","className","selected","typographyClassName","value","variant","width"],qa=e=>{const{classes:t}=e;return Qe({root:["root"]},ea,t)},Qa=ve(ut,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,minWidth:16,textTransform:"none"}),_n=g.forwardRef(function(t,n){const r=Ae({props:t,name:"MuiPickersToolbarButton"}),{align:a,className:o,selected:l,typographyClassName:i,value:f,variant:p,width:h}=r,v=ge(r,Ga),m=qa(r);return L.jsx(Qa,y({variant:"text",ref:n,className:qe(o,m.root)},h?{sx:{width:h}}:{},v,{children:L.jsx(Xa,{align:a,className:i,variant:p,value:f,selected:l})}))});var yn={},Ja=zt;Object.defineProperty(yn,"__esModule",{value:!0});var ar=yn.default=void 0,Za=Ja($t()),eo=Nt();ar=yn.default=(0,Za.default)((0,eo.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8"}),"Replay");var vn={},to=zt;Object.defineProperty(vn,"__esModule",{value:!0});var or=vn.default=void 0,no=to($t()),ro=Nt();or=vn.default=(0,no.default)((0,ro.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");const ao=ve(ta)(({theme:e})=>({"& .rdt_Table":{backgroundColor:"transparent","& .rdt_TableHead":{"& .rdt_TableHeadRow":{backgroundColor:"transparent",color:e.palette.text.primary},top:0,zIndex:1},"& .rdt_TableBody":{overflowY:"auto",maxHeight:"52vh","& .rdt_TableRow":{minHeight:"auto",backgroundColor:"transparent",color:e.palette.text.primary,"& .rdt_TableCol":{backgroundColor:"transparent",borderBottom:`1px solid ${e.palette.divider}`,width:"auto",whiteSpace:"nowrap"}},"& .rdt_TableRow:hover":{backgroundColor:e.palette.action.hover}}}})),oo=({allData:e,setData:t,loading:n,handleClickOpen:r,allInCharges:a,reports:o,juniors:l,reports_with_daily_works:i,openModal:f,setCurrentRow:p,filteredData:h,setFilteredData:v})=>{const{auth:m}=_r().props,b=Je(),C=m.roles.includes("Administrator"),M=m.roles.includes("Supervision Engineer"),P=[{name:"Date",selector:u=>u.date,sortable:"true",center:"true",width:"100px"},{name:"RFI NO",selector:u=>u.number,sortable:"true",center:"true",width:"140px",cell:u=>F(le,{children:[u.number,u.reports&&u.reports.map(d=>s("div",{children:F("span",{children:[s("i",{className:"mdi mdi-circle-medium"})," ",d.ref_no]})},d.ref_no))]})},{name:"Status",selector:u=>u.status,sortable:"true",center:"true",width:"220px",cell:u=>F(ze,{variant:"outlined",size:"small",fullWidth:!0,value:u.status,onChange:d=>R(u.id,"status",d.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:b.glassCard.backgroundColor,border:b.glassCard.border,borderRadius:2,boxShadow:b.glassCard.boxShadow}}},children:[s(J,{value:"new",children:F(ce,{sx:{display:"flex"},children:[s(rr,{style:{marginRight:8,color:k("new")}})," New"]})}),s(J,{value:"resubmission",children:F(ce,{sx:{display:"flex"},children:[s(ar,{style:{marginRight:8,color:k("resubmission")}})," Resubmission"]})}),s(J,{value:"completed",children:F(ce,{sx:{display:"flex"},children:[s(nr,{style:{marginRight:8,color:k("completed")}})," Completed"]})}),s(J,{value:"emergency",children:F(ce,{sx:{display:"flex"},children:[s(or,{style:{marginRight:8,color:k("emergency")}})," Emergency"]})})]})},...M?[{name:"Assigned",selector:u=>u.assigned,sortable:"true",center:"true",cell:u=>F(ze,{variant:"outlined",fullWidth:!0,size:"small",value:u.assigned||"na",onChange:d=>R(u.id,"assigned",d.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:b.glassCard.backgroundColor,border:b.glassCard.border,borderRadius:2,boxShadow:b.glassCard.boxShadow}}},children:[s(J,{value:"na",disabled:!0,children:"Please select"}),l.map(d=>s(J,{value:d.id,children:F(ce,{sx:{display:"flex"},children:[s(Cn,{src:`/assets/images/users/${d.user_name||"user-dummy-img"}.jpg`,alt:d.name||"Not assigned",sx:{borderRadius:"50%",width:23,height:23,display:"flex",mr:1}}),d.name]})},d.id))]})}]:[],{name:"Type",selector:u=>u.type,sortable:"true",center:"true",width:"140px"},{name:"Description",selector:u=>u.description,sortable:"true",left:"true",width:"260px",cell:u=>s(ce,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},children:u.description})},{name:"Location",selector:u=>u.location,sortable:"true",center:"true",width:"200px",cell:u=>s(ce,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},children:u.location})},{name:"Results",selector:u=>u.inspection_details,sortable:"true",width:"200px",center:"true",cell:u=>{const[d,w]=Ft.useState(!1),[x,S]=Ft.useState(u.inspection_details||"");return s(ce,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",cursor:"pointer"},onClick:d?void 0:()=>{w(!0)},children:d?s(ye,{fullWidth:!0,value:x,onChange:W=>{S(W.target.value)},onBlur:()=>{w(!1),R(u.id,"inspection_details",x)},autoFocus:!0,variant:"standard",InputProps:{style:{marginBottom:0,border:"none",outline:"none",backgroundColor:"transparent",textAlign:"center"}}}):s(le,{children:u.inspection_details||"N/A"})})}},{name:"Road Type",selector:u=>u.side,sortable:"true",center:"true",width:"120px"},{name:"Quantity/Layer No.",selector:u=>u.qty_layer,sortable:"true",center:"true",width:"150px"},...C?[{name:"In charge",selector:u=>u.incharge,sortable:"true",center:"true",cell:u=>F(ze,{variant:"outlined",fullWidth:!0,size:"small",value:u.incharge||"na",onChange:d=>R(u.id,"incharge",d.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:b.glassCard.backgroundColor,border:b.glassCard.border,borderRadius:2,boxShadow:b.glassCard.boxShadow}}},children:[s(J,{value:"na",disabled:!0,children:"Please select"}),a.map(d=>s(J,{value:d.id,children:F(ce,{sx:{display:"flex"},children:[s(Cn,{src:d.profile_image,alt:d.name||"Not assigned",sx:{borderRadius:"50%",width:23,height:23,display:"flex",mr:1}}),d.name]})},d.id))]})}]:[],{name:"Planned Time",selector:u=>u.planned_time,sortable:"true",center:"true",width:"130px"},{name:"Completion Time",selector:u=>u.completion_time,sortable:"true",center:"true",width:"250px",cell:u=>s(ye,{fullWidth:!0,size:"small",type:"datetime-local",value:u.completion_time?new Date(u.completion_time).toISOString().slice(0,16):"",onChange:d=>R(u.id,"completion_time",d.target.value),style:{border:"none",outline:"none",backgroundColor:"transparent"},inputProps:{placeholder:"YYYY-MM-DDTHH:MM"}})},{name:"Resubmission Count",selector:u=>u.resubmission_count,sortable:"true",center:"true",width:"160px",cell:u=>s(le,{children:u.resubmission_count?`${u.resubmission_count} ${u.resubmission_count>1?"times":"time"}`:""})},...C?[{name:"RFI Submission Date",selector:u=>u.rfi_submission_date,sortable:"true",center:"true",width:"180px",cell:u=>s(ye,{fullWidth:!0,size:"small",type:"date",onChange:d=>R(u.id,"rfi_submission_date",d.target.value),value:u.rfi_submission_date?new Date(u.rfi_submission_date).toISOString().slice(0,10):"",style:{border:"none",outline:"none",backgroundColor:"transparent"},inputProps:{placeholder:"yyyy-MM-dd"}})}]:[],...C?[{name:"Actions",center:"true",width:"150px",cell:u=>F(ce,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s(ke,{sx:{m:1},variant:"outlined",color:"success",size:"small",onClick:()=>{p(u),f("editDailyWork")},children:s(Jr,{})}),s(ke,{sx:{m:1},variant:"outlined",color:"error",size:"small",onClick:()=>r(u.id,"deleteDailyWork"),children:s(Ia,{})})]})}]:[]],k=u=>{switch(u){case"new":return"blue";case"resubmission":return"orange";case"completed":return"green";case"emergency":return"red";default:return""}},R=async(u,d,w)=>{var x,S;try{const A=await Xn.post(route("dailyWorks.update"),{id:u,[d]:w});A.status===200?(t(O=>O.map(H=>H.id===u?{...H,[d]:w}:H)),Te.success(...A.data.messages||"Task updated successfully",{icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:b.glassCard.backgroundColor,border:b.glassCard.border,color:b.palette.text.primary}})):Te.error(A.data.error||`Failed to update task ${[d]}.`,{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:b.glassCard.backgroundColor,border:b.glassCard.border,color:b.palette.text.primary}})}catch(A){Te.error(((S=(x=A.response)==null?void 0:x.data)==null?void 0:S.message)||"An unexpected error occurred.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:b.glassCard.backgroundColor,border:b.glassCard.border,color:b.palette.text.primary}})}};return F("div",{children:[n&&s(Qr,{}),s($r,{styles:{"& .cgTKyH":{backgroundColor:"transparent !important",color:b.palette.text.primary}}}),s(ao,{classNames:{base:"max-h-[84vh] overflow-scroll",table:"min-h-[84vh]"},columns:P,data:e,loading:n,loadingComponent:s(ht,{}),defaultSortField:"date",highlightOnHover:!0,responsive:!0,dense:!0})]})},io=({open:e,closeModal:t,currentRow:n,setData:r})=>{const a=Je(),[o,l]=g.useState({id:n.id||"",date:n.date||"",number:n.number||"",planned_time:n.planned_time||"",type:n.type||"Structure",location:n.location||"",description:n.description||"",side:n.side||"SR-R",qty_layer:n.qty_layer||""}),[i,f]=g.useState({}),[p,h]=g.useState(!1),[v,m]=g.useState(!1);g.useEffect(()=>{const M=Object.values(o).some(P=>P!=="");m(M)},[o]);const b=M=>{const{name:P,value:k}=M.target;l(R=>({...R,[P]:k}))};async function C(M){M.preventDefault(),h(!0);const P=new Promise(async(k,R)=>{try{const u=await fetch(route("dailyWorks.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"details",...o})}),d=await u.json();u.ok?(r(w=>w.map(x=>x.id===o.id?{...x,...o}:x)),t(),k(d.message?[d.message]:d.messages),h(!1),t(),console.log(d.message?[d.message]:d.messages)):(h(!1),f(d.errors),R(d.errors),console.error(d.errors))}catch(u){h(!1),t(),console.log(u),R(["An unexpected error occurred."])}});Te.promise(P,{pending:{render(){return F("div",{style:{display:"flex",alignItems:"center"},children:[s(ht,{}),s("span",{style:{marginLeft:"8px"},children:"Updating daily work ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},success:{render({data:k}){return s(le,{children:k.map((R,u)=>s("div",{children:R},u))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},error:{render({data:k}){return s(le,{children:k.map((R,u)=>s("div",{children:R},u))})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}}})}return F(Ut,{open:e,onClose:t,children:[F(Ht,{style:{cursor:"move"},id:"draggable-dialog-title",children:[s(Ee,{children:"Add Task"}),s(ke,{variant:"outlined",color:"primary",onClick:t,sx:{position:"absolute",top:8,right:16},children:s(gn,{})})]}),F("form",{onSubmit:C,children:[s(Vt,{children:F(ue,{container:!0,spacing:2,children:[s(ue,{item:!0,xs:12,md:6,children:s(ye,{label:"RFI Date",type:"date",name:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:o.date,onChange:b,error:!!i.date,helperText:i.date})}),s(ue,{item:!0,xs:12,md:6,children:s(ye,{label:"RFI Number",name:"number",fullWidth:!0,value:o.number,onChange:b,error:!!i.number,helperText:i.number})}),s(ue,{item:!0,xs:12,md:6,children:s(ye,{label:"Planned Time",name:"planned_time",fullWidth:!0,InputLabelProps:{shrink:!0},value:o.planned_time,onChange:b,error:!!i.planned_time,helperText:i.planned_time})}),s(ue,{item:!0,xs:12,md:6,children:F(kt,{fullWidth:!0,children:[s(Rt,{id:"type-label",children:"Type"}),F(ze,{select:!0,label:"Type",name:"type",fullWidth:!0,value:o.type,onChange:b,error:!!i.type,helperText:i.type,labelId:"type-label",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[s(J,{value:"Structure",children:"Structure"}),s(J,{value:"Embankment",children:"Embankment"}),s(J,{value:"Pavement",children:"Pavement"})]}),s(Nr,{children:i.type})]})}),s(ue,{item:!0,xs:12,md:6,children:s(ye,{label:"Location",name:"location",fullWidth:!0,value:o.location,onChange:b,error:!!i.location,helperText:i.location})}),s(ue,{item:!0,xs:12,md:6,children:s(ye,{label:"Description",name:"description",fullWidth:!0,value:o.description,onChange:b,error:!!i.description,helperText:i.description})}),s(ue,{item:!0,xs:12,md:6,children:F(ye,{select:!0,label:"Road Type",name:"side",fullWidth:!0,value:o.side,onChange:b,error:!!i.side,helperText:i.side,children:[s(J,{value:"SR-R",children:"SR-R"}),s(J,{value:"SR-L",children:"SR-L"}),s(J,{value:"TR-R",children:"TR-R"}),s(J,{value:"TR-L",children:"TR-L"})]})}),s(ue,{item:!0,xs:12,md:6,children:s(ye,{label:"Quantity/Layer No.",name:"qty_layer",fullWidth:!0,value:o.qty_layer,onChange:b,error:!!i.qty_layer,helperText:i.qty_layer})})]})}),s(Wt,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"16px"},children:s(hn,{disabled:!v,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:p,children:"Submit"})})]})]})},so=({open:e,handleClose:t,handleDelete:n})=>(Je(),F(Ut,{open:e,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[s(Ht,{id:"alert-dialog-title",children:"Confirm Deletion"}),s(Vt,{children:s(zr,{id:"alert-dialog-description",children:"Are you sure you want to delete this task? This action cannot be undone."})}),F(Wt,{children:[s(ut,{onClick:t,color:"primary",children:"Cancel"}),s(ut,{onClick:n,color:"error",autoFocus:!0,children:"Delete"})]})]})),lo=({open:e,closeModal:t,data:n,users:r})=>{g.useState(!1);const a=Je(),o=[{label:"Date",key:"date"},{label:"RFI No.",key:"number"},{label:"Status",key:"status"},{label:"Assigned",key:"assigned"},{label:"In charge",key:"incharge"},{label:"Type",key:"type"},{label:"Description",key:"description"},{label:"Location",key:"location"},{label:"Side",key:"side"},{label:"Quantity/Layer",key:"qty_layer"},{label:"Planned Time",key:"planned_time"},{label:"Completion Time",key:"completion_time"},{label:"Results",key:"inspection_details"},{label:"Resubmission Count",key:"resubmission_count"},{label:"RFI Submission Date",key:"rfi_submission_date"}],[l,i]=g.useState(o.map(h=>({...h,checked:!0}))),f=h=>{const v=[...l];v[h].checked=!v[h].checked,i(v)},p=async h=>{const v=new Promise((m,b)=>{try{const C=n.map(k=>{const R={};return h.forEach(u=>{if(u.checked)if(u.key==="incharge"||u.key==="assigned"){const d=r.find(w=>w.id===k[u.key]);R[u.label]=d?d.name:"N/A"}else if(u.key==="status"){const d=k[u.key];R[u.label]=d.charAt(0).toUpperCase()+d.slice(1)}else R[u.label]=k[u.key]}),R}),M=Qt.json_to_sheet(C),P=Qt.book_new();Qt.book_append_sheet(P,M,"Daily Works"),Fa(P,"DailyWorks.xlsx"),m("Export successful!"),t()}catch(C){b("Failed to export data. Please try again."),console.error("Error exporting data to Excel:",C)}});Te.promise(v,{pending:{render(){return F("div",{style:{display:"flex",alignItems:"center"},children:[s(ht,{}),s("span",{style:{marginLeft:"8px"},children:"Exporting data to Excel ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},success:{render({data:m}){return s(le,{children:m})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},error:{render({data:m}){return s(le,{children:m})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}}})};return F(Ut,{open:e,onClose:t,children:[F(Ht,{style:{cursor:"move"},id:"draggable-dialog-title",children:[s(Ee,{children:"Export Daily Works"}),s(ke,{variant:"outlined",color:"primary",onClick:t,sx:{position:"absolute",top:8,right:16},children:s(gn,{})})]}),s(Vt,{children:F(Hr,{size:"small",sx:{"& .MuiTableCell-root":{padding:"4px 8px"},"& .MuiCheckbox-root":{padding:"0px"}},children:[s(Vr,{children:F(Pn,{children:[s(Dt,{children:"Column Label"}),s(Dt,{align:"center",children:"Include in Export"})]})}),s(Wr,{children:l.map((h,v)=>F(Pn,{children:[s(Dt,{children:h.label}),s(Dt,{align:"center",children:s(Br,{checked:h.checked,onChange:()=>f(v)})})]},h.key))})]})}),s(Wt,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:s(hn,{sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",onClick:()=>p(l),startIcon:s(rn,{}),children:"Download"})})]})};var co=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function mt(e,t){var n=uo(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function uo(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),a=co.get(r);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}var po=[".DS_Store","Thumbs.db"];function fo(e){return et(this,void 0,void 0,function(){return tt(this,function(t){return At(e)&&go(e.dataTransfer)?[2,yo(e.dataTransfer,e.type)]:ho(e)?[2,mo(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,bo(e)]:[2,[]]})})}function go(e){return At(e)}function ho(e){return At(e)&&At(e.target)}function At(e){return typeof e=="object"&&e!==null}function mo(e){return on(e.target.files).map(function(t){return mt(t)})}function bo(e){return et(this,void 0,void 0,function(){var t;return tt(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(r){return r.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(r){return mt(r)})]}})})}function yo(e,t){return et(this,void 0,void 0,function(){var n,r;return tt(this,function(a){switch(a.label){case 0:return e.items?(n=on(e.items).filter(function(o){return o.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(vo))]):[3,2];case 1:return r=a.sent(),[2,jn(ir(r))];case 2:return[2,jn(on(e.files).map(function(o){return mt(o)}))]}})})}function jn(e){return e.filter(function(t){return po.indexOf(t.name)===-1})}function on(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function vo(e){if(typeof e.webkitGetAsEntry!="function")return Ln(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?sr(t):Ln(e)}function ir(e){return e.reduce(function(t,n){return An(An([],En(t),!1),En(Array.isArray(n)?ir(n):[n]),!1)},[])}function Ln(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=mt(t);return Promise.resolve(n)}function xo(e){return et(this,void 0,void 0,function(){return tt(this,function(t){return[2,e.isDirectory?sr(e):Do(e)]})})}function sr(e){var t=e.createReader();return new Promise(function(n,r){var a=[];function o(){var l=this;t.readEntries(function(i){return et(l,void 0,void 0,function(){var f,p,h;return tt(this,function(v){switch(v.label){case 0:if(i.length)return[3,5];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all(a)];case 2:return f=v.sent(),n(f),[3,4];case 3:return p=v.sent(),r(p),[3,4];case 4:return[3,6];case 5:h=Promise.all(i.map(xo)),a.push(h),o(),v.label=6;case 6:return[2]}})})},function(i){r(i)})}o()})}function Do(e){return et(this,void 0,void 0,function(){return tt(this,function(t){return[2,new Promise(function(n,r){e.file(function(a){var o=mt(a,e.fullPath);n(o)},function(a){r(a)})})]})})}var Co=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",a=(e.type||"").toLowerCase(),o=a.replace(/\/.*$/,"");return n.some(function(l){var i=l.trim().toLowerCase();return i.charAt(0)==="."?r.toLowerCase().endsWith(i):i.endsWith("/*")?o===i.replace(/\/.*$/,""):a===i})}return!0};function $n(e){return ko(e)||wo(e)||cr(e)||Po()}function Po(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wo(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ko(e){if(Array.isArray(e))return sn(e)}function Nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nn(Object(n),!0).forEach(function(r){lr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dt(e,t){return Io(e)||So(e,t)||cr(e,t)||Ro()}function Ro(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cr(e,t){if(e){if(typeof e=="string")return sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sn(e,t)}}function sn(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function So(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,l,i;try{for(n=n.call(e);!(a=(l=n.next()).done)&&(r.push(l.value),!(t&&r.length===t));a=!0);}catch(f){o=!0,i=f}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw i}}return r}}function Io(e){if(Array.isArray(e))return e}var Mo="file-invalid-type",Fo="file-too-large",To="file-too-small",Eo="too-many-files",Ao=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var n=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:Mo,message:"File type must be ".concat(n)}},Hn=function(t){return{code:Fo,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Vn=function(t){return{code:To,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},Oo={code:Eo,message:"Too many files"};function ur(e,t){var n=e.type==="application/x-moz-file"||Co(e,t);return[n,n?null:Ao(t)]}function dr(e,t,n){if(Le(e.size))if(Le(t)&&Le(n)){if(e.size>n)return[!1,Hn(n)];if(e.size<t)return[!1,Vn(t)]}else{if(Le(t)&&e.size<t)return[!1,Vn(t)];if(Le(n)&&e.size>n)return[!1,Hn(n)]}return[!0,null]}function Le(e){return e!=null}function _o(e){var t=e.files,n=e.accept,r=e.minSize,a=e.maxSize,o=e.multiple,l=e.maxFiles,i=e.validator;return!o&&t.length>1||o&&l>=1&&t.length>l?!1:t.every(function(f){var p=ur(f,n),h=dt(p,1),v=h[0],m=dr(f,r,a),b=dt(m,1),C=b[0],M=i?i(f):null;return v&&C&&!M})}function Ot(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Ct(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Wn(e){e.preventDefault()}function jo(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Lo(e){return e.indexOf("Edge/")!==-1}function $o(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return jo(e)||Lo(e)}function we(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return t.some(function(i){return!Ot(r)&&i&&i.apply(void 0,[r].concat(o)),Ot(r)})}}function No(){return"showOpenFilePicker"in window}function zo(e){if(Le(e)){var t=Object.entries(e).filter(function(n){var r=dt(n,2),a=r[0],o=r[1],l=!0;return pr(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(o)||!o.every(fr))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(n,r){var a=dt(r,2),o=a[0],l=a[1];return zn(zn({},n),{},lr({},o,l))},{});return[{description:"Files",accept:t}]}return e}function Ho(e){if(Le(e))return Object.entries(e).reduce(function(t,n){var r=dt(n,2),a=r[0],o=r[1];return[].concat($n(t),[a],$n(o))},[]).filter(function(t){return pr(t)||fr(t)}).join(",")}function Vo(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Wo(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function pr(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function fr(e){return/^.*\.[\w]+$/.test(e)}var Bo=["children"],Uo=["open"],Ko=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Yo=["refKey","onChange","onClick"];function Xo(e){return Qo(e)||qo(e)||gr(e)||Go()}function Go(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qo(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Qo(e){if(Array.isArray(e))return ln(e)}function Jt(e,t){return ei(e)||Zo(e,t)||gr(e,t)||Jo()}function Jo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gr(e,t){if(e){if(typeof e=="string")return ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ln(e,t)}}function ln(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zo(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,l,i;try{for(n=n.call(e);!(a=(l=n.next()).done)&&(r.push(l.value),!(t&&r.length===t));a=!0);}catch(f){o=!0,i=f}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw i}}return r}}function ei(e){if(Array.isArray(e))return e}function Bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bn(Object(n),!0).forEach(function(r){cn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(e,t){if(e==null)return{};var n=ti(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ti(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var xn=g.forwardRef(function(e,t){var n=e.children,r=_t(e,Bo),a=mr(r),o=a.open,l=_t(a,Uo);return g.useImperativeHandle(t,function(){return{open:o}},[o]),Ft.createElement(g.Fragment,null,n(Q(Q({},l),{},{open:o})))});xn.displayName="Dropzone";var hr={disabled:!1,getFilesFromEvent:fo,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};xn.defaultProps=hr;xn.propTypes={children:c.func,accept:c.objectOf(c.arrayOf(c.string)),multiple:c.bool,preventDropOnDocument:c.bool,noClick:c.bool,noKeyboard:c.bool,noDrag:c.bool,noDragEventsBubbling:c.bool,minSize:c.number,maxSize:c.number,maxFiles:c.number,disabled:c.bool,getFilesFromEvent:c.func,onFileDialogCancel:c.func,onFileDialogOpen:c.func,useFsAccessApi:c.bool,autoFocus:c.bool,onDragEnter:c.func,onDragLeave:c.func,onDragOver:c.func,onDrop:c.func,onDropAccepted:c.func,onDropRejected:c.func,onError:c.func,validator:c.func};var un={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function mr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Q(Q({},hr),e),n=t.accept,r=t.disabled,a=t.getFilesFromEvent,o=t.maxSize,l=t.minSize,i=t.multiple,f=t.maxFiles,p=t.onDragEnter,h=t.onDragLeave,v=t.onDragOver,m=t.onDrop,b=t.onDropAccepted,C=t.onDropRejected,M=t.onFileDialogCancel,P=t.onFileDialogOpen,k=t.useFsAccessApi,R=t.autoFocus,u=t.preventDropOnDocument,d=t.noClick,w=t.noKeyboard,x=t.noDrag,S=t.noDragEventsBubbling,A=t.onError,O=t.validator,H=g.useMemo(function(){return Ho(n)},[n]),W=g.useMemo(function(){return zo(n)},[n]),G=g.useMemo(function(){return typeof P=="function"?P:Un},[P]),B=g.useMemo(function(){return typeof M=="function"?M:Un},[M]),z=g.useRef(null),U=g.useRef(null),$=g.useReducer(ni,un),V=Jt($,2),te=V[0],N=V[1],de=te.isFocused,Y=te.isFileDialogActive,pe=g.useRef(typeof window<"u"&&window.isSecureContext&&k&&No()),he=function(){!pe.current&&Y&&setTimeout(function(){if(U.current){var I=U.current.files;I.length||(N({type:"closeDialog"}),B())}},300)};g.useEffect(function(){return window.addEventListener("focus",he,!1),function(){window.removeEventListener("focus",he,!1)}},[U,Y,B,pe]);var oe=g.useRef([]),Re=function(I){z.current&&z.current.contains(I.target)||(I.preventDefault(),oe.current=[])};g.useEffect(function(){return u&&(document.addEventListener("dragover",Wn,!1),document.addEventListener("drop",Re,!1)),function(){u&&(document.removeEventListener("dragover",Wn),document.removeEventListener("drop",Re))}},[z,u]),g.useEffect(function(){return!r&&R&&z.current&&z.current.focus(),function(){}},[z,R,r]);var _=g.useCallback(function(D){A?A(D):console.error(D)},[A]),T=g.useCallback(function(D){D.preventDefault(),D.persist(),Oe(D),oe.current=[].concat(Xo(oe.current),[D.target]),Ct(D)&&Promise.resolve(a(D)).then(function(I){if(!(Ot(D)&&!S)){var Z=I.length,ne=Z>0&&_o({files:I,accept:H,minSize:l,maxSize:o,multiple:i,maxFiles:f,validator:O}),se=Z>0&&!ne;N({isDragAccept:ne,isDragReject:se,isDragActive:!0,type:"setDraggedFiles"}),p&&p(D)}}).catch(function(I){return _(I)})},[a,p,_,S,H,l,o,i,f,O]),ee=g.useCallback(function(D){D.preventDefault(),D.persist(),Oe(D);var I=Ct(D);if(I&&D.dataTransfer)try{D.dataTransfer.dropEffect="copy"}catch{}return I&&v&&v(D),!1},[v,S]),ae=g.useCallback(function(D){D.preventDefault(),D.persist(),Oe(D);var I=oe.current.filter(function(ne){return z.current&&z.current.contains(ne)}),Z=I.indexOf(D.target);Z!==-1&&I.splice(Z,1),oe.current=I,!(I.length>0)&&(N({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Ct(D)&&h&&h(D))},[z,h,S]),me=g.useCallback(function(D,I){var Z=[],ne=[];D.forEach(function(se){var De=ur(se,H),Se=Jt(De,2),Ce=Se[0],ot=Se[1],it=dr(se,l,o),We=Jt(it,2),st=We[0],Be=We[1],lt=O?O(se):null;if(Ce&&st&&!lt)Z.push(se);else{var _e=[ot,Be];lt&&(_e=_e.concat(lt)),ne.push({file:se,errors:_e.filter(function(Xt){return Xt})})}}),(!i&&Z.length>1||i&&f>=1&&Z.length>f)&&(Z.forEach(function(se){ne.push({file:se,errors:[Oo]})}),Z.splice(0)),N({acceptedFiles:Z,fileRejections:ne,type:"setFiles"}),m&&m(Z,ne,I),ne.length>0&&C&&C(ne,I),Z.length>0&&b&&b(Z,I)},[N,i,H,l,o,f,m,b,C,O]),ie=g.useCallback(function(D){D.preventDefault(),D.persist(),Oe(D),oe.current=[],Ct(D)&&Promise.resolve(a(D)).then(function(I){Ot(D)&&!S||me(I,D)}).catch(function(I){return _(I)}),N({type:"reset"})},[a,me,_,S]),E=g.useCallback(function(){if(pe.current){N({type:"openDialog"}),G();var D={multiple:i,types:W};window.showOpenFilePicker(D).then(function(I){return a(I)}).then(function(I){me(I,null),N({type:"closeDialog"})}).catch(function(I){Vo(I)?(B(I),N({type:"closeDialog"})):Wo(I)?(pe.current=!1,U.current?(U.current.value=null,U.current.click()):_(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):_(I)});return}U.current&&(N({type:"openDialog"}),G(),U.current.value=null,U.current.click())},[N,G,B,k,me,_,W,i]),rt=g.useCallback(function(D){!z.current||!z.current.isEqualNode(D.target)||(D.key===" "||D.key==="Enter"||D.keyCode===32||D.keyCode===13)&&(D.preventDefault(),E())},[z,E]),yt=g.useCallback(function(){N({type:"focus"})},[]),fe=g.useCallback(function(){N({type:"blur"})},[]),at=g.useCallback(function(){d||($o()?setTimeout(E,0):E())},[d,E]),Ie=function(I){return r?null:I},He=function(I){return w?null:Ie(I)},Ve=function(I){return x?null:Ie(I)},Oe=function(I){S&&I.stopPropagation()},be=g.useMemo(function(){return function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=D.refKey,Z=I===void 0?"ref":I,ne=D.role,se=D.onKeyDown,De=D.onFocus,Se=D.onBlur,Ce=D.onClick,ot=D.onDragEnter,it=D.onDragOver,We=D.onDragLeave,st=D.onDrop,Be=_t(D,Ko);return Q(Q(cn({onKeyDown:He(we(se,rt)),onFocus:He(we(De,yt)),onBlur:He(we(Se,fe)),onClick:Ie(we(Ce,at)),onDragEnter:Ve(we(ot,T)),onDragOver:Ve(we(it,ee)),onDragLeave:Ve(we(We,ae)),onDrop:Ve(we(st,ie)),role:typeof ne=="string"&&ne!==""?ne:"presentation"},Z,z),!r&&!w?{tabIndex:0}:{}),Be)}},[z,rt,yt,fe,at,T,ee,ae,ie,w,x,r]),vt=g.useCallback(function(D){D.stopPropagation()},[]),Me=g.useMemo(function(){return function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=D.refKey,Z=I===void 0?"ref":I,ne=D.onChange,se=D.onClick,De=_t(D,Yo),Se=cn({accept:H,multiple:i,type:"file",style:{display:"none"},onChange:Ie(we(ne,ie)),onClick:Ie(we(se,vt)),tabIndex:-1},Z,U);return Q(Q({},Se),De)}},[U,n,i,ie,r]);return Q(Q({},te),{},{isFocused:de&&!r,getRootProps:be,getInputProps:Me,rootRef:z,inputRef:U,open:Ie(E)})}function ni(e,t){switch(t.type){case"focus":return Q(Q({},e),{},{isFocused:!0});case"blur":return Q(Q({},e),{},{isFocused:!1});case"openDialog":return Q(Q({},un),{},{isFileDialogActive:!0});case"closeDialog":return Q(Q({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Q(Q({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Q(Q({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return Q({},un);default:return e}}function Un(){}const ri=({open:e,closeModal:t,setTotalRows:n,setData:r})=>{const[a,o]=g.useState(null),[l,i]=g.useState(!1),f=Je(),p=P=>{o(P[0])},h=()=>{o(null)},{getRootProps:v,getInputProps:m,isDragActive:b}=mr({onDrop:p,noClick:!!a,noKeyboard:!!a}),C=P=>{if(!P)return s(Oa,{fontSize:"large"});const k=P.type;return k.startsWith("image/")?s(Image,{fontSize:"large"}):k==="application/pdf"?s(La,{fontSize:"large"}):k==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"?s(_a,{fontSize:"large"}):s(ja,{fontSize:"large"})};return F(Ut,{open:e,onClose:t,children:[F(Ht,{style:{cursor:"move"},id:"draggable-dialog-title",children:[s(Ee,{children:"Import Daily Works"}),s(ke,{variant:"outlined",color:"primary",onClick:t,sx:{position:"absolute",top:8,right:16,zIndex:0},children:s(gn,{})})]}),F("form",{onSubmit:async P=>{P.preventDefault(),i(!0);const k=new FormData;k.append("file",a);const R=new Promise(async(u,d)=>{try{const w=await fetch(route("dailyWorks.import"),{method:"POST",body:k,headers:{"X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content}}),x=await w.json();w.ok?(r(x.data),n(x.total),u("Daily works imported successfully."),t()):(console.error(x.errors||x.error),d("Failed to import data."))}catch(w){d(`Error: ${w.message||"An unexpected error occurred."}`)}finally{i(!1)}});Te.promise(R,{pending:{render(){return F("div",{style:{display:"flex",alignItems:"center"},children:[s(ht,{}),s("span",{style:{marginLeft:"8px"},children:"Uploading file ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:f.glassCard.backgroundColor,border:f.glassCard.border,color:f.palette.text.primary}},success:{render({data:u}){return s(le,{children:u})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:f.glassCard.backgroundColor,border:f.glassCard.border,color:f.palette.text.primary}},error:{render({data:u}){return s(le,{children:u})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:f.glassCard.backgroundColor,border:f.glassCard.border,color:f.palette.text.primary}}})},children:[s(Vt,{children:s(ue,{container:!0,spacing:2,children:s(ue,{item:!0,xs:12,children:F(ce,{...v(),sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"2px dashed #ccc",borderRadius:"8px",padding:"20px",cursor:a?"not-allowed":"pointer","&:hover":{borderColor:a?"#ccc":"#aaa"}},children:[s("input",{...m()}),s(ke,{sx:{borderRadius:"50%",backgroundColor:"#f0f0f0","&:hover":{backgroundColor:a?"#f0f0f0":"#e0e0e0",cursor:a?"not-allowed":"pointer"}},disabled:!!a,children:C(a)}),a?F(le,{children:[F(Ee,{variant:"body1",sx:{marginTop:"10px"},children:[a.name," (",(a.size/1024).toFixed(2)," KB)"]}),s(ke,{onClick:h,sx:{marginTop:"10px",backgroundColor:"#f0f0f0","&:hover":{backgroundColor:"#e0e0e0"}},children:s(Aa,{})})]}):s(Ee,{variant:"body1",sx:{marginTop:"10px"},children:"Drag & drop files here, or click to select files"})]})})})}),s(Wt,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:s(hn,{disabled:!a,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:l,startIcon:s(an,{}),children:"Upload"})})]})]})},ai=["value","referenceDate"],Ge={emptyValue:[null,null],getTodayValue:(e,t,n)=>[kn(e,t,n),kn(e,t,n)],getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=ge(e,ai);const a=t[0]!=null&&r.utils.isValid(t[0]),o=t[1]!=null&&r.utils.isValid(t[1]);if(a&&o)return t;const l=n??na(r);return[a?t[0]:l,o?t[1]:l]},cleanValue:(e,t)=>t.map(n=>ra(e,n)),areValuesEqual:(e,t,n)=>Rn(e,t[0],n[0])&&Rn(e,t[1],n[1]),isSameError:(e,t)=>t!==null&&e[1]===t[1]&&e[0]===t[0],hasError:e=>e[0]!=null||e[1]!=null,defaultErrorState:[null,null],getTimezone:(e,t)=>{const n=t[0]==null||!e.isValid(t[0])?null:e.getTimezone(t[0]),r=t[1]==null||!e.isValid(t[1])?null:e.getTimezone(t[1]);if(n!=null&&r!=null&&n!==r)throw new Error("MUI X: The timezone of the start and the end date should be the same.");return n??r},setTimezone:(e,t,n)=>[n[0]==null?null:e.setTimezone(n[0],t),n[1]==null?null:e.setTimezone(n[1],t)]};function oi(e){return gt("MuiDateRangePickerToolbar",e)}ft("MuiDateRangePickerToolbar",["root","container"]);const ii=["value","rangePosition","onRangePositionChange","toolbarFormat","className","onViewChange","view","views"],si=e=>{const{classes:t}=e;return Qe({root:["root"],container:["container"]},oi,t)},li=ve(aa,{name:"MuiDateRangePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ci=ve("div",{name:"MuiDateRangePickerToolbar",slot:"Container",overridesResolver:(e,t)=>t.container})({display:"flex"}),ui=g.forwardRef(function(t,n){const r=Ze(),a=Ae({props:t,name:"MuiDateRangePickerToolbar"}),{value:[o,l],rangePosition:i,onRangePositionChange:f,toolbarFormat:p,className:h}=a,v=ge(a,ii),m=Bt(),b=o?r.formatByString(o,p||r.formats.shortDate):m.start,C=l?r.formatByString(l,p||r.formats.shortDate):m.end,M=a,P=si(M);return L.jsx(li,y({},v,{toolbarTitle:m.dateRangePickerToolbarTitle,isLandscape:!1,className:qe(h,P.root),ownerState:M,ref:n,children:L.jsxs(ci,{className:P.container,children:[L.jsx(_n,{variant:o!==null?"h5":"h6",value:b,selected:i==="start",onClick:()=>f("start")}),L.jsxs(Ee,{variant:"h5",children:["Â ","â€“","Â "]}),L.jsx(_n,{variant:l!==null?"h5":"h6",value:C,selected:i==="end",onClick:()=>f("end")})]})}))});function br(e,t){const n=Ze(),r=Qn(),a=Ae({props:e,name:t}),o=g.useMemo(()=>{var l;return((l=a.localeText)==null?void 0:l.toolbarTitle)==null?a.localeText:y({},a.localeText,{dateRangePickerToolbarTitle:a.localeText.toolbarTitle})},[a.localeText]);return y({},a,{localeText:o,disableFuture:a.disableFuture??!1,disablePast:a.disablePast??!1,minDate:Et(n,a.minDate,r.minDate),maxDate:Et(n,a.maxDate,r.maxDate),slots:y({toolbar:ui},a.slots)})}const yr=[];let Ne=0;for(;Ne<64;)yr[Ne]=0|Math.sin(++Ne%Math.PI)*4294967296;function di(e){const t=[];let n,r,a,o=unescape(encodeURI(e))+"Â€",l=o.length;const i=[n=1732584193,r=4023233417,~n,~r];for(e=--l/4+2|15,t[--e]=l*8;~l;)t[l>>2]|=o.charCodeAt(l)<<8*l--;for(Ne=o=0;Ne<e;Ne+=16){for(l=i;o<64;l=[a=l[3],n+((a=l[0]+[n&r|~n&a,a&n|~a&r,n^r^a,r^(n|~a)][l=o>>4]+yr[o]+~~t[Ne|[o,5*o+1,3*o+5,7*o][l]&15])<<(l=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*l+o++%4])|a>>>-l),n,r])n=l[1]|0,r=l[2];for(o=4;o;)i[--o]+=l[o]}for(e="";o<32;)e+=(i[o>>3]>>(1^o++)*4&15).toString(16);return e}const Pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",vr=e=>{let t="",n,r,a,o,l,i,f,p=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");p<e.length;)o=Pt.indexOf(e.charAt(p++)),l=Pt.indexOf(e.charAt(p++)),i=Pt.indexOf(e.charAt(p++)),f=Pt.indexOf(e.charAt(p++)),n=o<<2|l>>4,r=(l&15)<<4|i>>2,a=(i&3)<<6|f,t=t+String.fromCharCode(n),i!=64&&(t=t+String.fromCharCode(r)),f!=64&&(t=t+String.fromCharCode(a));return t},pi=["pro","premium"],fi=["perpetual","annual","subscription"];function nt(e){console.error(["*************************************************************","",...e,"","*************************************************************"].join(`
`))}function gi(){nt(["MUI X: Invalid license key.","","Your MUI X license key format isn't valid. It could be because the license key is missing a character or has a typo.","","To solve the issue, you need to double check that `setLicenseKey()` is called with the right argument","Please check the license key installation https://mui.com/r/x-license-key-installation."])}function hi(){nt(["MUI X: License key plan mismatch.","","Your use of MUI X is not compatible with the plan of your license key. The feature you are trying to use is not included in the plan of your license key. This happens if you try to use `DataGridPremium` with a license key for the Pro plan.","","To solve the issue, you can upgrade your plan from Pro to Premium at https://mui.com/r/x-get-license?scope=premium.","Of if you didn't intend to use Premium features, you can replace the import of `@mui/x-data-grid-premium` with `@mui/x-data-grid-pro`."])}function mi(){nt(["MUI X: Component not included in your license.","","The component you are trying to use is not included in the Pro Plan you purchased.","","Your license is from an old version of the Pro Plan that is only compatible with the `@mui/x-data-grid-pro` and `@mui/x-date-pickers-pro` commercial packages.","","To start using another Pro package, please consider reaching to our sales team to upgrade your license or visit https://mui.com/r/x-get-license to get a new license key."])}function bi({plan:e,packageName:t}){nt(["MUI X: Missing license key.","",`The license key is missing. You might not be allowed to use \`${t}\` which is part of MUI X ${e}.`,"","To solve the issue, you can check the free trial conditions: https://mui.com/r/x-license-trial.","If you are eligible no actions are required. If you are not eligible to the free trial, you need to purchase a license https://mui.com/r/x-get-license or stop using the software immediately."])}function yi({packageName:e}){nt(["MUI X: Expired package version.","",`You have installed a version of \`${e}\` that is outside of the maintenance plan of your license key. By default, commercial licenses provide access to new versions released during the first year after the purchase.`,"","To solve the issue, you can renew your license https://mui.com/r/x-get-license or install an older version of the npm package that is compatible with your license key."])}function vi({plan:e,licenseKey:t,expiryTimestamp:n}){nt(["MUI X: Expired license key.","",`Your annual license key to use MUI X ${e} in non-production environments has expired. If you are seeing this development console message, you might be close to breach the license terms by making direct or indirect changes to the frontend of an app that render a MUI X ${e} component (more details in https://mui.com/r/x-license-annual).`,"","To solve the problem you can either:","","- Renew your license https://mui.com/r/x-get-license and use the new key",`- Stop making changes to code depending directly or indirectly on MUI X ${e}'s APIs`,"","Note that your license is perpetual in production environments with any version released before your license term ends.","",`- License key expiry timestamp: ${new Date(n)}`,`- Installed license key: ${t}`,""])}function xi({plan:e,licenseKey:t,expiryTimestamp:n}){throw new Error(["MUI X: Expired license key.","",`Your annual license key to use MUI X ${e} in non-production environments has expired. If you are seeing this development console message, you might be close to breach the license terms by making direct or indirect changes to the frontend of an app that render a MUI X ${e} component (more details in https://mui.com/r/x-license-annual).`,"","To solve the problem you can either:","","- Renew your license https://mui.com/r/x-get-license and use the new key",`- Stop making changes to code depending directly or indirectly on MUI X ${e}'s APIs`,"","Note that your license is perpetual in production environments with any version released before your license term ends.","",`- License key expiry timestamp: ${new Date(n)}`,`- Installed license key: ${t}`,""].join(`
`))}tn.__MUI_LICENSE_INFO__=tn.__MUI_LICENSE_INFO__||{key:void 0};class jt{static getLicenseInfo(){return tn.__MUI_LICENSE_INFO__}static getLicenseKey(){return jt.getLicenseInfo().key}static setLicenseKey(t){const n=jt.getLicenseInfo();n.key=t}}let K=function(e){return e.NotFound="NotFound",e.Invalid="Invalid",e.ExpiredAnnual="ExpiredAnnual",e.ExpiredAnnualGrace="ExpiredAnnualGrace",e.ExpiredVersion="ExpiredVersion",e.Valid="Valid",e.OutOfScope="OutOfScope",e.NotAvailableInInitialProPlan="NotAvailableInInitialProPlan",e}({});function Di(e,t){let n;return e.includes("-pro")?n=["pro","premium"]:e.includes("-premium")?n=["premium"]:n=[],n.includes(t)}const Ci=/^.*EXPIRY=([0-9]+),.*$/,Pi=["x-data-grid-pro","x-date-pickers-pro"],wi=e=>{let t;try{t=parseInt(e.match(Ci)[1],10),(!t||Number.isNaN(t))&&(t=null)}catch{t=null}return{scope:"pro",licensingModel:"perpetual",expiryTimestamp:t,planVersion:"initial"}},ki=e=>{const t={scope:null,licensingModel:null,expiryTimestamp:null,planVersion:"initial"};return e.split(",").map(n=>n.split("=")).filter(n=>n.length===2).forEach(([n,r])=>{if(n==="S"&&(t.scope=r),n==="LM"&&(t.licensingModel=r),n==="E"){const a=parseInt(r,10);a&&!Number.isNaN(a)&&(t.expiryTimestamp=a)}n==="PV"&&(t.planVersion=r)}),t},Ri=e=>{const t=vr(e);return t.includes("KEYVERSION=1")?wi(t):t.includes("KV=2")?ki(t):null};function Si({releaseInfo:e,licenseKey:t,packageName:n}){if(!e)throw new Error("MUI X: The release information is missing. Not able to validate license.");if(!t)return{status:K.NotFound};const r=t.substr(0,32),a=t.substr(32);if(r!==di(a))return{status:K.Invalid};const o=Ri(a);if(o==null)return console.error("MUI X: Error checking license. Key version not found!"),{status:K.Invalid};if(o.licensingModel==null||!fi.includes(o.licensingModel))return console.error("MUI X: Error checking license. Licensing model not found or invalid!"),{status:K.Invalid};if(o.expiryTimestamp==null)return console.error("MUI X: Error checking license. Expiry timestamp not found or invalid!"),{status:K.Invalid};o.licensingModel;{const l=parseInt(vr(e),10);if(Number.isNaN(l))throw new Error("MUI X: The release information is invalid. Not able to validate license.");if(o.expiryTimestamp<l)return{status:K.ExpiredVersion}}return o.scope==null||!pi.includes(o.scope)?(console.error("MUI X: Error checking license. scope not found or invalid!"),{status:K.Invalid}):Di(n,o.scope)?o.planVersion==="initial"&&o.scope==="pro"&&!Pi.includes(n)?{status:K.NotAvailableInInitialProPlan}:{status:K.Valid}:{status:K.OutOfScope}}const Ii=g.createContext({key:void 0}),wt={};function Kt(e,t){const{key:n}=g.useContext(Ii);return g.useMemo(()=>{const r=n??jt.getLicenseKey();if(wt[e]&&wt[e].key===r)return wt[e].licenseVerifier;const a=e.includes("premium")?"Premium":"Pro",o=Si({releaseInfo:t,licenseKey:r,packageName:e}),l=`@mui/${e}`;return o.status===K.Valid||(o.status===K.Invalid?gi():o.status===K.NotAvailableInInitialProPlan?mi():o.status===K.OutOfScope?hi():o.status===K.NotFound?bi({plan:a,packageName:l}):o.status===K.ExpiredAnnualGrace?vi(y({plan:a},o.meta)):o.status===K.ExpiredAnnual?xi(y({plan:a},o.meta)):o.status===K.ExpiredVersion&&yi({packageName:l})),wt[e]={key:r,licenseVerifier:o},o},[e,t,n])}function Mi(e){switch(e){case K.ExpiredAnnualGrace:case K.ExpiredAnnual:return"MUI X Expired license key";case K.ExpiredVersion:return"MUI X Expired package version";case K.Invalid:return"MUI X Invalid license key";case K.OutOfScope:return"MUI X License key plan mismatch";case K.NotAvailableInInitialProPlan:return"MUI X Product not covered by plan";case K.NotFound:return"MUI X Missing license key";default:throw new Error("Unhandled MUI X license status.")}}function Fi(e){const{packageName:t,releaseInfo:n}=e,r=Kt(t,n);return r.status===K.Valid?null:L.jsx("div",{style:{position:"absolute",pointerEvents:"none",color:"#8282829e",zIndex:1e5,width:"100%",textAlign:"center",bottom:"50%",right:0,letterSpacing:5,fontSize:24},children:Mi(r.status)})}const Yt=()=>"MTcyMzc1NTYwMDAwMA==",Ti=e=>gt("MuiDateRangeCalendar",e),Kn=ft("MuiDateRangeCalendar",["root","monthContainer","dayDragging"]),bt=(e,t)=>!!(t&&t[0]&&t[1]&&!e.isBefore(t[1],t[0])),Zt=(e,t,n)=>bt(e,n)&&e.isWithinRange(t,n),St=(e,t,n)=>bt(e,n)&&e.isSameDay(t,n[0]),ct=(e,t,n)=>bt(e,n)&&e.isSameDay(t,n[1]);function dn({utils:e,range:t,newDate:n,rangePosition:r,allowRangeFlip:a=!1,shouldMergeDateAndTime:o=!1}){const[l,i]=t;if(o&&n&&(l&&r==="start"&&(n=Sn(e,n,l)),i&&r==="end"&&(n=Sn(e,n,i))),r==="start"){const p=a?{nextSelection:"start",newRange:[i,n]}:{nextSelection:"end",newRange:[n,null]};return i&&e.isAfter(n,i)?p:{nextSelection:"end",newRange:[n,i]}}const f=a?{nextSelection:"end",newRange:[n,l]}:{nextSelection:"end",newRange:[n,null]};return l&&e.isBeforeDay(n,l)?f:{nextSelection:"start",newRange:[l,n]}}function Ei(e){if(e.newDate==null)return[null,null];const[t,n]=e.range,{newRange:r}=dn(e);if(!t||!n)return r;const[a,o]=r;return e.rangePosition==="end"?[n,o]:[a,t]}function Ai(e){return gt("MuiDateRangePickerDay",e)}const q=ft("MuiDateRangePickerDay",["root","rangeIntervalDayHighlight","rangeIntervalDayHighlightStart","rangeIntervalDayHighlightEnd","rangeIntervalPreview","rangeIntervalDayPreview","rangeIntervalDayPreviewStart","rangeIntervalDayPreviewEnd","outsideCurrentMonth","startOfMonth","endOfMonth","firstVisibleCell","lastVisibleCell","hiddenDayFiller","day","dayOutsideRangeInterval","dayInsideRangeInterval","notSelectedDate"]),Oi=["className","day","outsideCurrentMonth","isEndOfHighlighting","isEndOfPreviewing","isHighlighting","isPreviewing","isStartOfHighlighting","isStartOfPreviewing","selected","isVisuallySelected","sx","draggable","isFirstVisibleCell","isLastVisibleCell"],_i=Yt(),ji=e=>{const{isHighlighting:t,outsideCurrentMonth:n,isStartOfHighlighting:r,isStartOfMonth:a,isEndOfHighlighting:o,isEndOfMonth:l,isPreviewing:i,isStartOfPreviewing:f,isEndOfPreviewing:p,isFirstVisibleCell:h,isLastVisibleCell:v,isHiddenDayFiller:m,selected:b,classes:C}=e;return Qe({root:["root",t&&"rangeIntervalDayHighlight",r&&"rangeIntervalDayHighlightStart",o&&"rangeIntervalDayHighlightEnd",n&&"outsideCurrentMonth",a&&"startOfMonth",l&&"endOfMonth",h&&"firstVisibleCell",v&&"lastVisibleCell",m&&"hiddenDayFiller"],rangeIntervalPreview:["rangeIntervalPreview",i&&"rangeIntervalDayPreview",(f||a)&&"rangeIntervalDayPreviewStart",(p||l)&&"rangeIntervalDayPreviewEnd"],day:["day",!b&&"notSelectedDate",!t&&"dayOutsideRangeInterval",!b&&t&&"dayInsideRangeInterval"]},Ai,C)},It={borderTopRightRadius:"50%",borderBottomRightRadius:"50%"},Mt={borderTopLeftRadius:"50%",borderBottomLeftRadius:"50%"},Li=ve("div",{name:"MuiDateRangePickerDay",slot:"Root",overridesResolver:(e,t)=>[{[`&.${q.rangeIntervalDayHighlight}`]:t.rangeIntervalDayHighlight},{[`&.${q.rangeIntervalDayHighlightStart}`]:t.rangeIntervalDayHighlightStart},{[`&.${q.rangeIntervalDayHighlightEnd}`]:t.rangeIntervalDayHighlightEnd},{[`&.${q.firstVisibleCell}`]:t.firstVisibleCell},{[`&.${q.lastVisibleCell}`]:t.lastVisibleCell},{[`&.${q.startOfMonth}`]:t.startOfMonth},{[`&.${q.endOfMonth}`]:t.endOfMonth},{[`&.${q.outsideCurrentMonth}`]:t.outsideCurrentMonth},{[`&.${q.hiddenDayFiller}`]:t.hiddenDayFiller},t.root]})(({theme:e})=>({variants:[{props:{isHiddenDayFiller:!1},style:{[`&:first-of-type .${q.rangeIntervalDayPreview}`]:y({},Mt,{borderLeftColor:(e.vars||e).palette.divider}),[`&:last-of-type .${q.rangeIntervalDayPreview}`]:y({},It,{borderRightColor:(e.vars||e).palette.divider})}},{props:{isHiddenDayFiller:!1,isHighlighting:!0},style:{borderRadius:0,color:(e.vars||e).palette.primary.contrastText,backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Ur(e.palette.primary.main,e.palette.action.focusOpacity),"&:first-of-type":Mt,"&:last-of-type":It}},{props:({ownerState:{isHiddenDayFiller:t,isStartOfHighlighting:n,isFirstVisibleCell:r}})=>!t&&(n||r),style:y({},Mt,{paddingLeft:0})},{props:({ownerState:{isHiddenDayFiller:t,isEndOfHighlighting:n,isLastVisibleCell:r}})=>!t&&(n||r),style:y({},It,{paddingRight:0})}]})),$i=ve("div",{name:"MuiDateRangePickerDay",slot:"RangeIntervalPreview",overridesResolver:(e,t)=>[{[`&.${q.rangeIntervalDayPreview}`]:t.rangeIntervalDayPreview},{[`&.${q.rangeIntervalDayPreviewStart}`]:t.rangeIntervalDayPreviewStart},{[`&.${q.rangeIntervalDayPreviewEnd}`]:t.rangeIntervalDayPreviewEnd},t.rangeIntervalPreview]})(({theme:e})=>({border:"2px solid transparent",variants:[{props:{isPreviewing:!0,isHiddenDayFiller:!1},style:{borderRadius:0,border:`2px dashed ${(e.vars||e).palette.divider}`,borderLeftColor:"transparent",borderRightColor:"transparent"}},{props:({ownerState:{isPreviewing:t,isHiddenDayFiller:n,isStartOfPreviewing:r,isFirstVisibleCell:a}})=>t&&!n&&(r||a),style:y({borderLeftColor:(e.vars||e).palette.divider},Mt)},{props:({ownerState:{isPreviewing:t,isHiddenDayFiller:n,isEndOfPreviewing:r,isLastVisibleCell:a}})=>t&&!n&&(r||a),style:y({borderRightColor:(e.vars||e).palette.divider},It)}]})),Ni=ve(oa,{name:"MuiDateRangePickerDay",slot:"Day",overridesResolver:(e,t)=>[{[`&.${q.dayInsideRangeInterval}`]:t.dayInsideRangeInterval},{[`&.${q.dayOutsideRangeInterval}`]:t.dayOutsideRangeInterval},{[`&.${q.notSelectedDate}`]:t.notSelectedDate},t.day]})({transform:"scale(1.1)","& > *":{transform:"scale(0.9)"},variants:[{props:{draggable:!0},style:{cursor:"grab",touchAction:"none"}}]}),zi=g.forwardRef(function(t,n){const r=Ae({props:t,name:"MuiDateRangePickerDay"}),{className:a,day:o,outsideCurrentMonth:l,isHighlighting:i,isPreviewing:f,selected:p=!1,isVisuallySelected:h,sx:v,draggable:m,isFirstVisibleCell:b,isLastVisibleCell:C}=r,M=ge(r,Oi);Kt("x-date-pickers-pro",_i);const P=Ze(),k=P.isSameDay(o,P.endOfMonth(o)),R=P.isSameDay(o,P.startOfMonth(o)),u=y({},r,{selected:p,isStartOfMonth:R,isEndOfMonth:k,draggable:m,isFirstVisibleCell:b,isLastVisibleCell:C,isHiddenDayFiller:l&&!M.showDaysOutsideCurrentMonth}),d=ji(u);return L.jsx(Li,{className:qe(d.root,a),ownerState:u,sx:v,children:L.jsx($i,{className:d.rangeIntervalPreview,ownerState:u,children:L.jsx(Ni,y({},M,{ref:n,disableMargin:!0,day:o,selected:h,outsideCurrentMonth:l,className:d.day,ownerState:u,draggable:m,isFirstVisibleCell:b,isLastVisibleCell:C}))})})}),Hi=g.memo(zi),Ye=(e,t,n)=>{const r=e.dataset.timestamp;if(!r)return null;const a=+r;return t.date(new Date(a).toISOString(),n)},Vi=e=>e.target.dataset.timestamp===e.dataTransfer.getData("draggingDate"),xr=e=>e&&(e instanceof HTMLButtonElement&&!e.disabled?e:e.children.length?xr(e.children[0]):null),en=(e,t)=>{var n;if(((n=e.changedTouches)==null?void 0:n.length)===1&&e.touches.length<=1){const r=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY),a=xr(r);return t&&a===e.changedTouches[0].target?null:a}return null},Wi=({utils:e,setRangeDragDay:t,setIsDragging:n,isDragging:r,onDatePositionChange:a,onDrop:o,disableDragEditing:l,dateRange:i,timezone:f})=>{const p=g.useRef(null);g.useEffect(()=>{p.current=document.createElement("img"),p.current.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},[]);const h=d=>{if(d==null)return!1;const w=!l&&!!i[0]&&!!i[1],x=St(e,d,i),S=ct(e,d,i);return w&&(x||S)},v=re(d=>{const w=Ye(d.target,e,f);if(!h(w))return;d.stopPropagation(),p.current&&d.dataTransfer.setDragImage(p.current,0,0),t(w),d.dataTransfer.effectAllowed="move",n(!0);const x=d.target.dataset;x.timestamp&&d.dataTransfer.setData("draggingDate",x.timestamp),x.position&&a(x.position)}),m=re(d=>{const w=en(d);if(!w)return;const x=Ye(w,e,f);h(x)&&t(x)}),b=re(d=>{r&&(d.preventDefault(),d.stopPropagation(),d.dataTransfer.dropEffect="move",t(Ye(d.target,e,f)))}),C=re(d=>{const w=en(d);if(!w)return;const x=Ye(w,e,f);if(x&&t(x),!(w===d.changedTouches[0].target)||!h(x))return;n(!0);const O=d.target.dataset;O.position&&a(O.position)}),M=re(d=>{r&&(d.preventDefault(),d.stopPropagation())}),P=re(d=>{r&&(d.preventDefault(),d.stopPropagation(),d.dataTransfer.dropEffect="move")}),k=re(d=>{if(!r)return;t(null),n(!1);const w=en(d,!0);if(!w)return;w.focus();const x=Ye(w,e,f);x&&o(x)}),R=re(d=>{r&&(d.preventDefault(),d.stopPropagation(),n(!1),t(null))}),u=re(d=>{if(!r||(d.preventDefault(),d.stopPropagation(),n(!1),t(null),d.currentTarget.focus(),Vi(d)))return;const w=Ye(d.target,e,f);w&&o(w)});return{onDragStart:v,onDragEnter:b,onDragLeave:M,onDragOver:P,onDragEnd:R,onDrop:u,onTouchStart:m,onTouchMove:C,onTouchEnd:k}},Bi=({disableDragEditing:e,utils:t,onDatePositionChange:n,onDrop:r,dateRange:a,timezone:o})=>{const[l,i]=g.useState(!1),[f,p]=g.useState(null),h=re(b=>{t.isEqual(b,f)||p(b)}),v=g.useMemo(()=>{const[b,C]=a;if(f){if(b&&t.isBefore(f,b))return"start";if(C&&t.isAfter(f,C))return"end"}return null},[a,f,t]),m=Wi({utils:t,onDatePositionChange:n,onDrop:r,setIsDragging:i,isDragging:l,setRangeDragDay:h,disableDragEditing:e,dateRange:a,timezone:o});return g.useMemo(()=>y({isDragging:l,rangeDragDay:f,draggingDatePosition:v},e?{}:m),[l,f,v,e,m])},Dn=(e,t)=>{const[n,r]=Kr({name:"useRangePosition",state:"rangePosition",controlled:e.rangePosition,default:e.defaultRangePosition??"start"}),a=l=>{if((t==null?void 0:t.current)==null)return;const i=t.current.getSections(),f=l==="start"?0:i.length/2;t.current.setSelectedSections(f)},o=re(l=>{var i;r(l),(i=e.onRangePositionChange)==null||i.call(e,l),a(l)});return{rangePosition:n,onRangePositionChange:o}},Ui=40,Ki=["calendars","month","monthIndex","labelId"],Yi=["format","slots","slotProps","currentMonth","onMonthChange","disableFuture","disablePast","minDate","maxDate","timezone","reduceAnimations","views","view"],Xi=ve(ia)({padding:"12px 16px 4px 16px",display:"flex",alignItems:"center",justifyContent:"space-between"}),Gi=g.forwardRef(function(t,n){const r=Ze(),a=Bt(),{calendars:o,month:l,monthIndex:i,labelId:f}=t,p=ge(t,Ki),{format:h,slots:v,slotProps:m,currentMonth:b,onMonthChange:C,disableFuture:M,disablePast:P,minDate:k,maxDate:R,timezone:u}=p,d=ge(p,Yi),w=sa(b,{disableFuture:M,maxDate:R,timezone:u}),x=la(b,{disablePast:P,minDate:k,timezone:u});if(o===1)return L.jsx(ca,y({},p,{labelId:f,ref:n}));const S=()=>C(r.addMonths(b,1),"left"),A=()=>C(r.addMonths(b,-1),"right");return L.jsx(Xi,y({},d,{ref:n,onGoToPrevious:A,onGoToNext:S,isPreviousHidden:i!==0,isPreviousDisabled:x,previousLabel:a.previousMonth,isNextHidden:i!==o-1,isNextDisabled:w,nextLabel:a.nextMonth,slots:v,slotProps:m,labelId:f,children:r.formatByString(l,h??`${r.formats.month} ${r.formats.year}`)}))}),qi=["value","defaultValue","referenceDate","onChange","className","disableFuture","disablePast","minDate","maxDate","shouldDisableDate","reduceAnimations","onMonthChange","rangePosition","defaultRangePosition","onRangePositionChange","calendars","currentMonthCalendarPosition","slots","slotProps","loading","renderLoading","disableHighlightToday","readOnly","disabled","showDaysOutsideCurrentMonth","dayOfWeekFormatter","disableAutoMonthSwitching","autoFocus","fixedWeekNumber","disableDragEditing","displayWeekNumber","timezone","availableRangePositions","views","view","openTo","onViewChange"],Qi=["isDragging","rangeDragDay","draggingDatePosition"],Ji=Yt(),Zi=ve("div",{name:"MuiDateRangeCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row"}),es=ve("div",{name:"MuiDateRangeCalendar",slot:"Container",overridesResolver:(e,t)=>t.monthContainer})(({theme:e})=>({"&:not(:last-of-type)":{borderRight:`1px solid ${(e.vars||e).palette.divider}`}})),ts=(Ui+ha*2)*6,ns=ve(ua)(({theme:e})=>({minWidth:312,minHeight:ts,[`&.${Kn.dayDragging}`]:{[`& .${q.day}`]:{cursor:"grabbing"},[`& .${q.root}:not(.${q.rangeIntervalDayHighlightStart}):not(.${q.rangeIntervalDayHighlightEnd}) .${q.day}:not(.${q.notSelectedDate})`]:{opacity:.6}},[`&:not(.${Kn.dayDragging}) .${q.dayOutsideRangeInterval}`]:{"@media (pointer: fine)":{"&:hover":{border:`1px solid ${(e.vars||e).palette.grey[500]}`}}}}));function rs(e,t){const n=Ze(),r=Qn(),a=ma(),o=Ae({props:e,name:t});return y({},o,{renderLoading:o.renderLoading??(()=>L.jsx("span",{children:"..."})),reduceAnimations:o.reduceAnimations??a,loading:e.loading??!1,disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,openTo:o.openTo??"day",views:o.views??["day"],minDate:Et(n,o.minDate,r.minDate),maxDate:Et(n,o.maxDate,r.maxDate),calendars:o.calendars??2,disableDragEditing:o.disableDragEditing??!1,availableRangePositions:o.availableRangePositions??["start","end"]})}const as=e=>{const{classes:t,isDragging:n}=e;return Qe({root:["root"],monthContainer:["monthContainer"],dayCalendar:[n&&"dayDragging"]},Ti,t)},os=g.forwardRef(function(t,n){const r=rs(t,"MuiDateRangeCalendar"),a=pn(da,{defaultMatches:!1}),{value:o,defaultValue:l,referenceDate:i,onChange:f,className:p,disableFuture:h,disablePast:v,minDate:m,maxDate:b,shouldDisableDate:C,reduceAnimations:M,onMonthChange:P,rangePosition:k,defaultRangePosition:R,onRangePositionChange:u,calendars:d,currentMonthCalendarPosition:w=1,slots:x,slotProps:S,loading:A,renderLoading:O,disableHighlightToday:H,readOnly:W,disabled:G,showDaysOutsideCurrentMonth:B,dayOfWeekFormatter:z,disableAutoMonthSwitching:U,autoFocus:$,fixedWeekNumber:V,disableDragEditing:te,displayWeekNumber:N,timezone:de,availableRangePositions:Y,views:pe,view:he,openTo:oe,onViewChange:Re}=r,_=ge(r,qi),{value:T,handleValueChange:ee,timezone:ae}=Jn({name:"DateRangeCalendar",timezone:de,value:o,defaultValue:l,onChange:f,valueManager:Ge}),{setValueAndGoToNextView:me,view:ie}=pa({view:he,views:pe,openTo:oe,onChange:ee,onViewChange:Re,autoFocus:$}),E=Ze(),rt=fa(ae),yt=Gn(),{rangePosition:fe,onRangePositionChange:at}=Dn({rangePosition:k,defaultRangePosition:R,onRangePositionChange:u}),Ie=re(j=>{fe!==j&&at(j)}),He=re((j,X,xe=!1)=>{const{nextSelection:Pe,newRange:Ke}=dn({newDate:j,utils:E,range:T,rangePosition:fe,allowRangeFlip:xe,shouldMergeDateAndTime:!0}),je=Y.includes(Pe);je&&at(Pe);const Fe=fe==="end"&&bt(E,Ke);me(Ke,Fe||!je?"finish":"partial",ie)}),Ve=re(j=>{He(j,void 0,!0)}),Oe=te||G||W,be=g.useMemo(()=>[T[0]==null||!E.isValid(T[0])?T[0]:E.startOfDay(T[0]),T[1]==null||!E.isValid(T[1])?T[1]:E.endOfDay(T[1])],[T,E]),vt=Bi({disableDragEditing:Oe,onDrop:Ve,onDatePositionChange:Ie,utils:E,dateRange:be,timezone:ae}),{isDragging:Me,rangeDragDay:D,draggingDatePosition:I}=vt,Z=ge(vt,Qi),ne=y({},r,{isDragging:Me}),se=as(ne),De=g.useMemo(()=>{if(!be[0]||!be[1]||!D)return[null,null];const j=dn({utils:E,range:be,newDate:D,rangePosition:fe,allowRangeFlip:!0}).newRange;return j[0]!==null&&j[1]!==null?[E.startOfDay(j[0]),E.endOfDay(j[1])]:j},[fe,D,E,be]),Se=g.useMemo(()=>{if(C)return j=>C(j,I||fe)},[C,fe,I]),{calendarState:Ce,changeFocusedDay:ot,changeMonth:it,handleChangeMonth:We,onMonthSwitchingAnimationEnd:st}=ga({value:T[0]||T[1],referenceDate:i,disableFuture:h,disablePast:v,disableSwitchToMonthOnDayFocus:!0,maxDate:b,minDate:m,onMonthChange:P,reduceAnimations:M,shouldDisableDate:Se,timezone:ae}),Be=(x==null?void 0:x.calendarHeader)??Gi,lt=$e({elementType:Be,externalSlotProps:S==null?void 0:S.calendarHeader,additionalProps:{calendars:d,views:["day"],view:"day",currentMonth:Ce.currentMonth,onMonthChange:(j,X)=>We({newMonth:j,direction:X}),minDate:m,maxDate:b,disabled:G,disablePast:v,disableFuture:h,reduceAnimations:M,timezone:ae,slots:x,slotProps:S},ownerState:r}),_e=g.useRef(null);g.useEffect(()=>{var je,Fe;const j=fe==="start"?T[0]:T[1];if(!j||!E.isValid(j))return;const X=fe==="start"?(je=_e.current)==null?void 0:je[0]:(Fe=_e.current)==null?void 0:Fe[1];if(_e.current=T,U&&X&&E.isEqual(X,j))return;const xe=d-1,Pe=E.getMonth(Ce.currentMonth),Ke=E.getMonth(j);if(!E.isSameYear(Ce.currentMonth,j)||Ke<Pe||Ke>Pe+xe){const xt=fe==="start"?j:E.addMonths(j,-xe);it(xt)}},[fe,T]);const Xt={disablePast:v,disableFuture:h,maxDate:b,minDate:m},Rr={disableHighlightToday:H,readOnly:W,disabled:G},[Sr,Gt]=g.useState(null),Ir=g.useMemo(()=>({onMouseLeave:()=>Gt(null)}),[]),qt=Ei({utils:E,range:be,newDate:Sr,rangePosition:fe}),Mr=re((j,X)=>{Zt(E,X,be)?Gt(null):Gt(X)}),Fr=y({day:Hi},x),Tr=y({},S,{day:j=>{const{day:X}=j,xe=St(E,X,be),Pe=ct(E,X,be),je=!Oe&&be[0]&&be[1]&&(xe||Pe);let Fe;xe?Fe="start":Pe&&(Fe="end");const xt=Me?St(E,X,De):xe,Or=Me?ct(E,X,De):Pe;return y({isPreviewing:a?Zt(E,X,qt):!1,isStartOfPreviewing:a?St(E,X,qt):!1,isEndOfPreviewing:a?ct(E,X,qt):!1,isHighlighting:Zt(E,X,Me?De:be),isStartOfHighlighting:xt,isEndOfHighlighting:Me?ct(E,X,De):Pe,onMouseEnter:a?Mr:void 0,isVisuallySelected:j.selected||Me&&(xt||Or),"data-position":Fe},Z,{draggable:je?!0:void 0},Xe(S==null?void 0:S.day,j)??{})}}),Er=g.useMemo(()=>Array.from({length:d}).map((j,X)=>X),[d]),Ue=g.useMemo(()=>{const j=E.addMonths(Ce.currentMonth,1-w);return Array.from({length:d}).map((X,xe)=>E.addMonths(j,xe))},[E,Ce.currentMonth,d,w]),Ar=g.useMemo(()=>$?T[0]!=null?Ue.find(j=>E.isSameMonth(j,T[0])):T[1]!=null?Ue.find(j=>E.isSameMonth(j,T[1])):Ue.find(j=>E.isSameMonth(j,rt))??Ue[0]:null,[E,T,Ue,$,rt]);return L.jsxs(Zi,y({ref:n,className:qe(p,se.root),ownerState:ne},_,{children:[L.jsx(Fi,{packageName:"x-date-pickers-pro",releaseInfo:Ji}),Er.map(j=>{const X=Ue[j],xe=`${yt}-grid-${j}-label`;return L.jsxs(es,{className:se.monthContainer,children:[L.jsx(Be,y({},lt,{month:X,monthIndex:j,labelId:xe})),L.jsx(ns,y({className:se.dayCalendar},Ce,Xt,Rr,{onMonthSwitchingAnimationEnd:st,onFocusedDayChange:ot,reduceAnimations:M,selectedDays:T,onSelectedDaysChange:He,currentMonth:X,TransitionProps:Ir,shouldDisableDate:Se,showDaysOutsideCurrentMonth:d===1&&B,dayOfWeekFormatter:z,loading:A,renderLoading:O,slots:Fr,slotProps:Tr,autoFocus:X===Ar,fixedWeekNumber:V,displayWeekNumber:N,timezone:ae,gridLabelId:xe}))]},j)})]}))}),Dr=({value:e,defaultValue:t,referenceDate:n,onChange:r,className:a,classes:o,disableFuture:l,disablePast:i,minDate:f,maxDate:p,shouldDisableDate:h,reduceAnimations:v,onMonthChange:m,rangePosition:b,defaultRangePosition:C,onRangePositionChange:M,calendars:P,currentMonthCalendarPosition:k,slots:R,slotProps:u,loading:d,renderLoading:w,disableHighlightToday:x,readOnly:S,disabled:A,showDaysOutsideCurrentMonth:O,dayOfWeekFormatter:H,disableAutoMonthSwitching:W,sx:G,autoFocus:B,fixedWeekNumber:z,disableDragEditing:U,displayWeekNumber:$,timezone:V,availableRangePositions:te,views:N,view:de,onViewChange:Y})=>L.jsx(os,{value:e,defaultValue:t,referenceDate:n,onChange:r,className:a,classes:o,disableFuture:l,disablePast:i,minDate:f,maxDate:p,shouldDisableDate:h,reduceAnimations:v,onMonthChange:m,rangePosition:b,defaultRangePosition:C,onRangePositionChange:M,calendars:P,currentMonthCalendarPosition:k,slots:R,slotProps:u,loading:d,renderLoading:w,disableHighlightToday:x,readOnly:S,disabled:A,showDaysOutsideCurrentMonth:O,dayOfWeekFormatter:H,disableAutoMonthSwitching:W,sx:G,autoFocus:B,fixedWeekNumber:z,disableDragEditing:U,displayWeekNumber:$,timezone:V,availableRangePositions:te,view:de,views:N,onViewChange:Y}),is=["shouldDisableDate"],Lt=({props:e,value:t,adapter:n})=>{const[r,a]=t,{shouldDisableDate:o}=e,l=ge(e,is),i=[In({adapter:n,value:r,props:y({},l,{shouldDisableDate:f=>!!(o!=null&&o(f,"start"))})}),In({adapter:n,value:a,props:y({},l,{shouldDisableDate:f=>!!(o!=null&&o(f,"end"))})})];return i[0]||i[1]?i:r===null||a===null?[null,null]:bt(n.utils,t)?[null,null]:["invalidRange","invalidRange"]},Yn=(e,t)=>Object.keys(e).reduce((n,r)=>(t.includes(r)||(n[r]=e[r]),n),{}),ss=e=>{const t=g.useRef(null),n=Tt(e.unstableEndFieldRef,t),[r,a]=g.useState(e.selectedSections??null),[o,l]=g.useState(null),i=()=>t.current&&t.current.isFieldFocused()?"end":"start",f=re(v=>{var m;a(v),i()==="start"&&((m=e.onSelectedSectionsChange)==null||m.call(e,v))}),p=re(v=>{var m;l(v),i()==="end"&&((m=e.onSelectedSectionsChange)==null||m.call(e,v))}),h=i();return{start:{unstableFieldRef:e.unstableStartFieldRef,selectedSections:h==="start"&&e.selectedSections!==void 0?e.selectedSections:r,onSelectedSectionsChange:f},end:{unstableFieldRef:n,selectedSections:h==="end"&&e.selectedSections!==void 0?e.selectedSections:o,onSelectedSectionsChange:p}}},ls=({sharedProps:e,startTextFieldProps:t,unstableStartFieldRef:n,endTextFieldProps:r,unstableEndFieldRef:a})=>{const o=ba(e),l=ya(),{value:i,defaultValue:f,format:p,formatDensity:h,shouldRespectLeadingZeros:v,onChange:m,disabled:b,readOnly:C,selectedSections:M,onSelectedSectionsChange:P,timezone:k,enableAccessibleFieldDOMStructure:R,autoFocus:u}=o,{value:d,handleValueChange:w,timezone:x}=Jn({name:"useMultiInputDateRangeField",timezone:k,value:i,defaultValue:f,onChange:m,valueManager:Ge}),S=$=>(V,te)=>{const N=$===0?[V,d[1]]:[d[0],V],de=y({},te,{validationError:Lt({adapter:l,value:N,props:y({},o,{timezone:x})})});w(N,de)},A=re(S(0)),O=re(S(1)),H=va(y({},o,{value:d,timezone:x}),Lt,Ge.isSameError,Ge.defaultErrorState),W=ss({selectedSections:M,onSelectedSectionsChange:P,unstableStartFieldRef:n,unstableEndFieldRef:a}),G=y({error:!!H[0]},t,W.start,{disabled:b,readOnly:C,format:p,formatDensity:h,shouldRespectLeadingZeros:v,timezone:x,value:i===void 0?void 0:i[0],defaultValue:f===void 0?void 0:f[0],onChange:A,enableAccessibleFieldDOMStructure:R,autoFocus:u}),B=y({error:!!H[1]},r,W.end,{format:p,formatDensity:h,shouldRespectLeadingZeros:v,disabled:b,readOnly:C,timezone:x,value:i===void 0?void 0:i[1],defaultValue:f===void 0?void 0:f[1],onChange:O,enableAccessibleFieldDOMStructure:R}),z=Mn(G),U=Mn(B);return{startDate:Yn(z,["clearable","onClear"]),endDate:Yn(U,["clearable","onClear"])}},cs=["slots","slotProps","unstableStartFieldRef","unstableEndFieldRef","className"];ft("MuiMultiInputDateRangeField",["root","separator"]);const us=e=>gt("MuiMultiInputDateRangeField",e),ds=e=>{const{classes:t}=e;return Qe({root:["root"],separator:["separator"]},us,t)},ps=ve(g.forwardRef((e,t)=>L.jsx(Yr,y({ref:t,spacing:2,direction:"row",alignItems:"center"},e))),{name:"MuiMultiInputDateRangeField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),fs=ve(Ee,{name:"MuiMultiInputDateRangeField",slot:"Separator",overridesResolver:(e,t)=>t.separator})({lineHeight:"1.4375em"}),Cr=g.forwardRef(function(t,n){const r=Ae({props:t,name:"MuiMultiInputDateRangeField"}),{internalProps:a,forwardedProps:o}=xa(r),{slots:l,slotProps:i,unstableStartFieldRef:f,unstableEndFieldRef:p,className:h}=o,v=ge(o,cs),m=r,b=ds(m),C=(l==null?void 0:l.root)??ps,M=$e({elementType:C,externalSlotProps:i==null?void 0:i.root,externalForwardedProps:v,additionalProps:{ref:n},ownerState:m,className:qe(h,b.root)}),P=(l==null?void 0:l.textField)??(t.enableAccessibleFieldDOMStructure?Da:ye),k=$e({elementType:P,externalSlotProps:i==null?void 0:i.textField,ownerState:y({},m,{position:"start"})}),R=$e({elementType:P,externalSlotProps:i==null?void 0:i.textField,ownerState:y({},m,{position:"end"})}),u=(l==null?void 0:l.separator)??fs,d=$e({elementType:u,externalSlotProps:i==null?void 0:i.separator,additionalProps:{children:` ${a.dateSeparator??"â€“"} `},ownerState:m,className:b.separator}),w=ls({sharedProps:a,startTextFieldProps:k,endTextFieldProps:R,unstableStartFieldRef:f,unstableEndFieldRef:p}),x=Fn(w.startDate),S=Fn(w.endDate);return L.jsxs(C,y({},M,{children:[L.jsx(P,y({fullWidth:!0},x)),L.jsx(u,y({},d)),L.jsx(P,y({fullWidth:!0},S))]}))}),gs=["clearable","onClear"],hs=({wrapperVariant:e,open:t,actions:n,readOnly:r,labelId:a,disableOpenPicker:o,onBlur:l,rangePosition:i,onRangePositionChange:f,localeText:p,pickerSlotProps:h,pickerSlots:v,fieldProps:m,anchorRef:b,currentView:C,initialView:M,onViewChange:P,startFieldRef:k,endFieldRef:R})=>{const u=Bt(),d=Tt(m.unstableStartFieldRef,k),w=Tt(m.unstableEndFieldRef,R),x=g.useRef(i);g.useEffect(()=>{var V;if(!t)return;const $=i==="start"?k:R;if((V=$.current)==null||V.focusField(),!$.current||!C){x.current=i;return}$.current.setSelectedSections(x.current===i?C:0),x.current=i},[i,t,C,k,R]);const S=$=>{$.stopPropagation(),f("start"),!r&&!o&&n.onOpen($)},A=$=>{$.stopPropagation(),f("end"),!r&&!o&&n.onOpen($)},O=()=>{t&&(f("start"),x.current!=="start"&&M&&(P==null||P(M)))},H=()=>{t&&(f("end"),x.current!=="end"&&M&&(P==null||P(M)))},W=y({textField:v==null?void 0:v.textField,root:v==null?void 0:v.fieldRoot,separator:v==null?void 0:v.fieldSeparator},m.slots),G=y({},m.slotProps,{textField:$=>{const V=Xe(h==null?void 0:h.textField,$);let te,N;return $.position==="start"?(te=y({label:(p==null?void 0:p.start)??u.start,onKeyDown:nn(S),onFocus:O,focused:t?i==="start":void 0},!r&&!m.disabled&&{onClick:S},e==="mobile"&&{readOnly:!0}),b&&(N=y({},V==null?void 0:V.InputProps,{ref:b}))):(te=y({label:(p==null?void 0:p.end)??u.end,onKeyDown:nn(A),onFocus:H,focused:t?i==="end":void 0},!r&&!m.disabled&&{onClick:A},e==="mobile"&&{readOnly:!0}),N=V==null?void 0:V.InputProps),y({},a!=null&&{id:`${a}-${$.position}`},te,Xe(h==null?void 0:h.textField,$),{InputProps:N})},root:$=>y({},{onBlur:l},Xe(h==null?void 0:h.fieldRoot,$)),separator:h==null?void 0:h.fieldSeparator}),B=m,z=ge(B,gs);return y({},z,{unstableStartFieldRef:d,unstableEndFieldRef:w,slots:W,slotProps:G})},ms=({wrapperVariant:e,open:t,actions:n,readOnly:r,labelId:a,disableOpenPicker:o,label:l,onBlur:i,rangePosition:f,onRangePositionChange:p,startFieldRef:h,endFieldRef:v,pickerSlots:m,pickerSlotProps:b,fieldProps:C,anchorRef:M,currentView:P})=>{const k=Tt(C.unstableFieldRef,h,v);g.useEffect(()=>{var A;if(!(!t||!h.current)&&!h.current.isFieldFocused()&&P){const O=h.current.getSections().map(W=>W.type),H=f==="start"?O.indexOf(P):O.lastIndexOf(P);(A=h.current)==null||A.focusField(H)}},[f,t,P,h]);const R=()=>{var W,G;if(!((W=h.current)!=null&&W.isFieldFocused()))return;const A=h.current.getSections(),O=(G=h.current)==null?void 0:G.getActiveSectionIndex(),H=O==null||O<A.length/2?"start":"end";H!=null&&H!==f&&p(H)},u=re(A=>{var O;setTimeout(R),(O=C.onSelectedSectionsChange)==null||O.call(C,A)}),d=A=>{A.stopPropagation(),!r&&!o&&n.onOpen(A)},w=y({},C.slots,{textField:m==null?void 0:m.textField,clearButton:m==null?void 0:m.clearButton,clearIcon:m==null?void 0:m.clearIcon}),x=y({},C.slotProps,{textField:b==null?void 0:b.textField,clearButton:m==null?void 0:m.clearButton,clearIcon:m==null?void 0:m.clearIcon});return y({},C,{slots:w,slotProps:x,label:l,unstableFieldRef:k,onKeyDown:nn(d,C.onKeyDown),onSelectedSectionsChange:u,onBlur:i,InputProps:y({ref:M},C==null?void 0:C.InputProps),focused:t?!0:void 0},a!=null&&{id:a},e==="mobile"&&{readOnly:!0},!r&&!C.disabled&&{onClick:d})},Pr=e=>e.fieldType==="multi-input"?hs(e):ms(e),bs=["props"],ys=Yt(),vs=e=>{let{props:t}=e,n=ge(e,bs);Kt("x-date-pickers-pro",ys);const{slots:r,slotProps:a,className:o,sx:l,format:i,formatDensity:f,enableAccessibleFieldDOMStructure:p,selectedSections:h,onSelectedSectionsChange:v,timezone:m,label:b,inputRef:C,name:M,readOnly:P,disabled:k,autoFocus:R,disableOpenPicker:u,localeText:d,reduceAnimations:w}=t,x=g.useRef(null),S=g.useRef(null),A=g.useRef(null),O=g.useRef(null),H=g.useRef(null),W=g.useRef(t.openTo??null),G=r.field.fieldType??"multi-input",{rangePosition:B,onRangePositionChange:z}=Dn(t,G==="single-input"?O:void 0),{open:U,actions:$,layoutProps:V,renderCurrentView:te,shouldRestoreFocus:N,fieldProps:de}=Zn(y({},n,{props:t,wrapperVariant:"desktop",autoFocusView:!1,fieldRef:B==="start"?O:H,additionalViewProps:{rangePosition:B,onRangePositionChange:z}}));g.useEffect(()=>{V.view&&(W.current=V.view)},[]);const Y=()=>{Ca(()=>{var ee,ae;(ee=x.current)!=null&&ee.contains(Tn(document))||(ae=A.current)!=null&&ae.contains(Tn(document))||$.onDismiss()})},pe=r.field,he=$e({elementType:pe,externalSlotProps:a==null?void 0:a.field,additionalProps:y({},de,{readOnly:P,disabled:k,className:o,sx:l,format:i,formatDensity:f,enableAccessibleFieldDOMStructure:p,selectedSections:h,onSelectedSectionsChange:v,timezone:m,autoFocus:R&&!t.open,ref:x},G==="single-input"?{inputRef:C,name:M}:{}),ownerState:t}),oe=Pr({wrapperVariant:"desktop",fieldType:G,open:U,actions:$,readOnly:P,disableOpenPicker:u,label:b,localeText:d,onBlur:Y,rangePosition:B,onRangePositionChange:z,pickerSlotProps:a,pickerSlots:r,fieldProps:he,anchorRef:S,startFieldRef:O,endFieldRef:H,currentView:V.view!==t.openTo?V.view:void 0,initialView:W.current??void 0,onViewChange:V.onViewChange}),Re=y({},a,{tabs:y({},a==null?void 0:a.tabs,{rangePosition:B,onRangePositionChange:z}),toolbar:y({},a==null?void 0:a.toolbar,{rangePosition:B,onRangePositionChange:z})}),_=(r==null?void 0:r.layout)??er;return{renderPicker:()=>L.jsxs(fn,{localeText:d,children:[L.jsx(pe,y({},oe)),L.jsx(Pa,y({role:"tooltip",placement:"bottom-start",containerRef:A,anchorEl:S.current,onBlur:Y},$,{open:U,slots:r,slotProps:a,shouldRestoreFocus:N,reduceAnimations:w,children:L.jsx(_,y({},V,a==null?void 0:a.layout,{slots:r,slotProps:Re,children:te()}))}))]})}},wr=g.forwardRef(function(t,n){var i;const r=br(t,"MuiDesktopDateRangePicker"),a=y({day:Dr},r.viewRenderers),o=y({},r,{viewRenderers:a,calendars:r.calendars??2,views:["day"],openTo:"day",slots:y({field:Cr},r.slots),slotProps:y({},r.slotProps,{field:f=>{var p;return y({},Xe((p=r.slotProps)==null?void 0:p.field,f),tr(r),{ref:n})},toolbar:y({hidden:!0},(i=r.slotProps)==null?void 0:i.toolbar)})}),{renderPicker:l}=vs({props:o,valueManager:Ge,valueType:"date",validator:Lt});return l()});wr.propTypes={autoFocus:c.bool,calendars:c.oneOf([1,2,3]),className:c.string,closeOnSelect:c.bool,currentMonthCalendarPosition:c.oneOf([1,2,3]),dayOfWeekFormatter:c.func,defaultRangePosition:c.oneOf(["end","start"]),defaultValue:c.arrayOf(c.object),disableAutoMonthSwitching:c.bool,disabled:c.bool,disableDragEditing:c.bool,disableFuture:c.bool,disableHighlightToday:c.bool,disableOpenPicker:c.bool,disablePast:c.bool,displayWeekNumber:c.bool,enableAccessibleFieldDOMStructure:c.any,fixedWeekNumber:c.number,format:c.string,formatDensity:c.oneOf(["dense","spacious"]),inputRef:qn,label:c.node,loading:c.bool,localeText:c.object,maxDate:c.object,minDate:c.object,name:c.string,onAccept:c.func,onChange:c.func,onClose:c.func,onError:c.func,onMonthChange:c.func,onOpen:c.func,onRangePositionChange:c.func,onSelectedSectionsChange:c.func,open:c.bool,rangePosition:c.oneOf(["end","start"]),readOnly:c.bool,reduceAnimations:c.bool,referenceDate:c.object,renderLoading:c.func,selectedSections:c.oneOfType([c.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),c.number]),shouldDisableDate:c.func,showDaysOutsideCurrentMonth:c.bool,slotProps:c.object,slots:c.object,sx:c.oneOfType([c.arrayOf(c.oneOfType([c.func,c.object,c.bool])),c.func,c.object]),timezone:c.string,value:c.arrayOf(c.object),viewRenderers:c.shape({day:c.func})};const xs=["props"],Ds=Yt(),Cs=e=>{var _;let{props:t}=e,n=ge(e,xs);Kt("x-date-pickers-pro",Ds);const{slots:r,slotProps:a,className:o,sx:l,format:i,formatDensity:f,enableAccessibleFieldDOMStructure:p,selectedSections:h,onSelectedSectionsChange:v,timezone:m,label:b,inputRef:C,name:M,readOnly:P,disabled:k,disableOpenPicker:R,localeText:u}=t,d=g.useRef(null),w=g.useRef(null),x=r.field.fieldType??"multi-input",{rangePosition:S,onRangePositionChange:A}=Dn(t,x==="single-input"?d:void 0),O=Gn(),H=Bt(),{open:W,actions:G,layoutProps:B,renderCurrentView:z,fieldProps:U}=Zn(y({},n,{props:t,wrapperVariant:"mobile",autoFocusView:!0,fieldRef:S==="start"?d:w,additionalViewProps:{rangePosition:S,onRangePositionChange:A}})),$=r.field,V=$e({elementType:$,externalSlotProps:a==null?void 0:a.field,additionalProps:y({},U,{readOnly:P??!0,disabled:k,className:o,sx:l,format:i,formatDensity:f,enableAccessibleFieldDOMStructure:p,selectedSections:h,onSelectedSectionsChange:v,timezone:m},x==="single-input"?{inputRef:C,name:M}:{}),ownerState:t}),te=((_=a==null?void 0:a.toolbar)==null?void 0:_.hidden)??!1,N=Pr({wrapperVariant:"mobile",fieldType:x,open:W,actions:G,readOnly:P,labelId:O,disableOpenPicker:R,label:b,localeText:u,rangePosition:S,onRangePositionChange:A,pickerSlots:r,pickerSlotProps:a,fieldProps:V,startFieldRef:d,endFieldRef:w}),de=y({},a,{tabs:y({},a==null?void 0:a.tabs,{rangePosition:S,onRangePositionChange:A}),toolbar:y({},a==null?void 0:a.toolbar,{titleId:O,rangePosition:S,onRangePositionChange:A})}),Y=(r==null?void 0:r.layout)??er,pe=y({},H,u);let he=n.valueType==="date-time"?`${O}-start-toolbar ${O}-end-toolbar`:O;if(te){const T=[];x==="multi-input"?(pe.start&&T.push(`${O}-start-label`),pe.end&&T.push(`${O}-end-label`)):b!=null&&T.push(`${O}-label`),he=T.length>0?T.join(" "):void 0}const oe=y({},a,{mobilePaper:y({"aria-labelledby":he},a==null?void 0:a.mobilePaper)});return{renderPicker:()=>L.jsxs(fn,{localeText:u,children:[L.jsx($,y({},N)),L.jsx(wa,y({},G,{open:W,slots:r,slotProps:oe,children:L.jsx(Y,y({},B,oe==null?void 0:oe.layout,{slots:r,slotProps:de,children:z()}))}))]})}},kr=g.forwardRef(function(t,n){var i;const r=br(t,"MuiMobileDateRangePicker"),a=y({day:Dr},r.viewRenderers),o=y({},r,{viewRenderers:a,calendars:1,views:["day"],openTo:"day",slots:y({field:Cr},r.slots),slotProps:y({},r.slotProps,{field:f=>{var p;return y({},Xe((p=r.slotProps)==null?void 0:p.field,f),tr(r),{ref:n})},toolbar:y({hidden:!1},(i=r.slotProps)==null?void 0:i.toolbar)})}),{renderPicker:l}=Cs({props:o,valueManager:Ge,valueType:"date",validator:Lt});return l()});kr.propTypes={autoFocus:c.bool,className:c.string,closeOnSelect:c.bool,currentMonthCalendarPosition:c.oneOf([1,2,3]),dayOfWeekFormatter:c.func,defaultRangePosition:c.oneOf(["end","start"]),defaultValue:c.arrayOf(c.object),disableAutoMonthSwitching:c.bool,disabled:c.bool,disableDragEditing:c.bool,disableFuture:c.bool,disableHighlightToday:c.bool,disableOpenPicker:c.bool,disablePast:c.bool,displayWeekNumber:c.bool,enableAccessibleFieldDOMStructure:c.any,fixedWeekNumber:c.number,format:c.string,formatDensity:c.oneOf(["dense","spacious"]),inputRef:qn,label:c.node,loading:c.bool,localeText:c.object,maxDate:c.object,minDate:c.object,name:c.string,onAccept:c.func,onChange:c.func,onClose:c.func,onError:c.func,onMonthChange:c.func,onOpen:c.func,onRangePositionChange:c.func,onSelectedSectionsChange:c.func,open:c.bool,rangePosition:c.oneOf(["end","start"]),readOnly:c.bool,reduceAnimations:c.bool,referenceDate:c.object,renderLoading:c.func,selectedSections:c.oneOfType([c.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),c.number]),shouldDisableDate:c.func,showDaysOutsideCurrentMonth:c.bool,slotProps:c.object,slots:c.object,sx:c.oneOfType([c.arrayOf(c.oneOfType([c.func,c.object,c.bool])),c.func,c.object]),timezone:c.string,value:c.arrayOf(c.object),viewRenderers:c.shape({day:c.func})};const Ps=["desktopModeMediaQuery"],ws=g.forwardRef(function(t,n){const r=Ae({props:t,name:"MuiDateRangePicker"}),{desktopModeMediaQuery:a="@media (pointer: fine)"}=r,o=ge(r,Ps);return pn(a,{defaultMatches:!0})?L.jsx(wr,y({ref:n},o)):L.jsx(kr,y({ref:n},o))});Ma.extend(ka);const ks=Ft.memo(({auth:e,title:t,allData:n,jurisdictions:r,users:a,reports:o,reports_with_daily_works:l})=>{const i=Je(),[f,p]=g.useState([]),[h,v]=g.useState(!1),[m,b]=g.useState(0),[C,M]=g.useState(0),[P,k]=g.useState([]),[R,u]=g.useState(),[d,w]=g.useState(null),[x,S]=g.useState(null),[A,O]=g.useState(""),H=pn(i.breakpoints.down("md")),[W,G]=g.useState(30),[B,z]=g.useState(1),U=async(_,T,ee)=>{var ae,me;try{const ie=await Xn.get(route("dailyWorks.paginate"),{params:{page:_,perPage:T,search:A,status:ee.status!=="all"?ee.status:"",inCharge:ee.incharge!=="all"?ee.incharge:"",startDate:(ae=ee.startDate)==null?void 0:ae.format("YYYY-MM-DD"),endDate:(me=ee.endDate)==null?void 0:me.format("YYYY-MM-DD")}});p(ie.data.data),b(ie.data.total),M(ie.data.last_page),v(!1)}catch(ie){console.log(ie),Te.error("Failed to fetch data.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,color:i.palette.text.primary}}),v(!1)}},$=()=>{const _=new Promise(async(T,ee)=>{var ae,me;try{const ie=await fetch("/delete-daily-work",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:d,page:B,perPage:W,search:A,status:Y.status!=="all"?Y.status:"",inCharge:Y.incharge!=="all"?Y.incharge:"",startDate:(ae=Y.startDate)==null?void 0:ae.format("YYYY-MM-DD"),endDate:(me=Y.endDate)==null?void 0:me.format("YYYY-MM-DD")})}),E=await ie.json();ie.ok?(p(E.data),b(E.total),T("Daily work deleted successfully")):ee(E.error||"Failed to delete task")}catch(ie){console.error("Error deleting task:",ie),ee("An error occurred while deleting the task")}finally{te()}});Te.promise(_,{pending:{render(){return F("div",{style:{display:"flex",alignItems:"center"},children:[s(ht,{}),s("span",{style:{marginLeft:"8px"},children:"Deleting task..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,color:i.palette.text.primary}},success:{render({data:T}){return s(le,{children:T})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,color:i.palette.text.primary}},error:{render({data:T}){return s(le,{children:T})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,color:i.palette.text.primary}}})},V=g.useCallback((_,T)=>{w(_),S(T)},[]),te=g.useCallback(()=>{S(null),w(null)},[]),N=g.useCallback(_=>{S(_)},[]),de=g.useCallback(()=>{S(null)},[]),[Y,pe]=g.useState({startDate:null,endDate:null,status:"all",incharge:"all",report:""}),he=g.useCallback((_,T)=>{if(_==="dates"){const[ee,ae]=T;pe(me=>({...me,startDate:ee,endDate:ae}))}else pe(ee=>({...ee,[_]:T}))},[]),oe=_=>{const T=_.target.value.toLowerCase();O(T)};g.useEffect(()=>{v(!0),U(B,W,Y)},[B,W,Y,A]);const Re=_=>{z(_)};return F(le,{children:[s(jr,{title:t}),x==="editDailyWork"&&s(io,{open:x==="editDailyWork",currentRow:R,setData:p,closeModal:de}),x==="deleteDailyWork"&&s(so,{open:x==="deleteDailyWork",handleClose:te,handleDelete:$,setData:p}),x==="importDailyWorks"&&s(ri,{open:x==="importDailyWorks",closeModal:de,setData:p,setTotalRows:b}),x==="exportDailyWorks"&&s(lo,{open:x==="exportDailyWorks",closeModal:de,data:f,users:a}),s(ce,{sx:{display:"flex",justifyContent:"center",p:2},children:s(Xr,{in:!0,children:F(Lr,{children:[s(Gr,{title:t,sx:{padding:"24px"},action:F(ce,{display:"flex",gap:2,children:[e.permissions.includes("addTask")&&s(ke,{title:"Add Task",color:"primary",id:"showAddModalBtn",children:s(Ra,{})}),e.roles.includes("Administrator")&&s(le,{children:H?F(le,{children:[s(ke,{title:"Import Daily Works",color:"warning",onClick:()=>N("importDailyWorks"),children:s(an,{})}),s(ke,{title:"Export Daily Works",color:"success",onClick:()=>N("exportDailyWorks"),children:s(rn,{})})]}):F(le,{children:[s(ut,{title:"Import Daily Works",variant:"outlined",color:"warning",startIcon:s(an,{}),onClick:()=>N("importDailyWorks"),children:"Import"}),s(ut,{title:"Export Daily Works",variant:"outlined",color:"success",startIcon:s(rn,{}),onClick:()=>N("exportDailyWorks"),children:"Export"})]})})]})}),s(wn,{children:s(ce,{children:F(ue,{container:!0,spacing:2,children:[s(ue,{item:!0,xs:12,sm:6,md:3,children:s(fn,{dateAdapter:Sa,children:s(ce,{display:"flex",alignItems:"center",children:s(ws,{value:[Y.startDate,Y.endDate],onChange:_=>he("dates",_),localeText:{start:"Start date",end:"End date"},renderInput:(_,T)=>F(le,{children:[s(ye,{..._,fullWidth:!0,size:"small"}),s(ce,{sx:{mx:1},children:" to "}),s(ye,{...T,fullWidth:!0,size:"small"})]})})})})}),s(ue,{item:!0,xs:6,sm:4,md:3,children:F(kt,{fullWidth:!0,children:[s(Rt,{id:"status-label",children:"Status"}),F(ze,{variant:"outlined",labelId:"status-label",label:"Status",name:"status",value:Y.status,onChange:_=>he("status",_.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[s(J,{value:"all",children:"All"}),s(J,{value:"completed",children:"Completed"}),s(J,{value:"new",children:"New"}),s(J,{value:"resubmission",children:"Resubmission"}),s(J,{value:"emergency",children:"Emergency"})]})]})}),e.roles.includes("Administrator")&&s(ue,{item:!0,xs:6,sm:4,md:3,children:F(kt,{fullWidth:!0,children:[s(Rt,{id:"incharge-label",children:"Incharge"}),F(ze,{variant:"outlined",labelId:"incharge-label",label:"Incharge",name:"incharge",value:Y.incharge,onChange:_=>he("incharge",_.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[s(J,{value:"all",children:"All"}),n.allInCharges.map(_=>s(J,{value:_.id,children:_.name},_.id))]})]})}),s(ue,{item:!0,xs:6,sm:4,md:3,children:F(kt,{fullWidth:!0,children:[s(Rt,{id:"report-label",children:"Report"}),s(ze,{variant:"outlined",labelId:"report-label",label:"Report",name:"report",value:Y.report,onChange:_=>he("report",_.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:s(J,{value:"",disabled:!0,children:"Select Report"})})]})})]})})}),F(wn,{children:[s(ye,{label:"Search",fullWidth:!0,variant:"outlined",placeholder:"Search...",value:A,onChange:oe,InputProps:{startAdornment:s(qr,{position:"start",children:s(Ta,{})})}}),s(oo,{setData:p,filteredData:P,setFilteredData:k,reports:o,setCurrentRow:u,currentPage:B,setCurrentPage:z,setLoading:v,handleClickOpen:V,openModal:N,juniors:n.juniors,totalRows:m,lastPage:C,loading:h,allData:f,allInCharges:n.allInCharges,jurisdictions:r,users:a,reports_with_daily_works:l}),m>=30&&s("div",{className:"py-2 px-2 flex justify-center items-center",children:s(Ea,{initialPage:1,isCompact:!0,showControls:!0,showShadow:!0,color:"primary",variant:"bordered",page:B,total:C,onChange:Re})})]})]})})})]})});ks.layout=e=>s(Zr,{children:e});export{ks as default};
