import{r as a}from"./app-MpRbYhkS.js";function h(o,e){const t=a.useRef(!0),s=a.useRef(null);a.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),a.useEffect(()=>{let r=s.current;t.current?t.current=!1:(!r||e.some((l,n)=>!Object.is(l,r[n])))&&o(),s.current=e},e)}const d=7e3;let i=null;function f(o,e="assertive",t=d){i?i.announce(o,e,t):(i=new u,(typeof IS_REACT_ACT_ENVIRONMENT=="boolean"?IS_REACT_ACT_ENVIRONMENT:typeof jest<"u")?i.announce(o,e,t):setTimeout(()=>{i!=null&&i.isAttached()&&(i==null||i.announce(o,e,t))},100))}function p(o){i&&i.clear(o)}class u{isAttached(){var e;return(e=this.node)===null||e===void 0?void 0:e.isConnected}createLog(e){let t=document.createElement("div");return t.setAttribute("role","log"),t.setAttribute("aria-live",e),t.setAttribute("aria-relevant","additions"),t}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(e,t="assertive",s=d){var r,l;if(!this.node)return;let n=document.createElement("div");typeof e=="object"?(n.setAttribute("role","img"),n.setAttribute("aria-labelledby",e["aria-labelledby"])):n.textContent=e,t==="assertive"?(r=this.assertiveLog)===null||r===void 0||r.appendChild(n):(l=this.politeLog)===null||l===void 0||l.appendChild(n),e!==""&&setTimeout(()=>{n.remove()},s)}clear(e){this.node&&((!e||e==="assertive")&&this.assertiveLog&&(this.assertiveLog.innerHTML=""),(!e||e==="polite")&&this.politeLog&&(this.politeLog.innerHTML=""))}constructor(){this.node=null,this.assertiveLog=null,this.politeLog=null,typeof document<"u"&&(this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node))}}export{h as $,f as a,p as b};
