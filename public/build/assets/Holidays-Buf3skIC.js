import{r as p,a as n,j as c,h as Q,F as $,g as Be,f as je,b as _e,J as Ve,Q as Ge}from"./app-DDhVNfvV.js";import{u as te,F as Qe,G as $e}from"./GlassCard-B8deHOrc.js";import{P as Xe}from"./PageHeader-qfMvUU9K.js";import{S as ze}from"./StatsCards-CaEaffu4.js";import{u as me,n as Je,o as Ue,p as se,q as Ke,F as ce,d as Ze,h as et,I as tt,i as O,j as rt,C as at,z as he,D as fe,B as K,G as nt,e as it,c as ot,A as st}from"./App-CULBC9Jb.js";import{F as de}from"./ClockIcon-UBQM4q2z.js";import{F as j}from"./CheckCircleIcon-BkPxWqsz.js";import{F as lt}from"./EllipsisVerticalIcon-0SYcdA89.js";import{F as ct}from"./EyeIcon-B-1DdV8E.js";import{F as dt}from"./PencilIcon-BtapQh-d.js";import{F as ut}from"./TrashIcon-rGR8b_v2.js";import{T as P,B as _}from"./logo-DoLGM3I0.js";import{c as L}from"./chunk-J7I6W5JF-Dj4B-Czi.js";import{i as mt}from"./chunk-6MDMHKHV-DNEscIMF.js";import{b as ht}from"./chunk-57V4RE7B-SGFU28YJ.js";import{s as J,l as E}from"./chunk-2GIFKCNQ-B1Kwyu4F.js";import{p as ft}from"./chunk-O5I3QTYU-BlPqa12Y.js";import{a as gt,b as bt,c as yt,d as pt,e as wt,t as xt}from"./chunk-F3UDT23P-Bon0qFEG.js";import{C as vt}from"./Clear-Brrz3geX.js";import{G as Se}from"./GlassDialog-BbPdd5-L.js";import{D as Fe}from"./DialogTitle-DVsFppiK.js";import{T as U,I as Dt}from"./TextField-DHyBbceL.js";import{S as kt,M as Ct}from"./Select-G4UAMmZq.js";import{F as Mt}from"./InformationCircleIcon-D0VUrEF1.js";import{F as ge}from"./CheckIcon-ZJwAGxKl.js";import{D as Ne,a as Oe}from"./DialogContent-DzqEob6e.js";import{L as Pt}from"./LoadingButton-CPf4VyNc.js";import{D as _t}from"./DialogContentText-QrzXS9vF.js";import{B as be}from"./Button-PH-Yt16S.js";import{C as St}from"./CircularProgress-ukpRde3Q.js";import{F as Ft}from"./ChartBarIcon-CzsPYg0y.js";import{c as ye}from"./DocumentTextIcon-QwzC9WoH.js";import"./app-CYwLuuRk.js";import"./create-visual-element-DIA5r6xh.js";import"./chunk-D5XJWRAV-BEd1Mod5.js";import"./EnvelopeIcon-jGHS91X9.js";import"./UserGroupIcon-CFQYzcyB.js";import"./UserIcon-BZDmR83e.js";import"./CreditCardIcon-nnu7lg95.js";import"./ShieldCheckIcon-B8pnYfIx.js";import"./QuestionMarkCircleIcon-ClI4UiU9.js";import"./BuildingOfficeIcon-BXNAJj1w.js";import"./KeyIcon-CAZJdP6I.js";import"./ExclamationTriangleIcon-3tpAB86s.js";import"./StarIcon-CB497gpk.js";import"./GlobeAltIcon-BeSAdHAC.js";import"./LockClosedIcon-CNT0kaEE.js";import"./chunk-LGMZDQT5-CF5HrKbt.js";import"./number-DfkVkf0F.js";import"./index-I7bPq2YP.js";import"./chunk-A6PX3NG3-DZLS-1Gt.js";import"./useLabels-Blg_QI1U.js";import"./XMarkIcon-CRGrHH6E.js";import"./useFormReset-Dv_1w4_q.js";import"./chunk-M3MASYO7-DaLySJZS.js";import"./useLabel-C1JBDqVQ.js";import"./useListState-D8r1zUCw.js";import"./chunk-7F3ZLNJ6-CHfbZssJ.js";import"./index-CokAva9Y.js";import"./chunk-MZRCPRP2-4Sm2aTj8.js";import"./useHasTabbableChild-BMncZCCk.js";import"./Dialog-B0tTkTVF.js";import"./Popover-DGnHN2Gx.js";const We=6048e5,Nt=864e5,pe=Symbol.for("constructDateFrom");function I(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&pe in t?t[pe](e):t instanceof Date?new t.constructor(e):new Date(e)}function F(t,e){return I(e||t,t)}let Ot={};function re(){return Ot}function X(t,e){var d,u,h,g;const r=re(),a=(e==null?void 0:e.weekStartsOn)??((u=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((g=(h=r.locale)==null?void 0:h.options)==null?void 0:g.weekStartsOn)??0,i=F(t,e==null?void 0:e.in),l=i.getDay(),o=(l<a?7:0)+l-a;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Z(t,e){return X(t,{...e,weekStartsOn:1})}function Te(t,e){const r=F(t,e==null?void 0:e.in),a=r.getFullYear(),i=I(r,0);i.setFullYear(a+1,0,4),i.setHours(0,0,0,0);const l=Z(i),o=I(r,0);o.setFullYear(a,0,4),o.setHours(0,0,0,0);const d=Z(o);return r.getTime()>=l.getTime()?a+1:r.getTime()>=d.getTime()?a:a-1}function we(t){const e=F(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Ye(t,...e){const r=I.bind(null,e.find(a=>typeof a=="object"));return e.map(r)}function xe(t,e){const r=F(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function He(t,e,r){const[a,i]=Ye(r==null?void 0:r.in,t,e),l=xe(a),o=xe(i),d=+l-we(l),u=+o-we(o);return Math.round((d-u)/Nt)}function Wt(t,e){const r=Te(t,e),a=I(t,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),Z(a)}function Tt(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Yt(t){return!(!Tt(t)&&typeof t!="number"||isNaN(+F(t)))}function ue(t,e,r){const[a,i]=Ye(r==null?void 0:r.in,t,e),l=ve(a,i),o=Math.abs(He(a,i));a.setDate(a.getDate()-l*o);const d=+(ve(a,i)===-l),u=l*(o-d);return u===0?0:u}function ve(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function Ht(t,e){const r=F(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Et={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},At=(t,e,r)=>{let a;const i=Et[t];return typeof i=="string"?a=i:e===1?a=i.one:a=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function le(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Rt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},It={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},qt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Lt={date:le({formats:Rt,defaultWidth:"full"}),time:le({formats:It,defaultWidth:"full"}),dateTime:le({formats:qt,defaultWidth:"full"})},Bt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jt=(t,e,r,a)=>Bt[t];function V(t){return(e,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let i;if(a==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,d=r!=null&&r.width?String(r.width):o;i=t.formattingValues[d]||t.formattingValues[o]}else{const o=t.defaultWidth,d=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[d]||t.values[o]}const l=t.argumentCallback?t.argumentCallback(e):e;return i[l]}}const Vt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Gt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Qt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$t={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Xt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Jt=(t,e)=>{const r=Number(t),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Ut={ordinalNumber:Jt,era:V({values:Vt,defaultWidth:"wide"}),quarter:V({values:Gt,defaultWidth:"wide",argumentCallback:t=>t-1}),month:V({values:Qt,defaultWidth:"wide"}),day:V({values:$t,defaultWidth:"wide"}),dayPeriod:V({values:Xt,defaultWidth:"wide",formattingValues:zt,defaultFormattingWidth:"wide"})};function G(t){return(e,r={})=>{const a=r.width,i=a&&t.matchPatterns[a]||t.matchPatterns[t.defaultMatchWidth],l=e.match(i);if(!l)return null;const o=l[0],d=a&&t.parsePatterns[a]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(d)?Zt(d,f=>f.test(o)):Kt(d,f=>f.test(o));let h;h=t.valueCallback?t.valueCallback(u):u,h=r.valueCallback?r.valueCallback(h):h;const g=e.slice(o.length);return{value:h,rest:g}}}function Kt(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Zt(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function er(t){return(e,r={})=>{const a=e.match(t.matchPattern);if(!a)return null;const i=a[0],l=e.match(t.parsePattern);if(!l)return null;let o=t.valueCallback?t.valueCallback(l[0]):l[0];o=r.valueCallback?r.valueCallback(o):o;const d=e.slice(i.length);return{value:o,rest:d}}}const tr=/^(\d+)(th|st|nd|rd)?/i,rr=/\d+/i,ar={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nr={any:[/^b/i,/^(a|c)/i]},ir={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},or={any:[/1/i,/2/i,/3/i,/4/i]},sr={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},lr={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cr={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},dr={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ur={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mr={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hr={ordinalNumber:er({matchPattern:tr,parsePattern:rr,valueCallback:t=>parseInt(t,10)}),era:G({matchPatterns:ar,defaultMatchWidth:"wide",parsePatterns:nr,defaultParseWidth:"any"}),quarter:G({matchPatterns:ir,defaultMatchWidth:"wide",parsePatterns:or,defaultParseWidth:"any",valueCallback:t=>t+1}),month:G({matchPatterns:sr,defaultMatchWidth:"wide",parsePatterns:lr,defaultParseWidth:"any"}),day:G({matchPatterns:cr,defaultMatchWidth:"wide",parsePatterns:dr,defaultParseWidth:"any"}),dayPeriod:G({matchPatterns:ur,defaultMatchWidth:"any",parsePatterns:mr,defaultParseWidth:"any"})},fr={code:"en-US",formatDistance:At,formatLong:Lt,formatRelative:jt,localize:Ut,match:hr,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gr(t,e){const r=F(t,e==null?void 0:e.in);return He(r,Ht(r))+1}function br(t,e){const r=F(t,e==null?void 0:e.in),a=+Z(r)-+Wt(r);return Math.round(a/We)+1}function Ee(t,e){var g,f,S,v;const r=F(t,e==null?void 0:e.in),a=r.getFullYear(),i=re(),l=(e==null?void 0:e.firstWeekContainsDate)??((f=(g=e==null?void 0:e.locale)==null?void 0:g.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((v=(S=i.locale)==null?void 0:S.options)==null?void 0:v.firstWeekContainsDate)??1,o=I((e==null?void 0:e.in)||t,0);o.setFullYear(a+1,0,l),o.setHours(0,0,0,0);const d=X(o,e),u=I((e==null?void 0:e.in)||t,0);u.setFullYear(a,0,l),u.setHours(0,0,0,0);const h=X(u,e);return+r>=+d?a+1:+r>=+h?a:a-1}function yr(t,e){var d,u,h,g;const r=re(),a=(e==null?void 0:e.firstWeekContainsDate)??((u=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(h=r.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,i=Ee(t,e),l=I((e==null?void 0:e.in)||t,0);return l.setFullYear(i,0,a),l.setHours(0,0,0,0),X(l,e)}function pr(t,e){const r=F(t,e==null?void 0:e.in),a=+X(r,e)-+yr(r,e);return Math.round(a/We)+1}function w(t,e){const r=t<0?"-":"",a=Math.abs(t).toString().padStart(e,"0");return r+a}const R={y(t,e){const r=t.getFullYear(),a=r>0?r:1-r;return w(e==="yy"?a%100:a,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):w(r+1,2)},d(t,e){return w(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return w(t.getHours()%12||12,e.length)},H(t,e){return w(t.getHours(),e.length)},m(t,e){return w(t.getMinutes(),e.length)},s(t,e){return w(t.getSeconds(),e.length)},S(t,e){const r=e.length,a=t.getMilliseconds(),i=Math.trunc(a*Math.pow(10,r-3));return w(i,e.length)}},B={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},De={G:function(t,e,r){const a=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const a=t.getFullYear(),i=a>0?a:1-a;return r.ordinalNumber(i,{unit:"year"})}return R.y(t,e)},Y:function(t,e,r,a){const i=Ee(t,a),l=i>0?i:1-i;if(e==="YY"){const o=l%100;return w(o,2)}return e==="Yo"?r.ordinalNumber(l,{unit:"year"}):w(l,e.length)},R:function(t,e){const r=Te(t);return w(r,e.length)},u:function(t,e){const r=t.getFullYear();return w(r,e.length)},Q:function(t,e,r){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return w(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,e,r){const a=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return w(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,e,r){const a=t.getMonth();switch(e){case"M":case"MM":return R.M(t,e);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(t,e,r){const a=t.getMonth();switch(e){case"L":return String(a+1);case"LL":return w(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(t,e,r,a){const i=pr(t,a);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):w(i,e.length)},I:function(t,e,r){const a=br(t);return e==="Io"?r.ordinalNumber(a,{unit:"week"}):w(a,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):R.d(t,e)},D:function(t,e,r){const a=gr(t);return e==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):w(a,e.length)},E:function(t,e,r){const a=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(t,e,r,a){const i=t.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return w(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,a){const i=t.getDay(),l=(i-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return w(l,e.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const a=t.getDay(),i=a===0?7:a;switch(e){case"i":return String(i);case"ii":return w(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const a=t.getHours();let i;switch(a===12?i=B.noon:a===0?i=B.midnight:i=a/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const a=t.getHours();let i;switch(a>=17?i=B.evening:a>=12?i=B.afternoon:a>=4?i=B.morning:i=B.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let a=t.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return R.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):R.H(t,e)},K:function(t,e,r){const a=t.getHours()%12;return e==="Ko"?r.ordinalNumber(a,{unit:"hour"}):w(a,e.length)},k:function(t,e,r){let a=t.getHours();return a===0&&(a=24),e==="ko"?r.ordinalNumber(a,{unit:"hour"}):w(a,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):R.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):R.s(t,e)},S:function(t,e){return R.S(t,e)},X:function(t,e,r){const a=t.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return Ce(a);case"XXXX":case"XX":return q(a);case"XXXXX":case"XXX":default:return q(a,":")}},x:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"x":return Ce(a);case"xxxx":case"xx":return q(a);case"xxxxx":case"xxx":default:return q(a,":")}},O:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+ke(a,":");case"OOOO":default:return"GMT"+q(a,":")}},z:function(t,e,r){const a=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+ke(a,":");case"zzzz":default:return"GMT"+q(a,":")}},t:function(t,e,r){const a=Math.trunc(+t/1e3);return w(a,e.length)},T:function(t,e,r){return w(+t,e.length)}};function ke(t,e=""){const r=t>0?"-":"+",a=Math.abs(t),i=Math.trunc(a/60),l=a%60;return l===0?r+String(i):r+String(i)+e+w(l,2)}function Ce(t,e){return t%60===0?(t>0?"-":"+")+w(Math.abs(t)/60,2):q(t,e)}function q(t,e=""){const r=t>0?"-":"+",a=Math.abs(t),i=w(Math.trunc(a/60),2),l=w(a%60,2);return r+i+e+l}const Me=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Ae=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},wr=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],a=r[1],i=r[2];if(!i)return Me(t,e);let l;switch(a){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",Me(a,e)).replace("{{time}}",Ae(i,e))},xr={p:Ae,P:wr},vr=/^D+$/,Dr=/^Y+$/,kr=["D","DD","YY","YYYY"];function Cr(t){return vr.test(t)}function Mr(t){return Dr.test(t)}function Pr(t,e,r){const a=_r(t,e,r);if(console.warn(a),kr.includes(t))throw new RangeError(a)}function _r(t,e,r){const a=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Sr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Fr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Nr=/^'([^]*?)'?$/,Or=/''/g,Wr=/[a-zA-Z]/;function ee(t,e,r){var g,f,S,v;const a=re(),i=a.locale??fr,l=a.firstWeekContainsDate??((f=(g=a.locale)==null?void 0:g.options)==null?void 0:f.firstWeekContainsDate)??1,o=a.weekStartsOn??((v=(S=a.locale)==null?void 0:S.options)==null?void 0:v.weekStartsOn)??0,d=F(t,r==null?void 0:r.in);if(!Yt(d))throw new RangeError("Invalid time value");let u=e.match(Fr).map(x=>{const D=x[0];if(D==="p"||D==="P"){const N=xr[D];return N(x,i.formatLong)}return x}).join("").match(Sr).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const D=x[0];if(D==="'")return{isToken:!1,value:Tr(x)};if(De[D])return{isToken:!0,value:x};if(D.match(Wr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+D+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(u=i.localize.preprocessor(d,u));const h={firstWeekContainsDate:l,weekStartsOn:o,locale:i};return u.map(x=>{if(!x.isToken)return x.value;const D=x.value;(Mr(D)||Cr(D))&&Pr(D,e,String(t));const N=De[D[0]];return N(d,D,i.localize,h)}).join("")}function Tr(t){const e=t.match(Nr);return e?e[1].replace(Or,"'"):t}function Yr(t,e){return+F(t)>+F(e)}function Hr(t,e){return+F(t)<+F(e)}const Er=({holidaysData:t,onEdit:e,onDelete:r,onFilteredDataChange:a,isLoading:i=!1})=>{const l=te(),o=me(l.breakpoints.down("sm")),[d,u]=p.useState(""),[h,g]=p.useState([]),[f,S]=p.useState([]),[v,x]=p.useState([new Date().getFullYear().toString()]),[D,N]=p.useState(1),[m,W]=p.useState(10),[y,T]=p.useState(!1),M={public:{label:"Public",color:"danger",icon:"ðŸ›ï¸"},religious:{label:"Religious",color:"secondary",icon:"ðŸ•Œ"},national:{label:"National",color:"primary",icon:"ðŸ‡§ðŸ‡©"},company:{label:"Company",color:"warning",icon:"ðŸ¢"},optional:{label:"Optional",color:"default",icon:"ðŸ“…"}},Y=p.useCallback(s=>{const b=new Date,k=new Date(s.from_date),A=new Date(s.to_date);return Hr(b,k)?{status:"upcoming",label:"Upcoming",color:"primary",icon:de}:Yr(b,A)?{status:"past",label:"Past",color:"default",icon:j}:{status:"ongoing",label:"Ongoing",color:"success",icon:j}},[]),C=p.useMemo(()=>{let s=t;return d&&(s=s.filter(b=>{var k,A;return((k=b.title)==null?void 0:k.toLowerCase().includes(d.toLowerCase()))||((A=b.description)==null?void 0:A.toLowerCase().includes(d.toLowerCase()))})),Array.isArray(h)&&h.length>0&&(s=s.filter(b=>h.includes(b.type))),Array.isArray(f)&&f.length>0&&(s=s.filter(b=>{const k=Y(b);return f.includes(k.status)})),Array.isArray(v)&&v.length>0&&(s=s.filter(b=>{const k=new Date(b.from_date).getFullYear().toString();return v.includes(k)})),s},[t,d,h,f,v,Y]);p.useEffect(()=>{a&&a(C)},[C,a]);const H=Math.ceil(C.length/m),ae=p.useMemo(()=>{const s=(D-1)*m,b=s+m;return C.slice(s,b)},[D,C,m]),ne=[{name:"Holiday",uid:"title",sortable:!0},{name:"Duration",uid:"duration",sortable:!0},{name:"Type",uid:"type",sortable:!0},{name:"Status",uid:"status",sortable:!0},{name:"Actions",uid:"actions"}],Re=p.useCallback((s,b)=>{const k=s[b];switch(b){case"title":const A=ue(new Date(s.to_date),new Date(s.from_date))+1;return c("div",{className:"flex flex-col",children:[n("p",{className:"text-bold text-sm capitalize text-foreground",children:s.title}),c("div",{className:"flex items-center gap-2 text-tiny text-default-400",children:[n(ce,{className:"w-3 h-3"}),c("span",{children:[ee(new Date(s.from_date),"MMM dd, yyyy"),A>1&&c($,{children:[" - ",ee(new Date(s.to_date),"MMM dd, yyyy")]})]})]}),s.description&&n("p",{className:"text-tiny text-default-500 mt-1 line-clamp-2",children:s.description})]});case"duration":const z=ue(new Date(s.to_date),new Date(s.from_date))+1;return n("div",{className:"flex flex-col items-center",children:c("span",{className:"text-bold text-sm text-foreground",children:[z," ",z===1?"day":"days"]})});case"type":const ie=M[s.type]||M.company;return n(L,{className:"capitalize",color:ie.color,size:"sm",variant:"flat",startContent:n("span",{className:"text-xs",children:ie.icon}),children:ie.label});case"status":const oe=Y(s),Le=oe.icon;return n(L,{className:"capitalize",color:oe.color,size:"sm",variant:"flat",startContent:n(Le,{className:"w-3 h-3"}),children:oe.label});case"actions":return n("div",{className:"relative flex justify-end items-center gap-2",children:c(Ke,{children:[n(Je,{children:n(Q,{isIconOnly:!0,size:"sm",variant:"light",children:n(lt,{className:"w-4 h-4"})})}),c(Ue,{children:[n(se,{startContent:n(ct,{className:"w-4 h-4"}),children:"View Details"},"view"),n(se,{startContent:n(dt,{className:"w-4 h-4"}),onPress:()=>e(s),children:"Edit Holiday"},"edit"),n(se,{className:"text-danger",color:"danger",startContent:n(ut,{className:"w-4 h-4"}),onPress:()=>r(s.id),children:"Delete Holiday"},"delete")]})]})});default:return k}},[Y,e,r]),Ie=p.useMemo(()=>c("div",{className:"flex flex-col gap-4",children:[c("div",{className:"flex flex-col sm:flex-row gap-4",children:[n("div",{className:"flex-1",children:n(mt,{isClearable:!0,label:"Search Holidays",variant:"bordered",placeholder:"Search by title or description...",startContent:n(Ze,{className:"w-4 h-4"}),value:d,onClear:()=>u(""),onValueChange:u,classNames:{input:"bg-transparent",inputWrapper:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15"},size:o?"sm":"md"})}),n("div",{className:"flex gap-2 items-end",children:n(ht,{variant:"bordered",className:"bg-white/5",children:c(Q,{isIconOnly:o,color:y?"primary":"default",onPress:()=>T(!y),className:y?"bg-purple-500/20":"bg-white/5",children:[n(et,{className:"w-4 h-4"}),!o&&n("span",{className:"ml-1",children:"Filters"})]})})})]}),y&&n(Qe,{in:!0,timeout:300,children:c("div",{className:"p-4 bg-white/5 backdrop-blur-md rounded-lg border border-white/10",children:[c("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[n(J,{label:"Holiday Type",selectionMode:"multiple",variant:"bordered",selectedKeys:new Set(h),onSelectionChange:s=>g(Array.from(s)),classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15",popoverContent:"bg-white/10 backdrop-blur-lg border-white/20"},children:Object.entries(M).map(([s,b])=>n(E,{value:s,textValue:b.label,children:c("div",{className:"flex items-center gap-2",children:[n("span",{children:b.icon}),n("span",{children:b.label})]})},s))}),c(J,{label:"Holiday Status",selectionMode:"multiple",variant:"bordered",selectedKeys:new Set(f),onSelectionChange:s=>S(Array.from(s)),classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15",popoverContent:"bg-white/10 backdrop-blur-lg border-white/20"},children:[n(E,{value:"upcoming",textValue:"Upcoming",children:c("div",{className:"flex items-center gap-2",children:[n(de,{className:"w-3 h-3"}),n("span",{children:"Upcoming"})]})},"upcoming"),n(E,{value:"ongoing",textValue:"Ongoing",children:c("div",{className:"flex items-center gap-2",children:[n(j,{className:"w-3 h-3"}),n("span",{children:"Ongoing"})]})},"ongoing"),n(E,{value:"past",textValue:"Past",children:c("div",{className:"flex items-center gap-2",children:[n(j,{className:"w-3 h-3"}),n("span",{children:"Past"})]})},"past")]}),n(J,{label:"Year",selectionMode:"multiple",variant:"bordered",selectedKeys:new Set(v),onSelectionChange:s=>x(Array.from(s)),classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15",popoverContent:"bg-white/10 backdrop-blur-lg border-white/20"},children:Array.from({length:new Date().getFullYear()-2019+3},(s,b)=>{const k=(2020+b).toString();return n(E,{value:k,textValue:k,children:c("div",{className:"flex items-center gap-2",children:[n("span",{children:"ðŸ“…"}),n("span",{children:k})]})},k)})})]}),n("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:c(J,{label:"Rows per page",variant:"bordered",selectedKeys:new Set([m.toString()]),onSelectionChange:s=>W(Number(Array.from(s)[0])),classNames:{trigger:"bg-white/10 backdrop-blur-md border-white/20 hover:bg-white/15",popoverContent:"bg-white/10 backdrop-blur-lg border-white/20"},children:[n(E,{value:"5",textValue:"5",children:"5"},"5"),n(E,{value:"10",textValue:"10",children:"10"},"10"),n(E,{value:"15",textValue:"15",children:"15"},"15"),n(E,{value:"25",textValue:"25",children:"25"},"25")]})}),(d||Array.isArray(h)&&h.length>0||Array.isArray(f)&&f.length>0||Array.isArray(v)&&v.length>0)&&n("div",{className:"mt-4 pt-4 border-t border-white/10",children:c("div",{className:"flex flex-wrap gap-2",children:[d&&c(L,{size:"sm",variant:"flat",color:"primary",onClose:()=>u(""),children:["Search: ",d]}),Array.isArray(h)&&h.map(s=>{var b,k;return c(L,{size:"sm",variant:"flat",color:"secondary",onClose:()=>g(A=>A.filter(z=>z!==s)),children:[(b=M[s])==null?void 0:b.icon," ",(k=M[s])==null?void 0:k.label]},s)}),Array.isArray(f)&&f.map(s=>c(L,{size:"sm",variant:"flat",color:"warning",onClose:()=>S(b=>b.filter(k=>k!==s)),children:[s==="upcoming"&&"ðŸ•",s==="ongoing"&&"âœ…",s==="past"&&"ðŸ“‹",s.charAt(0).toUpperCase()+s.slice(1)]},s)),Array.isArray(v)&&v.map(s=>c(L,{size:"sm",variant:"flat",color:"secondary",onClose:()=>x(b=>b.filter(k=>k!==s)),children:["ðŸ“… ",s]},s))]})})]})}),n("div",{className:"flex justify-between items-center",children:c("span",{className:"text-default-400 text-small",children:["Total ",C.length," holidays",Array.isArray(h)&&h.length>0||Array.isArray(f)&&f.length>0||d?` (filtered from ${t.length})`:""]})})]}),[d,h,f,C.length,t.length,m,y,o]),qe=p.useMemo(()=>c("div",{className:"py-2 px-2 flex justify-between items-center",children:[n("span",{className:"w-[30%] text-small text-default-400",children:`${(D-1)*m+1}-${Math.min(D*m,C.length)} of ${C.length}`}),n(ft,{isCompact:!0,showControls:!0,showShadow:!0,color:"primary",page:D,total:H,onChange:N}),c("div",{className:"hidden sm:flex w-[30%] justify-end gap-2",children:[n(Q,{isDisabled:H===1,size:"sm",variant:"flat",onPress:()=>N(1),children:"First"}),n(Q,{isDisabled:H===1,size:"sm",variant:"flat",onPress:()=>N(H),children:"Last"})]})]}),[D,H,C.length,m]);return t.length===0?n(je,{className:"bg-white/5 backdrop-blur-md border-white/10",children:c(Be,{className:"text-center py-12",children:[n(ce,{className:"w-16 h-16 mx-auto mb-4 text-default-300"}),n(P,{variant:"h6",className:"mb-2",children:"No Holidays Found"}),n(P,{variant:"body2",color:"textSecondary",children:"No company holidays have been configured yet."})]})}):n("div",{className:"space-y-4",children:c(xt,{"aria-label":"Holiday management table",isHeaderSticky:!0,bottomContent:qe,bottomContentPlacement:"outside",classNames:{wrapper:"max-h-[382px] bg-white/5 backdrop-blur-md border-white/10"},selectedKeys:[],selectionMode:"none",sortDescriptor:{},topContent:Ie,topContentPlacement:"outside",children:[n(gt,{columns:ne,children:s=>n(bt,{align:s.uid==="actions"?"center":"start",allowsSorting:s.sortable,children:s.name},s.uid)}),n(yt,{emptyContent:"No holidays found",items:ae,isLoading:i,loadingContent:n("div",{children:"Loading holidays..."}),children:s=>n(pt,{children:b=>n(wt,{children:Re(s,b)})},s.id)})]})})},Pe=({open:t,closeModal:e,holidaysData:r,setHolidaysData:a,currentHoliday:i})=>{const l=te();me(l.breakpoints.down("sm"));const[o,d]=p.useState({title:"",description:"",from_date:"",to_date:"",type:"company",is_recurring:!1,is_active:!0}),[u,h]=p.useState({}),[g,f]=p.useState(!1),S=[{key:"public",label:"Public Holiday",icon:"ðŸ›ï¸",description:"Government declared public holiday"},{key:"religious",label:"Religious Holiday",icon:"ðŸ•Œ",description:"Religious observance"},{key:"national",label:"National Holiday",icon:"ðŸ‡§ðŸ‡©",description:"National celebration or commemoration"},{key:"company",label:"Company Holiday",icon:"ðŸ¢",description:"Company-specific holiday"},{key:"optional",label:"Optional Holiday",icon:"ðŸ“…",description:"Optional observance"}];p.useEffect(()=>{d(i?{title:i.title||"",description:i.description||"",from_date:i.from_date||"",to_date:i.to_date||"",type:i.type||"company",is_recurring:i.is_recurring||!1,is_active:i.is_active!==void 0?i.is_active:!0}:{title:"",description:"",from_date:"",to_date:"",type:"company",is_recurring:!1,is_active:!0}),h({})},[i,t]);const v=p.useMemo(()=>{if(o.from_date&&o.to_date){const m=new Date(o.from_date),W=new Date(o.to_date);return ue(W,m)+1}return 1},[o.from_date,o.to_date]),x=(m,W)=>{d(y=>({...y,[m]:W})),u[m]&&h(y=>({...y,[m]:void 0})),m==="from_date"&&!o.to_date&&d(y=>({...y,to_date:W}))},D=async m=>{var W,y,T;m.preventDefault(),f(!0),h({});try{const M={title:o.title,description:o.description,fromDate:o.from_date,toDate:o.to_date,type:o.type,is_recurring:o.is_recurring,is_active:o.is_active};i&&(M.id=i.id);const Y=await _e.post(route("holidays-add"),M);Y.status===200&&(a(Y.data.holidays),K.success(Y.data.message||"Holiday saved successfully!"),e())}catch(M){((W=M.response)==null?void 0:W.status)===422?(h(M.response.data.errors||{}),K.error("Please check the form for errors")):K.error(((T=(y=M.response)==null?void 0:y.data)==null?void 0:T.message)||"Failed to save holiday")}finally{f(!1)}},N=S.find(m=>m.key===o.type);return c(Se,{open:t,onClose:e,fullWidth:!0,maxWidth:"md",children:[c(Fe,{sx:{display:"flex",alignItems:"center"},children:[c(_,{sx:{display:"flex",alignItems:"center",gap:1},children:[n(ce,{className:"w-6 h-6 text-primary"}),n(P,{variant:"h6",children:i?"Edit Holiday":"Add New Holiday"})]}),n(tt,{onClick:e,sx:{position:"absolute",top:8,right:16},children:n(vt,{})})]}),c("form",{onSubmit:D,children:[n(Ne,{sx:{maxHeight:"70vh",overflowY:"auto","&::-webkit-scrollbar":{width:"6px"},"&::-webkit-scrollbar-track":{background:"rgba(255,255,255,0.1)",borderRadius:"3px"},"&::-webkit-scrollbar-thumb":{background:"rgba(255,255,255,0.3)",borderRadius:"3px","&:hover":{background:"rgba(255,255,255,0.5)"}}},children:c(O,{container:!0,spacing:3,children:[n(O,{item:!0,xs:12,children:n(P,{variant:"subtitle1",sx:{mb:2,fontWeight:600},children:"Basic Information"})}),n(O,{item:!0,xs:12,children:n(U,{label:"Holiday Title",placeholder:"Enter holiday name",fullWidth:!0,value:o.title,onChange:m=>x("title",m.target.value),error:!!u.title,helperText:u.title,InputLabelProps:{shrink:!0}})}),n(O,{item:!0,xs:12,children:n(U,{label:"Description",placeholder:"Optional description or notes",fullWidth:!0,multiline:!0,rows:3,value:o.description,onChange:m=>x("description",m.target.value),error:!!u.description,helperText:u.description,InputLabelProps:{shrink:!0}})}),n(O,{item:!0,xs:12,children:n(P,{variant:"subtitle1",sx:{mb:2,fontWeight:600},children:"Holiday Type"})}),n(O,{item:!0,xs:12,md:6,children:c(rt,{fullWidth:!0,children:[n(Dt,{children:"Type"}),n(kt,{value:o.type,onChange:m=>x("type",m.target.value),label:"Type",error:!!u.type,MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",background:l.glassCard.background,border:l.glassCard.border,borderRadius:2,boxShadow:l.glassCard.boxShadow}}},children:S.map(m=>n(Ct,{value:m.key,children:c(_,{sx:{display:"flex",alignItems:"center",gap:1},children:[n("span",{children:m.icon}),c(_,{children:[n(P,{variant:"body2",sx:{fontWeight:500},children:m.label}),n(P,{variant:"caption",color:"text.secondary",children:m.description})]})]})},m.key))}),u.type&&n(P,{variant:"caption",color:"error",sx:{mt:.5},children:u.type})]})}),N&&n(O,{item:!0,xs:12,md:6,children:n(_,{sx:{p:2,backgroundColor:"rgba(255,255,255,0.05)",borderRadius:1,border:"1px solid rgba(255,255,255,0.1)"},children:c(_,{sx:{display:"flex",alignItems:"center",gap:1},children:[n("span",{style:{fontSize:"1.5rem"},children:N.icon}),c(_,{children:[n(P,{variant:"body2",sx:{fontWeight:500},children:N.label}),n(P,{variant:"caption",color:"text.secondary",children:N.description})]})]})})}),n(O,{item:!0,xs:12,children:c(_,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:2},children:[n(P,{variant:"subtitle1",sx:{fontWeight:600},children:"Date Range"}),v>1&&n(at,{label:`${v} days`,size:"small",color:"primary",variant:"outlined"})]})}),n(O,{item:!0,xs:12,md:6,children:n(U,{type:"date",label:"From Date",fullWidth:!0,value:o.from_date,onChange:m=>x("from_date",m.target.value),error:!!u.fromDate,helperText:u.fromDate,InputLabelProps:{shrink:!0}})}),n(O,{item:!0,xs:12,md:6,children:n(U,{type:"date",label:"To Date",fullWidth:!0,value:o.to_date,onChange:m=>x("to_date",m.target.value),error:!!u.toDate,helperText:u.toDate,InputLabelProps:{shrink:!0}})}),o.from_date&&o.to_date&&n(O,{item:!0,xs:12,children:n(_,{sx:{p:2,backgroundColor:"rgba(255,255,255,0.05)",borderRadius:1,border:"1px solid rgba(255,255,255,0.1)"},children:c(_,{sx:{display:"flex",alignItems:"center",gap:1},children:[n(Mt,{className:"w-4 h-4 text-primary"}),c(P,{variant:"body2",children:["Holiday period: ",ee(new Date(o.from_date),"MMM dd, yyyy"),v>1&&c($,{children:[" to ",ee(new Date(o.to_date),"MMM dd, yyyy")]})," (",v," ",v===1?"day":"days",")"]})]})})}),n(O,{item:!0,xs:12,children:n(P,{variant:"subtitle1",sx:{mb:2,fontWeight:600},children:"Settings"})}),n(O,{item:!0,xs:12,md:6,children:c(_,{sx:{p:2,backgroundColor:"rgba(255,255,255,0.05)",borderRadius:1,border:"1px solid rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[c(_,{sx:{display:"flex",alignItems:"center",gap:1},children:[n(de,{className:"w-5 h-5 text-default-400"}),c(_,{children:[n(P,{variant:"body2",sx:{fontWeight:500},children:"Recurring Holiday"}),n(P,{variant:"caption",color:"text.secondary",children:"Repeat this holiday annually"})]})]}),n(he,{control:n(fe,{checked:o.is_recurring,onChange:m=>x("is_recurring",m.target.checked),color:"primary"}),label:""})]})}),n(O,{item:!0,xs:12,md:6,children:c(_,{sx:{p:2,backgroundColor:"rgba(255,255,255,0.05)",borderRadius:1,border:"1px solid rgba(255,255,255,0.1)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[c(_,{sx:{display:"flex",alignItems:"center",gap:1},children:[n(ge,{className:"w-5 h-5 text-default-400"}),c(_,{children:[n(P,{variant:"body2",sx:{fontWeight:500},children:"Active Holiday"}),n(P,{variant:"caption",color:"text.secondary",children:"Include in holiday calculations"})]})]}),n(he,{control:n(fe,{checked:o.is_active,onChange:m=>x("is_active",m.target.checked),color:"success"}),label:""})]})})]})}),c(Oe,{sx:{padding:"16px 24px",justifyContent:"flex-end",gap:1},children:[n(Q,{color:"danger",variant:"light",onPress:e,disabled:g,children:"Cancel"}),n(Pt,{type:"submit",variant:"contained",loading:g,startIcon:!g&&n(ge,{className:"w-4 h-4"}),sx:{borderRadius:"8px"},children:g?"Saving...":i?"Update Holiday":"Create Holiday"})]})]})]})},Ar=({open:t,closeModal:e,holidayIdToDelete:r,setHolidaysData:a})=>{const i=te(),l=()=>{const o=new Promise(async(d,u)=>{var h,g;try{const f=await _e.delete(route("holiday-delete"),{params:{id:r,route:route().current()}});f.status===200&&(a(f.data.holidays),d("Holiday deleted successfully"))}catch(f){console.error("Error deleting holiday:",f),u(((g=(h=f.response)==null?void 0:h.data)==null?void 0:g.error)||"Failed to delete holiday")}finally{e()}});K.promise(o,{pending:{render(){return c("div",{style:{display:"flex",alignItems:"center"},children:[n(St,{}),n("span",{style:{marginLeft:"8px"},children:"Deleting holiday..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",background:i.glassCard.background,border:i.glassCard.border,color:i.palette.text.primary}},success:{render({data:d}){return n($,{children:d})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",background:i.glassCard.background,border:i.glassCard.border,color:i.palette.text.primary}},error:{render({data:d}){return n($,{children:d})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",background:i.glassCard.background,border:i.glassCard.border,color:i.palette.text.primary}}})};return c(Se,{open:t,onClose:e,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[n(Fe,{id:"alert-dialog-title",children:"Confirm Deletion"}),n(Ne,{children:n(_t,{id:"alert-dialog-description",children:"Are you sure you want to delete this holiday? This action cannot be undone."})}),c(Oe,{children:[n(be,{variant:"outlined",onClick:e,sx:{color:i.palette.text.secondary,borderColor:"rgba(255, 255, 255, 0.2)","&:hover":{borderColor:"rgba(255, 255, 255, 0.3)",backgroundColor:"rgba(255, 255, 255, 0.1)"}},children:"Cancel"}),n(be,{onClick:l,color:"error",autoFocus:!0,children:"Delete"})]})]})},Rr=({title:t,stats:e})=>{const{auth:r,holidays:a}=Ve().props,i=te();me(i.breakpoints.down("sm"));const l=p.useMemo(()=>{const y=new Date().getFullYear();return a.filter(T=>new Date(T.from_date).getFullYear()===y)},[a]),[o,d]=p.useState({type:null,holidayId:null,currentHoliday:null}),[u,h]=p.useState(a),[g,f]=p.useState(l),S=p.useCallback((y,T=null,M=null)=>{d({type:y,holidayId:T,currentHoliday:M})},[]),v=p.useCallback(()=>{d({type:null,holidayId:null,currentHoliday:null})},[]),x=p.useCallback(y=>{h(y)},[]),D=p.useCallback(y=>{f(y)},[]);p.useEffect(()=>{const y=new Date().getFullYear(),T=u.filter(M=>new Date(M.from_date).getFullYear()===y);f(T)},[u]);const N=p.useMemo(()=>{const y=new Date().getFullYear(),T=g.filter(C=>new Date(C.from_date).getFullYear()===y),M=g.filter(C=>new Date(C.from_date)>new Date);g.filter(C=>{const H=new Date,ae=new Date(C.from_date),ne=new Date(C.to_date);return ae<=H&&ne>=H});const Y=g.reduce((C,H)=>C+(H.duration||1),0);return[{title:"Total Holidays",value:g.length,icon:n(Ft,{className:"w-5 h-5"}),color:"text-blue-400",iconBg:"bg-blue-500/20",description:"All filtered holidays"},{title:"This Year",value:T.length,icon:n(ye,{className:"w-5 h-5"}),color:"text-green-400",iconBg:"bg-green-500/20",description:"Current year holidays"},{title:"Upcoming",value:M.length,icon:n(j,{className:"w-5 h-5"}),color:"text-purple-400",iconBg:"bg-purple-500/20",description:"Future holidays"},{title:"Holiday Days",value:Y,icon:n(j,{className:"w-5 h-5"}),color:"text-orange-400",iconBg:"bg-orange-500/20",description:"Total days off in filtered data"}]},[g]),m=[{label:"Add Holiday",icon:n(ot,{className:"w-4 h-4"}),onPress:()=>S("add_holiday"),className:it.primaryButton}],W=p.useMemo(()=>({open:!!o.type,closeModal:v,setHolidaysData:x,holidaysData:u,currentHoliday:o.currentHoliday}),[o.type,v,x,u,o.currentHoliday]);return c($,{children:[n(Ge,{title:t}),o.type==="add_holiday"&&n(Pe,{...W}),o.type==="edit_holiday"&&n(Pe,{...W}),o.type==="delete_holiday"&&n(Ar,{open:!0,holidayIdToDelete:o.holidayId,setHolidaysData:x,closeModal:v}),n(_,{sx:{display:"flex",justifyContent:"center",p:2},children:n(nt,{in:!0,children:n($e,{children:n(Xe,{title:"Company Holidays",subtitle:"Manage company holidays and observances throughout the year",icon:n(ye,{className:"w-8 h-8"}),variant:"gradient",actionButtons:m,children:c("div",{className:"p-6",children:[n(ze,{stats:N,className:"mb-6"}),n(Er,{holidaysData:u,onEdit:y=>S("edit_holiday",null,y),onDelete:y=>S("delete_holiday",y),onFilteredDataChange:D})]})})})})})]})};Rr.layout=t=>n(st,{children:t});export{Rr as default};
