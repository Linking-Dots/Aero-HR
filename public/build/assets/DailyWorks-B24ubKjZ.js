import{r as pt,q as jr,j as F,a as s,F as oe,c as Xn,B as Me,Y as $r,G as Lr}from"./app-CqqjJ1fG.js";import{p as ft,q as E,s as gt,t as ht,v as mt,w as ye,T as Fe,r as g,ag as Te,E as fe,_ as m,aj as qe,J as Qe,f as ut,u as Je,ae as Nr,B as ce,M as J,S as Le,$ as Cn,a5 as Tt,b as be,c as we,Z as Nt,G as ue,F as Rt,h as St,O as zr,a0 as zt,a1 as Ht,o as Vt,at as Hr,j as Vr,k as Wr,l as Pn,m as Ct,n as Br,L as Ur,ap as c,au as en,ah as Kr,am as ae,al as Yr,ab as dn,H as Gn,af as je,ao as Xe,an as Et,av as Xr,aq as qn,e as Gr,g as qr,a as wn,I as Qr}from"./vendor-BOJ9iqiL.js";import{d as Jr,A as Zr}from"./App-C4U4CuhV.js";import{Q as ea,X as ta,H as tn,I as qt,J as na,R as kn,T as ra,U as aa,W as Rn,q as oa,e as Ze,u as Wt,f as Qn,h as Ot,n as Sn,Y as ia,Z as sa,_ as la,$ as ca,l as ua,o as da,G as pa,b as Jn,j as fa,d as ga,k as ha,a0 as ma,p as ba,B as In,a1 as ya,a2 as va,a3 as xa,a as Mn,a4 as Da,P as Ca,c as Fn,E as nn,v as Zn,w as er,a5 as Pa,L as pn,x as wa,a6 as Tn,A as tr,F as ka,K as Ra,N as Sa,O as Ia}from"./xlsx-BWI3rBzv.js";import{d as Ma}from"./Delete-Bkdc8lZK.js";import{d as Fa}from"./isBetween-BW9PQoPk.js";import{d as fn,G as Bt}from"./GlassDialog-GfR5JT_r.js";import{L as gn}from"./LoadingButton-ceUHBhin.js";import{C as Ta}from"./Clear-BhY3uZ1D.js";const Ea=ft(E.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),Oa=ft(E.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description"),Aa=ft(E.jsx("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm7 7V3.5L18.5 9z"}),"InsertDriveFile"),_a=ft(E.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf"),rn=ft(E.jsx("path",{d:"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z"}),"Upload");function et(e,t,n,r){function a(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function i(h){try{u(r.next(h))}catch(v){l(v)}}function f(h){try{u(r.throw(h))}catch(v){l(v)}}function u(h){h.done?o(h.value):a(h.value).then(i,f)}u((r=r.apply(e,t||[])).next())})}function tt(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,a,o,l;return l={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function i(u){return function(h){return f([u,h])}}function f(u){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,u[0]&&(n=0)),n;)try{if(r=1,a&&(o=u[0]&2?a.return:u[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,u[1])).done)return o;switch(a=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,a=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(h){u=[6,h],a=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function En(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),a,o=[],l;try{for(;(t===void 0||t-- >0)&&!(a=r.next()).done;)o.push(a.value)}catch(i){l={error:i}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(l)throw l.error}}return o}function On(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var hn={},ja=gt;Object.defineProperty(hn,"__esModule",{value:!0});var nr=hn.default=void 0,$a=ja(pt()),La=E;nr=hn.default=(0,$a.default)((0,La.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle");var mn={},Na=gt;Object.defineProperty(mn,"__esModule",{value:!0});var rr=mn.default=void 0,za=Na(pt()),Ha=E;rr=mn.default=(0,za.default)((0,Ha.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2M8.5 15H7.3l-2.55-3.5V15H3.5V9h1.25l2.5 3.5V9H8.5zm5-4.74H11v1.12h2.5v1.26H11v1.11h2.5V15h-4V9h4zm7 3.74c0 .55-.45 1-1 1h-4c-.55 0-1-.45-1-1V9h1.25v4.51h1.13V9.99h1.25v3.51h1.12V9h1.25z"}),"FiberNew");var bn={},Va=gt;Object.defineProperty(bn,"__esModule",{value:!0});var ar=bn.default=void 0,Wa=Va(pt()),Ba=E;ar=bn.default=(0,Wa.default)((0,Ba.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8"}),"Replay");var yn={},Ua=gt;Object.defineProperty(yn,"__esModule",{value:!0});var or=yn.default=void 0,Ka=Ua(pt()),Ya=E;or=yn.default=(0,Ka.default)((0,Ya.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function Xa(e){return mt("MuiPickersToolbarText",e)}const An=ht("MuiPickersToolbarText",["root","selected"]),Ga=["className","selected","value"],qa=e=>{const{classes:t,selected:n}=e;return Qe({root:["root",n&&"selected"]},Xa,t)},Qa=ye(Fe,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${An.selected}`]:t.selected}]})(({theme:e})=>({transition:e.transitions.create("color"),color:(e.vars||e).palette.text.secondary,[`&.${An.selected}`]:{color:(e.vars||e).palette.text.primary}})),Ja=g.forwardRef(function(t,n){const r=Te({props:t,name:"MuiPickersToolbarText"}),{className:a,value:o}=r,l=fe(r,Ga),i=qa(r);return E.jsx(Qa,m({ref:n,className:qe(a,i.root),component:"span"},l,{children:o}))}),Za=["align","className","selected","typographyClassName","value","variant","width"],eo=e=>{const{classes:t}=e;return Qe({root:["root"]},ea,t)},to=ye(ut,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,minWidth:16,textTransform:"none"}),_n=g.forwardRef(function(t,n){const r=Te({props:t,name:"MuiPickersToolbarButton"}),{align:a,className:o,selected:l,typographyClassName:i,value:f,variant:u,width:h}=r,v=fe(r,Za),b=eo(r);return E.jsx(to,m({variant:"text",ref:n,className:qe(o,b.root)},h?{sx:{width:h}}:{},v,{children:E.jsx(Ja,{align:a,className:i,variant:u,value:f,selected:l})}))});var vn={},no=gt;Object.defineProperty(vn,"__esModule",{value:!0});var ir=vn.default=void 0,ro=no(pt()),ao=E;ir=vn.default=(0,ro.default)((0,ao.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search");const oo=ye(ta)(({theme:e})=>({"& .rdt_Table":{backgroundColor:"transparent","& .rdt_TableHead":{"& .rdt_TableHeadRow":{backgroundColor:"transparent",color:e.palette.text.primary},top:0,zIndex:1},"& .rdt_TableBody":{overflowY:"auto",maxHeight:"52vh","& .rdt_TableRow":{minHeight:"auto",backgroundColor:"transparent",color:e.palette.text.primary,"& .rdt_TableCol":{backgroundColor:"transparent",borderBottom:`1px solid ${e.palette.divider}`,width:"auto",whiteSpace:"nowrap"}},"& .rdt_TableRow:hover":{backgroundColor:e.palette.action.hover}}}})),io=({data:e,setData:t,loading:n,handleClickOpen:r,allInCharges:a,setCurrentPage:o,setPerPage:l,totalRows:i,reports:f,juniors:u,reports_with_daily_works:h,openModal:v,setCurrentRow:b,filteredData:P,setFilteredData:w})=>{const{auth:S}=jr().props,y=Je(),I=S.roles.includes("Administrator"),T=S.roles.includes("Supervision Engineer"),k=[{name:"Date",selector:d=>d.date,sortable:"true",center:"true",width:"100px"},{name:"RFI NO",selector:d=>d.number,sortable:"true",center:"true",width:"140px",cell:d=>F(oe,{children:[d.number,d.reports&&d.reports.map(x=>s("div",{children:F("span",{children:[s("i",{className:"mdi mdi-circle-medium"})," ",x.ref_no]})},x.ref_no))]})},{name:"Status",selector:d=>d.status,sortable:"true",center:"true",width:"220px",cell:d=>F(Le,{variant:"outlined",size:"small",fullWidth:!0,value:d.status,onChange:x=>R(d.id,"status",x.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:y.glassCard.backgroundColor,border:y.glassCard.border,borderRadius:2,boxShadow:y.glassCard.boxShadow}}},children:[s(J,{value:"new",children:F(ce,{sx:{display:"flex"},children:[s(rr,{style:{marginRight:8,color:p("new")}})," New"]})}),s(J,{value:"resubmission",children:F(ce,{sx:{display:"flex"},children:[s(ar,{style:{marginRight:8,color:p("resubmission")}})," Resubmission"]})}),s(J,{value:"completed",children:F(ce,{sx:{display:"flex"},children:[s(nr,{style:{marginRight:8,color:p("completed")}})," Completed"]})}),s(J,{value:"emergency",children:F(ce,{sx:{display:"flex"},children:[s(or,{style:{marginRight:8,color:p("emergency")}})," Emergency"]})})]})},...T?[{name:"Assigned",selector:d=>d.assigned,sortable:"true",center:"true",cell:d=>F(Le,{variant:"outlined",fullWidth:!0,size:"small",value:d.assigned||"na",onChange:x=>R(d.id,"assigned",x.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:y.glassCard.backgroundColor,border:y.glassCard.border,borderRadius:2,boxShadow:y.glassCard.boxShadow}}},children:[s(J,{value:"na",disabled:!0,children:"Please select"}),u.map(x=>s(J,{value:x.id,children:F(ce,{sx:{display:"flex"},children:[s(Cn,{src:`/assets/images/users/${x.user_name||"user-dummy-img"}.jpg`,alt:x.name||"Not assigned",sx:{borderRadius:"50%",width:23,height:23,display:"flex",mr:1}}),x.name]})},x.id))]})}]:[],{name:"Type",selector:d=>d.type,sortable:"true",center:"true",width:"140px"},{name:"Description",selector:d=>d.description,sortable:"true",left:"true",width:"260px",cell:d=>s(ce,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},children:d.description})},{name:"Location",selector:d=>d.location,sortable:"true",center:"true",width:"200px",cell:d=>s(ce,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},children:d.location})},{name:"Results",selector:d=>d.inspection_details,sortable:"true",width:"200px",center:"true",cell:d=>{const[x,V]=Tt.useState(!1),[W,K]=Tt.useState(d.inspection_details||"");return s(ce,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",cursor:"pointer"},onClick:x?void 0:()=>{V(!0)},children:x?s(be,{fullWidth:!0,value:W,onChange:L=>{K(L.target.value)},onBlur:()=>{V(!1),R(d.id,"inspection_details",W)},autoFocus:!0,variant:"standard",InputProps:{style:{marginBottom:0,border:"none",outline:"none",backgroundColor:"transparent",textAlign:"center"}}}):s(oe,{children:d.inspection_details||"N/A"})})}},{name:"Road Type",selector:d=>d.side,sortable:"true",center:"true",width:"120px"},{name:"Quantity/Layer No.",selector:d=>d.qty_layer,sortable:"true",center:"true",width:"150px"},...I?[{name:"In charge",selector:d=>d.incharge,sortable:"true",center:"true",cell:d=>F(Le,{variant:"outlined",fullWidth:!0,size:"small",value:d.incharge||"na",onChange:x=>R(d.id,"incharge",x.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:y.glassCard.backgroundColor,border:y.glassCard.border,borderRadius:2,boxShadow:y.glassCard.boxShadow}}},children:[s(J,{value:"na",disabled:!0,children:"Please select"}),a.map(x=>s(J,{value:x.id,children:F(ce,{sx:{display:"flex"},children:[s(Cn,{src:x.profile_image,alt:x.name||"Not assigned",sx:{borderRadius:"50%",width:23,height:23,display:"flex",mr:1}}),x.name]})},x.id))]})}]:[],{name:"Planned Time",selector:d=>d.planned_time,sortable:"true",center:"true",width:"130px"},{name:"Completion Time",selector:d=>d.completion_time,sortable:"true",center:"true",width:"250px",cell:d=>s(be,{fullWidth:!0,size:"small",type:"datetime-local",value:d.completion_time?new Date(d.completion_time).toISOString().slice(0,16):"",onChange:x=>R(d.id,"completion_time",x.target.value),style:{border:"none",outline:"none",backgroundColor:"transparent"},inputProps:{placeholder:"YYYY-MM-DDTHH:MM"}})},{name:"Resubmission Count",selector:d=>d.resubmission_count,sortable:"true",center:"true",width:"160px",cell:d=>s(oe,{children:d.resubmission_count?`${d.resubmission_count} ${d.resubmission_count>1?"times":"time"}`:""})},...I?[{name:"RFI Submission Date",selector:d=>d.rfi_submission_date,sortable:"true",center:"true",width:"180px",cell:d=>s(be,{fullWidth:!0,size:"small",type:"date",onChange:x=>R(d.id,"rfi_submission_date",x.target.value),value:d.rfi_submission_date?new Date(d.rfi_submission_date).toISOString().slice(0,10):"",style:{border:"none",outline:"none",backgroundColor:"transparent"},inputProps:{placeholder:"yyyy-MM-dd"}})}]:[],...I?[{name:"Actions",center:"true",width:"150px",cell:d=>F(ce,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[s(we,{sx:{m:1},variant:"outlined",color:"success",size:"small",onClick:()=>{b(d),v("editDailyWork")},children:s(Jr,{})}),s(we,{sx:{m:1},variant:"outlined",color:"error",size:"small",onClick:()=>r(d.id,"deleteDailyWork"),children:s(Ma,{})})]})}]:[]],p=d=>{switch(d){case"new":return"blue";case"resubmission":return"orange";case"completed":return"green";case"emergency":return"red";default:return""}},R=async(d,x,V)=>{var W,K;try{const Y=await Xn.post(route("dailyWorks.update"),{id:d,[x]:V});Y.status===200?(t(z=>z.map(U=>U.id===d?{...U,[x]:V}:U)),Me.success(...Y.data.messages||"Task updated successfully",{icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:y.glassCard.backgroundColor,border:y.glassCard.border,color:y.palette.text.primary}})):Me.error(Y.data.error||`Failed to update task ${[x]}.`,{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:y.glassCard.backgroundColor,border:y.glassCard.border,color:y.palette.text.primary}})}catch(Y){Me.error(((K=(W=Y.response)==null?void 0:W.data)==null?void 0:K.message)||"An unexpected error occurred.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:y.glassCard.backgroundColor,border:y.glassCard.border,color:y.palette.text.primary}})}},C=d=>{o(d)},O=d=>{l(d),o(1)};return F(oe,{children:[s(Nr,{styles:{"& .cgTKyH":{backgroundColor:"transparent !important",color:y.palette.text.primary}}}),s(oo,{columns:k,data:e,progressPending:n,pagination:!0,paginationServer:!0,paginationTotalRows:i,onChangePage:C,onChangeRowsPerPage:O,defaultSortField:"date",highlightOnHover:!0,responsive:!0,dense:!0})]})},so=({open:e,closeModal:t,currentRow:n,setData:r})=>{const a=Je(),[o,l]=g.useState({id:n.id||"",date:n.date||"",number:n.number||"",planned_time:n.planned_time||"",type:n.type||"Structure",location:n.location||"",description:n.description||"",side:n.side||"SR-R",qty_layer:n.qty_layer||""}),[i,f]=g.useState({}),[u,h]=g.useState(!1),[v,b]=g.useState(!1);g.useEffect(()=>{const S=Object.values(o).some(y=>y!=="");b(S)},[o]);const P=S=>{const{name:y,value:I}=S.target;l(T=>({...T,[y]:I}))};async function w(S){S.preventDefault(),h(!0);const y=new Promise(async(I,T)=>{try{const k=await fetch(route("dailyWorks.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"details",...o})}),p=await k.json();k.ok?(r(R=>R.map(C=>C.id===o.id?{...C,...o}:C)),t(),I(p.message?[p.message]:p.messages),h(!1),t(),console.log(p.message?[p.message]:p.messages)):(h(!1),f(p.errors),T(p.errors),console.error(p.errors))}catch(k){h(!1),t(),console.log(k),T(["An unexpected error occurred."])}});Me.promise(y,{pending:{render(){return F("div",{style:{display:"flex",alignItems:"center"},children:[s(Vt,{}),s("span",{style:{marginLeft:"8px"},children:"Updating daily work ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},success:{render({data:I}){return s(oe,{children:I.map((T,k)=>s("div",{children:T},k))})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},error:{render({data:I}){return s(oe,{children:I.map((T,k)=>s("div",{children:T},k))})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}}})}return F(Bt,{open:e,onClose:t,children:[F(Nt,{style:{cursor:"move"},id:"draggable-dialog-title",children:[s(Fe,{children:"Add Task"}),s(we,{variant:"outlined",color:"primary",onClick:t,sx:{position:"absolute",top:8,right:16},children:s(fn,{})})]}),F("form",{onSubmit:w,children:[s(zt,{children:F(ue,{container:!0,spacing:2,children:[s(ue,{item:!0,xs:12,md:6,children:s(be,{label:"RFI Date",type:"date",name:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:o.date,onChange:P,error:!!i.date,helperText:i.date})}),s(ue,{item:!0,xs:12,md:6,children:s(be,{label:"RFI Number",name:"number",fullWidth:!0,value:o.number,onChange:P,error:!!i.number,helperText:i.number})}),s(ue,{item:!0,xs:12,md:6,children:s(be,{label:"Planned Time",name:"planned_time",fullWidth:!0,InputLabelProps:{shrink:!0},value:o.planned_time,onChange:P,error:!!i.planned_time,helperText:i.planned_time})}),s(ue,{item:!0,xs:12,md:6,children:F(Rt,{fullWidth:!0,children:[s(St,{id:"type-label",children:"Type"}),F(Le,{select:!0,label:"Type",name:"type",fullWidth:!0,value:o.type,onChange:P,error:!!i.type,helperText:i.type,labelId:"type-label",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[s(J,{value:"Structure",children:"Structure"}),s(J,{value:"Embankment",children:"Embankment"}),s(J,{value:"Pavement",children:"Pavement"})]}),s(zr,{children:i.type})]})}),s(ue,{item:!0,xs:12,md:6,children:s(be,{label:"Location",name:"location",fullWidth:!0,value:o.location,onChange:P,error:!!i.location,helperText:i.location})}),s(ue,{item:!0,xs:12,md:6,children:s(be,{label:"Description",name:"description",fullWidth:!0,value:o.description,onChange:P,error:!!i.description,helperText:i.description})}),s(ue,{item:!0,xs:12,md:6,children:F(be,{select:!0,label:"Road Type",name:"side",fullWidth:!0,value:o.side,onChange:P,error:!!i.side,helperText:i.side,children:[s(J,{value:"SR-R",children:"SR-R"}),s(J,{value:"SR-L",children:"SR-L"}),s(J,{value:"TR-R",children:"TR-R"}),s(J,{value:"TR-L",children:"TR-L"})]})}),s(ue,{item:!0,xs:12,md:6,children:s(be,{label:"Quantity/Layer No.",name:"qty_layer",fullWidth:!0,value:o.qty_layer,onChange:P,error:!!i.qty_layer,helperText:i.qty_layer})})]})}),s(Ht,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"16px"},children:s(gn,{disabled:!v,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:u,children:"Submit"})})]})]})},lo=({open:e,handleClose:t,handleDelete:n})=>(Je(),F(Bt,{open:e,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[s(Nt,{id:"alert-dialog-title",children:"Confirm Deletion"}),s(zt,{children:s(Hr,{id:"alert-dialog-description",children:"Are you sure you want to delete this task? This action cannot be undone."})}),F(Ht,{children:[s(ut,{onClick:t,color:"primary",children:"Cancel"}),s(ut,{onClick:n,color:"error",autoFocus:!0,children:"Delete"})]})]})),co=({open:e,closeModal:t,data:n,users:r})=>{g.useState(!1);const a=Je(),o=[{label:"Date",key:"date"},{label:"RFI No.",key:"number"},{label:"Status",key:"status"},{label:"Assigned",key:"assigned"},{label:"In charge",key:"incharge"},{label:"Type",key:"type"},{label:"Description",key:"description"},{label:"Location",key:"location"},{label:"Side",key:"side"},{label:"Quantity/Layer",key:"qty_layer"},{label:"Planned Time",key:"planned_time"},{label:"Completion Time",key:"completion_time"},{label:"Results",key:"inspection_details"},{label:"Resubmission Count",key:"resubmission_count"},{label:"RFI Submission Date",key:"rfi_submission_date"}],[l,i]=g.useState(o.map(h=>({...h,checked:!0}))),f=h=>{const v=[...l];v[h].checked=!v[h].checked,i(v)},u=async h=>{const v=new Promise((b,P)=>{try{const w=n.map(I=>{const T={};return h.forEach(k=>{if(k.checked)if(k.key==="incharge"||k.key==="assigned"){const p=r.find(R=>R.id===I[k.key]);T[k.label]=p?p.name:"N/A"}else if(k.key==="status"){const p=I[k.key];T[k.label]=p.charAt(0).toUpperCase()+p.slice(1)}else T[k.label]=I[k.key]}),T}),S=qt.json_to_sheet(w),y=qt.book_new();qt.book_append_sheet(y,S,"Daily Works"),na(y,"DailyWorks.xlsx"),b("Export successful!"),t()}catch(w){P("Failed to export data. Please try again."),console.error("Error exporting data to Excel:",w)}});Me.promise(v,{pending:{render(){return F("div",{style:{display:"flex",alignItems:"center"},children:[s(Vt,{}),s("span",{style:{marginLeft:"8px"},children:"Exporting data to Excel ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},success:{render({data:b}){return s(oe,{children:b})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},error:{render({data:b}){return s(oe,{children:b})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}}})};return F(Bt,{open:e,onClose:t,children:[F(Nt,{style:{cursor:"move"},id:"draggable-dialog-title",children:[s(Fe,{children:"Export Daily Works"}),s(we,{variant:"outlined",color:"primary",onClick:t,sx:{position:"absolute",top:8,right:16},children:s(fn,{})})]}),s(zt,{children:F(Vr,{size:"small",sx:{"& .MuiTableCell-root":{padding:"4px 8px"},"& .MuiCheckbox-root":{padding:"0px"}},children:[s(Wr,{children:F(Pn,{children:[s(Ct,{children:"Column Label"}),s(Ct,{align:"center",children:"Include in Export"})]})}),s(Br,{children:l.map((h,v)=>F(Pn,{children:[s(Ct,{children:h.label}),s(Ct,{align:"center",children:s(Ur,{checked:h.checked,onChange:()=>f(v)})})]},h.key))})]})}),s(Ht,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:s(gn,{sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",onClick:()=>u(l),startIcon:s(tn,{}),children:"Download"})})]})};var uo=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function bt(e,t){var n=po(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function po(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),a=uo.get(r);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}var fo=[".DS_Store","Thumbs.db"];function go(e){return et(this,void 0,void 0,function(){return tt(this,function(t){return At(e)&&ho(e.dataTransfer)?[2,vo(e.dataTransfer,e.type)]:mo(e)?[2,bo(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,yo(e)]:[2,[]]})})}function ho(e){return At(e)}function mo(e){return At(e)&&At(e.target)}function At(e){return typeof e=="object"&&e!==null}function bo(e){return an(e.target.files).map(function(t){return bt(t)})}function yo(e){return et(this,void 0,void 0,function(){var t;return tt(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(r){return r.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(r){return bt(r)})]}})})}function vo(e,t){return et(this,void 0,void 0,function(){var n,r;return tt(this,function(a){switch(a.label){case 0:return e.items?(n=an(e.items).filter(function(o){return o.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(xo))]):[3,2];case 1:return r=a.sent(),[2,jn(sr(r))];case 2:return[2,jn(an(e.files).map(function(o){return bt(o)}))]}})})}function jn(e){return e.filter(function(t){return fo.indexOf(t.name)===-1})}function an(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function xo(e){if(typeof e.webkitGetAsEntry!="function")return $n(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?lr(t):$n(e)}function sr(e){return e.reduce(function(t,n){return On(On([],En(t),!1),En(Array.isArray(n)?sr(n):[n]),!1)},[])}function $n(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=bt(t);return Promise.resolve(n)}function Do(e){return et(this,void 0,void 0,function(){return tt(this,function(t){return[2,e.isDirectory?lr(e):Co(e)]})})}function lr(e){var t=e.createReader();return new Promise(function(n,r){var a=[];function o(){var l=this;t.readEntries(function(i){return et(l,void 0,void 0,function(){var f,u,h;return tt(this,function(v){switch(v.label){case 0:if(i.length)return[3,5];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all(a)];case 2:return f=v.sent(),n(f),[3,4];case 3:return u=v.sent(),r(u),[3,4];case 4:return[3,6];case 5:h=Promise.all(i.map(Do)),a.push(h),o(),v.label=6;case 6:return[2]}})})},function(i){r(i)})}o()})}function Co(e){return et(this,void 0,void 0,function(){return tt(this,function(t){return[2,new Promise(function(n,r){e.file(function(a){var o=bt(a,e.fullPath);n(o)},function(a){r(a)})})]})})}var Po=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",a=(e.type||"").toLowerCase(),o=a.replace(/\/.*$/,"");return n.some(function(l){var i=l.trim().toLowerCase();return i.charAt(0)==="."?r.toLowerCase().endsWith(i):i.endsWith("/*")?o===i.replace(/\/.*$/,""):a===i})}return!0};function Ln(e){return Ro(e)||ko(e)||ur(e)||wo()}function wo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ko(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ro(e){if(Array.isArray(e))return on(e)}function Nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nn(Object(n),!0).forEach(function(r){cr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dt(e,t){return Mo(e)||Io(e,t)||ur(e,t)||So()}function So(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ur(e,t){if(e){if(typeof e=="string")return on(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return on(e,t)}}function on(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Io(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,l,i;try{for(n=n.call(e);!(a=(l=n.next()).done)&&(r.push(l.value),!(t&&r.length===t));a=!0);}catch(f){o=!0,i=f}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw i}}return r}}function Mo(e){if(Array.isArray(e))return e}var Fo="file-invalid-type",To="file-too-large",Eo="file-too-small",Oo="too-many-files",Ao=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var n=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:Fo,message:"File type must be ".concat(n)}},Hn=function(t){return{code:To,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Vn=function(t){return{code:Eo,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},_o={code:Oo,message:"Too many files"};function dr(e,t){var n=e.type==="application/x-moz-file"||Po(e,t);return[n,n?null:Ao(t)]}function pr(e,t,n){if(_e(e.size))if(_e(t)&&_e(n)){if(e.size>n)return[!1,Hn(n)];if(e.size<t)return[!1,Vn(t)]}else{if(_e(t)&&e.size<t)return[!1,Vn(t)];if(_e(n)&&e.size>n)return[!1,Hn(n)]}return[!0,null]}function _e(e){return e!=null}function jo(e){var t=e.files,n=e.accept,r=e.minSize,a=e.maxSize,o=e.multiple,l=e.maxFiles,i=e.validator;return!o&&t.length>1||o&&l>=1&&t.length>l?!1:t.every(function(f){var u=dr(f,n),h=dt(u,1),v=h[0],b=pr(f,r,a),P=dt(b,1),w=P[0],S=i?i(f):null;return v&&w&&!S})}function _t(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function Pt(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Wn(e){e.preventDefault()}function $o(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function Lo(e){return e.indexOf("Edge/")!==-1}function No(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return $o(e)||Lo(e)}function Pe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return t.some(function(i){return!_t(r)&&i&&i.apply(void 0,[r].concat(o)),_t(r)})}}function zo(){return"showOpenFilePicker"in window}function Ho(e){if(_e(e)){var t=Object.entries(e).filter(function(n){var r=dt(n,2),a=r[0],o=r[1],l=!0;return fr(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(o)||!o.every(gr))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(n,r){var a=dt(r,2),o=a[0],l=a[1];return zn(zn({},n),{},cr({},o,l))},{});return[{description:"Files",accept:t}]}return e}function Vo(e){if(_e(e))return Object.entries(e).reduce(function(t,n){var r=dt(n,2),a=r[0],o=r[1];return[].concat(Ln(t),[a],Ln(o))},[]).filter(function(t){return fr(t)||gr(t)}).join(",")}function Wo(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Bo(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function fr(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function gr(e){return/^.*\.[\w]+$/.test(e)}var Uo=["children"],Ko=["open"],Yo=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Xo=["refKey","onChange","onClick"];function Go(e){return Jo(e)||Qo(e)||hr(e)||qo()}function qo(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qo(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jo(e){if(Array.isArray(e))return sn(e)}function Qt(e,t){return ti(e)||ei(e,t)||hr(e,t)||Zo()}function Zo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hr(e,t){if(e){if(typeof e=="string")return sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sn(e,t)}}function sn(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ei(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,l,i;try{for(n=n.call(e);!(a=(l=n.next()).done)&&(r.push(l.value),!(t&&r.length===t));a=!0);}catch(f){o=!0,i=f}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw i}}return r}}function ti(e){if(Array.isArray(e))return e}function Bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bn(Object(n),!0).forEach(function(r){ln(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jt(e,t){if(e==null)return{};var n=ni(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ni(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var xn=g.forwardRef(function(e,t){var n=e.children,r=jt(e,Uo),a=br(r),o=a.open,l=jt(a,Ko);return g.useImperativeHandle(t,function(){return{open:o}},[o]),Tt.createElement(g.Fragment,null,n(Q(Q({},l),{},{open:o})))});xn.displayName="Dropzone";var mr={disabled:!1,getFilesFromEvent:go,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};xn.defaultProps=mr;xn.propTypes={children:c.func,accept:c.objectOf(c.arrayOf(c.string)),multiple:c.bool,preventDropOnDocument:c.bool,noClick:c.bool,noKeyboard:c.bool,noDrag:c.bool,noDragEventsBubbling:c.bool,minSize:c.number,maxSize:c.number,maxFiles:c.number,disabled:c.bool,getFilesFromEvent:c.func,onFileDialogCancel:c.func,onFileDialogOpen:c.func,useFsAccessApi:c.bool,autoFocus:c.bool,onDragEnter:c.func,onDragLeave:c.func,onDragOver:c.func,onDrop:c.func,onDropAccepted:c.func,onDropRejected:c.func,onError:c.func,validator:c.func};var cn={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function br(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Q(Q({},mr),e),n=t.accept,r=t.disabled,a=t.getFilesFromEvent,o=t.maxSize,l=t.minSize,i=t.multiple,f=t.maxFiles,u=t.onDragEnter,h=t.onDragLeave,v=t.onDragOver,b=t.onDrop,P=t.onDropAccepted,w=t.onDropRejected,S=t.onFileDialogCancel,y=t.onFileDialogOpen,I=t.useFsAccessApi,T=t.autoFocus,k=t.preventDropOnDocument,p=t.noClick,R=t.noKeyboard,C=t.noDrag,O=t.noDragEventsBubbling,d=t.onError,x=t.validator,V=g.useMemo(function(){return Vo(n)},[n]),W=g.useMemo(function(){return Ho(n)},[n]),K=g.useMemo(function(){return typeof y=="function"?y:Un},[y]),Y=g.useMemo(function(){return typeof S=="function"?S:Un},[S]),z=g.useRef(null),U=g.useRef(null),L=g.useReducer(ri,cn),H=Qt(L,2),te=H[0],j=H[1],ge=te.isFocused,le=te.isFileDialogActive,he=g.useRef(typeof window<"u"&&window.isSecureContext&&I&&zo()),N=function(){!he.current&&le&&setTimeout(function(){if(U.current){var M=U.current.files;M.length||(j({type:"closeDialog"}),Y())}},300)};g.useEffect(function(){return window.addEventListener("focus",N,!1),function(){window.removeEventListener("focus",N,!1)}},[U,le,Y,he]);var B=g.useRef([]),ne=function(M){z.current&&z.current.contains(M.target)||(M.preventDefault(),B.current=[])};g.useEffect(function(){return k&&(document.addEventListener("dragover",Wn,!1),document.addEventListener("drop",ne,!1)),function(){k&&(document.removeEventListener("dragover",Wn),document.removeEventListener("drop",ne))}},[z,k]),g.useEffect(function(){return!r&&T&&z.current&&z.current.focus(),function(){}},[z,T,r]);var Z=g.useCallback(function(D){d?d(D):console.error(D)},[d]),$=g.useCallback(function(D){D.preventDefault(),D.persist(),Ee(D),B.current=[].concat(Go(B.current),[D.target]),Pt(D)&&Promise.resolve(a(D)).then(function(M){if(!(_t(D)&&!O)){var ee=M.length,re=ee>0&&jo({files:M,accept:V,minSize:l,maxSize:o,multiple:i,maxFiles:f,validator:x}),se=ee>0&&!re;j({isDragAccept:re,isDragReject:se,isDragActive:!0,type:"setDraggedFiles"}),u&&u(D)}}).catch(function(M){return Z(M)})},[a,u,Z,O,V,l,o,i,f,x]),ie=g.useCallback(function(D){D.preventDefault(),D.persist(),Ee(D);var M=Pt(D);if(M&&D.dataTransfer)try{D.dataTransfer.dropEffect="copy"}catch{}return M&&v&&v(D),!1},[v,O]),de=g.useCallback(function(D){D.preventDefault(),D.persist(),Ee(D);var M=B.current.filter(function(re){return z.current&&z.current.contains(re)}),ee=M.indexOf(D.target);ee!==-1&&M.splice(ee,1),B.current=M,!(M.length>0)&&(j({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Pt(D)&&h&&h(D))},[z,h,O]),Ne=g.useCallback(function(D,M){var ee=[],re=[];D.forEach(function(se){var xe=dr(se,V),ke=Qt(xe,2),De=ke[0],ot=ke[1],it=pr(se,l,o),We=Qt(it,2),st=We[0],Be=We[1],lt=x?x(se):null;if(De&&st&&!lt)ee.push(se);else{var Oe=[ot,Be];lt&&(Oe=Oe.concat(lt)),re.push({file:se,errors:Oe.filter(function(Yt){return Yt})})}}),(!i&&ee.length>1||i&&f>=1&&ee.length>f)&&(ee.forEach(function(se){re.push({file:se,errors:[_o]})}),ee.splice(0)),j({acceptedFiles:ee,fileRejections:re,type:"setFiles"}),b&&b(ee,re,M),re.length>0&&w&&w(re,M),ee.length>0&&P&&P(ee,M)},[j,i,V,l,o,f,b,P,w,x]),ze=g.useCallback(function(D){D.preventDefault(),D.persist(),Ee(D),B.current=[],Pt(D)&&Promise.resolve(a(D)).then(function(M){_t(D)&&!O||Ne(M,D)}).catch(function(M){return Z(M)}),j({type:"reset"})},[a,Ne,Z,O]),A=g.useCallback(function(){if(he.current){j({type:"openDialog"}),K();var D={multiple:i,types:W};window.showOpenFilePicker(D).then(function(M){return a(M)}).then(function(M){Ne(M,null),j({type:"closeDialog"})}).catch(function(M){Wo(M)?(Y(M),j({type:"closeDialog"})):Bo(M)?(he.current=!1,U.current?(U.current.value=null,U.current.click()):Z(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Z(M)});return}U.current&&(j({type:"openDialog"}),K(),U.current.value=null,U.current.click())},[j,K,Y,I,Ne,Z,W,i]),rt=g.useCallback(function(D){!z.current||!z.current.isEqualNode(D.target)||(D.key===" "||D.key==="Enter"||D.keyCode===32||D.keyCode===13)&&(D.preventDefault(),A())},[z,A]),vt=g.useCallback(function(){j({type:"focus"})},[]),pe=g.useCallback(function(){j({type:"blur"})},[]),at=g.useCallback(function(){p||(No()?setTimeout(A,0):A())},[p,A]),Re=function(M){return r?null:M},He=function(M){return R?null:Re(M)},Ve=function(M){return C?null:Re(M)},Ee=function(M){O&&M.stopPropagation()},me=g.useMemo(function(){return function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=D.refKey,ee=M===void 0?"ref":M,re=D.role,se=D.onKeyDown,xe=D.onFocus,ke=D.onBlur,De=D.onClick,ot=D.onDragEnter,it=D.onDragOver,We=D.onDragLeave,st=D.onDrop,Be=jt(D,Yo);return Q(Q(ln({onKeyDown:He(Pe(se,rt)),onFocus:He(Pe(xe,vt)),onBlur:He(Pe(ke,pe)),onClick:Re(Pe(De,at)),onDragEnter:Ve(Pe(ot,$)),onDragOver:Ve(Pe(it,ie)),onDragLeave:Ve(Pe(We,de)),onDrop:Ve(Pe(st,ze)),role:typeof re=="string"&&re!==""?re:"presentation"},ee,z),!r&&!R?{tabIndex:0}:{}),Be)}},[z,rt,vt,pe,at,$,ie,de,ze,R,C,r]),xt=g.useCallback(function(D){D.stopPropagation()},[]),Se=g.useMemo(function(){return function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},M=D.refKey,ee=M===void 0?"ref":M,re=D.onChange,se=D.onClick,xe=jt(D,Xo),ke=ln({accept:V,multiple:i,type:"file",style:{display:"none"},onChange:Re(Pe(re,ze)),onClick:Re(Pe(se,xt)),tabIndex:-1},ee,U);return Q(Q({},ke),xe)}},[U,n,i,ze,r]);return Q(Q({},te),{},{isFocused:ge&&!r,getRootProps:me,getInputProps:Se,rootRef:z,inputRef:U,open:Re(A)})}function ri(e,t){switch(t.type){case"focus":return Q(Q({},e),{},{isFocused:!0});case"blur":return Q(Q({},e),{},{isFocused:!1});case"openDialog":return Q(Q({},cn),{},{isFileDialogActive:!0});case"closeDialog":return Q(Q({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Q(Q({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Q(Q({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return Q({},cn);default:return e}}function Un(){}const ai=({open:e,closeModal:t,setTotalRows:n,setData:r})=>{const[a,o]=g.useState(null),[l,i]=g.useState(!1),f=Je(),u=y=>{o(y[0])},h=()=>{o(null)},{getRootProps:v,getInputProps:b,isDragActive:P}=br({onDrop:u,noClick:!!a,noKeyboard:!!a}),w=y=>{if(!y)return s(Ea,{fontSize:"large"});const I=y.type;return I.startsWith("image/")?s(Image,{fontSize:"large"}):I==="application/pdf"?s(_a,{fontSize:"large"}):I==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"?s(Oa,{fontSize:"large"}):s(Aa,{fontSize:"large"})};return F(Bt,{open:e,onClose:t,children:[F(Nt,{style:{cursor:"move"},id:"draggable-dialog-title",children:[s(Fe,{children:"Import Daily Works"}),s(we,{variant:"outlined",color:"primary",onClick:t,sx:{position:"absolute",top:8,right:16,zIndex:0},children:s(fn,{})})]}),F("form",{onSubmit:async y=>{y.preventDefault(),i(!0);const I=new FormData;I.append("file",a);const T=new Promise(async(k,p)=>{try{const R=await fetch(route("dailyWorks.import"),{method:"POST",body:I,headers:{"X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content}}),C=await R.json();R.ok?(r(C.data),n(C.total),k("Daily works imported successfully."),t()):(console.error(C.errors||C.error),p("Failed to import data."))}catch(R){p(`Error: ${R.message||"An unexpected error occurred."}`)}finally{i(!1)}});Me.promise(T,{pending:{render(){return F("div",{style:{display:"flex",alignItems:"center"},children:[s(Vt,{}),s("span",{style:{marginLeft:"8px"},children:"Uploading file ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:f.glassCard.backgroundColor,border:f.glassCard.border,color:f.palette.text.primary}},success:{render({data:k}){return s(oe,{children:k})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:f.glassCard.backgroundColor,border:f.glassCard.border,color:f.palette.text.primary}},error:{render({data:k}){return s(oe,{children:k})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:f.glassCard.backgroundColor,border:f.glassCard.border,color:f.palette.text.primary}}})},children:[s(zt,{children:s(ue,{container:!0,spacing:2,children:s(ue,{item:!0,xs:12,children:F(ce,{...v(),sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"2px dashed #ccc",borderRadius:"8px",padding:"20px",cursor:a?"not-allowed":"pointer","&:hover":{borderColor:a?"#ccc":"#aaa"}},children:[s("input",{...b()}),s(we,{sx:{borderRadius:"50%",backgroundColor:"#f0f0f0","&:hover":{backgroundColor:a?"#f0f0f0":"#e0e0e0",cursor:a?"not-allowed":"pointer"}},disabled:!!a,children:w(a)}),a?F(oe,{children:[F(Fe,{variant:"body1",sx:{marginTop:"10px"},children:[a.name," (",(a.size/1024).toFixed(2)," KB)"]}),s(we,{onClick:h,sx:{marginTop:"10px",backgroundColor:"#f0f0f0","&:hover":{backgroundColor:"#e0e0e0"}},children:s(Ta,{})})]}):s(Fe,{variant:"body1",sx:{marginTop:"10px"},children:"Drag & drop files here, or click to select files"})]})})})}),s(Ht,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:s(gn,{disabled:!a,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:l,startIcon:s(rn,{}),children:"Upload"})})]})]})},oi=["value","referenceDate"],Ge={emptyValue:[null,null],getTodayValue:(e,t,n)=>[kn(e,t,n),kn(e,t,n)],getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=fe(e,oi);const a=t[0]!=null&&r.utils.isValid(t[0]),o=t[1]!=null&&r.utils.isValid(t[1]);if(a&&o)return t;const l=n??ra(r);return[a?t[0]:l,o?t[1]:l]},cleanValue:(e,t)=>t.map(n=>aa(e,n)),areValuesEqual:(e,t,n)=>Rn(e,t[0],n[0])&&Rn(e,t[1],n[1]),isSameError:(e,t)=>t!==null&&e[1]===t[1]&&e[0]===t[0],hasError:e=>e[0]!=null||e[1]!=null,defaultErrorState:[null,null],getTimezone:(e,t)=>{const n=t[0]==null||!e.isValid(t[0])?null:e.getTimezone(t[0]),r=t[1]==null||!e.isValid(t[1])?null:e.getTimezone(t[1]);if(n!=null&&r!=null&&n!==r)throw new Error("MUI X: The timezone of the start and the end date should be the same.");return n??r},setTimezone:(e,t,n)=>[n[0]==null?null:e.setTimezone(n[0],t),n[1]==null?null:e.setTimezone(n[1],t)]};function ii(e){return mt("MuiDateRangePickerToolbar",e)}ht("MuiDateRangePickerToolbar",["root","container"]);const si=["value","rangePosition","onRangePositionChange","toolbarFormat","className","onViewChange","view","views"],li=e=>{const{classes:t}=e;return Qe({root:["root"],container:["container"]},ii,t)},ci=ye(oa,{name:"MuiDateRangePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ui=ye("div",{name:"MuiDateRangePickerToolbar",slot:"Container",overridesResolver:(e,t)=>t.container})({display:"flex"}),di=g.forwardRef(function(t,n){const r=Ze(),a=Te({props:t,name:"MuiDateRangePickerToolbar"}),{value:[o,l],rangePosition:i,onRangePositionChange:f,toolbarFormat:u,className:h}=a,v=fe(a,si),b=Wt(),P=o?r.formatByString(o,u||r.formats.shortDate):b.start,w=l?r.formatByString(l,u||r.formats.shortDate):b.end,S=a,y=li(S);return E.jsx(ci,m({},v,{toolbarTitle:b.dateRangePickerToolbarTitle,isLandscape:!1,className:qe(h,y.root),ownerState:S,ref:n,children:E.jsxs(ui,{className:y.container,children:[E.jsx(_n,{variant:o!==null?"h5":"h6",value:P,selected:i==="start",onClick:()=>f("start")}),E.jsxs(Fe,{variant:"h5",children:["Â ","â€“","Â "]}),E.jsx(_n,{variant:l!==null?"h5":"h6",value:w,selected:i==="end",onClick:()=>f("end")})]})}))});function yr(e,t){const n=Ze(),r=Qn(),a=Te({props:e,name:t}),o=g.useMemo(()=>{var l;return((l=a.localeText)==null?void 0:l.toolbarTitle)==null?a.localeText:m({},a.localeText,{dateRangePickerToolbarTitle:a.localeText.toolbarTitle})},[a.localeText]);return m({},a,{localeText:o,disableFuture:a.disableFuture??!1,disablePast:a.disablePast??!1,minDate:Ot(n,a.minDate,r.minDate),maxDate:Ot(n,a.maxDate,r.maxDate),slots:m({toolbar:di},a.slots)})}const vr=[];let $e=0;for(;$e<64;)vr[$e]=0|Math.sin(++$e%Math.PI)*4294967296;function pi(e){const t=[];let n,r,a,o=unescape(encodeURI(e))+"Â€",l=o.length;const i=[n=1732584193,r=4023233417,~n,~r];for(e=--l/4+2|15,t[--e]=l*8;~l;)t[l>>2]|=o.charCodeAt(l)<<8*l--;for($e=o=0;$e<e;$e+=16){for(l=i;o<64;l=[a=l[3],n+((a=l[0]+[n&r|~n&a,a&n|~a&r,n^r^a,r^(n|~a)][l=o>>4]+vr[o]+~~t[$e|[o,5*o+1,3*o+5,7*o][l]&15])<<(l=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*l+o++%4])|a>>>-l),n,r])n=l[1]|0,r=l[2];for(o=4;o;)i[--o]+=l[o]}for(e="";o<32;)e+=(i[o>>3]>>(1^o++)*4&15).toString(16);return e}const wt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",xr=e=>{let t="",n,r,a,o,l,i,f,u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)o=wt.indexOf(e.charAt(u++)),l=wt.indexOf(e.charAt(u++)),i=wt.indexOf(e.charAt(u++)),f=wt.indexOf(e.charAt(u++)),n=o<<2|l>>4,r=(l&15)<<4|i>>2,a=(i&3)<<6|f,t=t+String.fromCharCode(n),i!=64&&(t=t+String.fromCharCode(r)),f!=64&&(t=t+String.fromCharCode(a));return t},fi=["pro","premium"],gi=["perpetual","annual","subscription"];function nt(e){console.error(["*************************************************************","",...e,"","*************************************************************"].join(`
`))}function hi(){nt(["MUI X: Invalid license key.","","Your MUI X license key format isn't valid. It could be because the license key is missing a character or has a typo.","","To solve the issue, you need to double check that `setLicenseKey()` is called with the right argument","Please check the license key installation https://mui.com/r/x-license-key-installation."])}function mi(){nt(["MUI X: License key plan mismatch.","","Your use of MUI X is not compatible with the plan of your license key. The feature you are trying to use is not included in the plan of your license key. This happens if you try to use `DataGridPremium` with a license key for the Pro plan.","","To solve the issue, you can upgrade your plan from Pro to Premium at https://mui.com/r/x-get-license?scope=premium.","Of if you didn't intend to use Premium features, you can replace the import of `@mui/x-data-grid-premium` with `@mui/x-data-grid-pro`."])}function bi(){nt(["MUI X: Component not included in your license.","","The component you are trying to use is not included in the Pro Plan you purchased.","","Your license is from an old version of the Pro Plan that is only compatible with the `@mui/x-data-grid-pro` and `@mui/x-date-pickers-pro` commercial packages.","","To start using another Pro package, please consider reaching to our sales team to upgrade your license or visit https://mui.com/r/x-get-license to get a new license key."])}function yi({plan:e,packageName:t}){nt(["MUI X: Missing license key.","",`The license key is missing. You might not be allowed to use \`${t}\` which is part of MUI X ${e}.`,"","To solve the issue, you can check the free trial conditions: https://mui.com/r/x-license-trial.","If you are eligible no actions are required. If you are not eligible to the free trial, you need to purchase a license https://mui.com/r/x-get-license or stop using the software immediately."])}function vi({packageName:e}){nt(["MUI X: Expired package version.","",`You have installed a version of \`${e}\` that is outside of the maintenance plan of your license key. By default, commercial licenses provide access to new versions released during the first year after the purchase.`,"","To solve the issue, you can renew your license https://mui.com/r/x-get-license or install an older version of the npm package that is compatible with your license key."])}function xi({plan:e,licenseKey:t,expiryTimestamp:n}){nt(["MUI X: Expired license key.","",`Your annual license key to use MUI X ${e} in non-production environments has expired. If you are seeing this development console message, you might be close to breach the license terms by making direct or indirect changes to the frontend of an app that render a MUI X ${e} component (more details in https://mui.com/r/x-license-annual).`,"","To solve the problem you can either:","","- Renew your license https://mui.com/r/x-get-license and use the new key",`- Stop making changes to code depending directly or indirectly on MUI X ${e}'s APIs`,"","Note that your license is perpetual in production environments with any version released before your license term ends.","",`- License key expiry timestamp: ${new Date(n)}`,`- Installed license key: ${t}`,""])}function Di({plan:e,licenseKey:t,expiryTimestamp:n}){throw new Error(["MUI X: Expired license key.","",`Your annual license key to use MUI X ${e} in non-production environments has expired. If you are seeing this development console message, you might be close to breach the license terms by making direct or indirect changes to the frontend of an app that render a MUI X ${e} component (more details in https://mui.com/r/x-license-annual).`,"","To solve the problem you can either:","","- Renew your license https://mui.com/r/x-get-license and use the new key",`- Stop making changes to code depending directly or indirectly on MUI X ${e}'s APIs`,"","Note that your license is perpetual in production environments with any version released before your license term ends.","",`- License key expiry timestamp: ${new Date(n)}`,`- Installed license key: ${t}`,""].join(`
`))}en.__MUI_LICENSE_INFO__=en.__MUI_LICENSE_INFO__||{key:void 0};class $t{static getLicenseInfo(){return en.__MUI_LICENSE_INFO__}static getLicenseKey(){return $t.getLicenseInfo().key}static setLicenseKey(t){const n=$t.getLicenseInfo();n.key=t}}let X=function(e){return e.NotFound="NotFound",e.Invalid="Invalid",e.ExpiredAnnual="ExpiredAnnual",e.ExpiredAnnualGrace="ExpiredAnnualGrace",e.ExpiredVersion="ExpiredVersion",e.Valid="Valid",e.OutOfScope="OutOfScope",e.NotAvailableInInitialProPlan="NotAvailableInInitialProPlan",e}({});function Ci(e,t){let n;return e.includes("-pro")?n=["pro","premium"]:e.includes("-premium")?n=["premium"]:n=[],n.includes(t)}const Pi=/^.*EXPIRY=([0-9]+),.*$/,wi=["x-data-grid-pro","x-date-pickers-pro"],ki=e=>{let t;try{t=parseInt(e.match(Pi)[1],10),(!t||Number.isNaN(t))&&(t=null)}catch{t=null}return{scope:"pro",licensingModel:"perpetual",expiryTimestamp:t,planVersion:"initial"}},Ri=e=>{const t={scope:null,licensingModel:null,expiryTimestamp:null,planVersion:"initial"};return e.split(",").map(n=>n.split("=")).filter(n=>n.length===2).forEach(([n,r])=>{if(n==="S"&&(t.scope=r),n==="LM"&&(t.licensingModel=r),n==="E"){const a=parseInt(r,10);a&&!Number.isNaN(a)&&(t.expiryTimestamp=a)}n==="PV"&&(t.planVersion=r)}),t},Si=e=>{const t=xr(e);return t.includes("KEYVERSION=1")?ki(t):t.includes("KV=2")?Ri(t):null};function Ii({releaseInfo:e,licenseKey:t,packageName:n}){if(!e)throw new Error("MUI X: The release information is missing. Not able to validate license.");if(!t)return{status:X.NotFound};const r=t.substr(0,32),a=t.substr(32);if(r!==pi(a))return{status:X.Invalid};const o=Si(a);if(o==null)return console.error("MUI X: Error checking license. Key version not found!"),{status:X.Invalid};if(o.licensingModel==null||!gi.includes(o.licensingModel))return console.error("MUI X: Error checking license. Licensing model not found or invalid!"),{status:X.Invalid};if(o.expiryTimestamp==null)return console.error("MUI X: Error checking license. Expiry timestamp not found or invalid!"),{status:X.Invalid};o.licensingModel;{const l=parseInt(xr(e),10);if(Number.isNaN(l))throw new Error("MUI X: The release information is invalid. Not able to validate license.");if(o.expiryTimestamp<l)return{status:X.ExpiredVersion}}return o.scope==null||!fi.includes(o.scope)?(console.error("MUI X: Error checking license. scope not found or invalid!"),{status:X.Invalid}):Ci(n,o.scope)?o.planVersion==="initial"&&o.scope==="pro"&&!wi.includes(n)?{status:X.NotAvailableInInitialProPlan}:{status:X.Valid}:{status:X.OutOfScope}}const Mi=g.createContext({key:void 0}),kt={};function Ut(e,t){const{key:n}=g.useContext(Mi);return g.useMemo(()=>{const r=n??$t.getLicenseKey();if(kt[e]&&kt[e].key===r)return kt[e].licenseVerifier;const a=e.includes("premium")?"Premium":"Pro",o=Ii({releaseInfo:t,licenseKey:r,packageName:e}),l=`@mui/${e}`;return o.status===X.Valid||(o.status===X.Invalid?hi():o.status===X.NotAvailableInInitialProPlan?bi():o.status===X.OutOfScope?mi():o.status===X.NotFound?yi({plan:a,packageName:l}):o.status===X.ExpiredAnnualGrace?xi(m({plan:a},o.meta)):o.status===X.ExpiredAnnual?Di(m({plan:a},o.meta)):o.status===X.ExpiredVersion&&vi({packageName:l})),kt[e]={key:r,licenseVerifier:o},o},[e,t,n])}function Fi(e){switch(e){case X.ExpiredAnnualGrace:case X.ExpiredAnnual:return"MUI X Expired license key";case X.ExpiredVersion:return"MUI X Expired package version";case X.Invalid:return"MUI X Invalid license key";case X.OutOfScope:return"MUI X License key plan mismatch";case X.NotAvailableInInitialProPlan:return"MUI X Product not covered by plan";case X.NotFound:return"MUI X Missing license key";default:throw new Error("Unhandled MUI X license status.")}}function Ti(e){const{packageName:t,releaseInfo:n}=e,r=Ut(t,n);return r.status===X.Valid?null:E.jsx("div",{style:{position:"absolute",pointerEvents:"none",color:"#8282829e",zIndex:1e5,width:"100%",textAlign:"center",bottom:"50%",right:0,letterSpacing:5,fontSize:24},children:Fi(r.status)})}const Kt=()=>"MTcyMzc1NTYwMDAwMA==",Ei=e=>mt("MuiDateRangeCalendar",e),Kn=ht("MuiDateRangeCalendar",["root","monthContainer","dayDragging"]),yt=(e,t)=>!!(t&&t[0]&&t[1]&&!e.isBefore(t[1],t[0])),Jt=(e,t,n)=>yt(e,n)&&e.isWithinRange(t,n),It=(e,t,n)=>yt(e,n)&&e.isSameDay(t,n[0]),ct=(e,t,n)=>yt(e,n)&&e.isSameDay(t,n[1]);function un({utils:e,range:t,newDate:n,rangePosition:r,allowRangeFlip:a=!1,shouldMergeDateAndTime:o=!1}){const[l,i]=t;if(o&&n&&(l&&r==="start"&&(n=Sn(e,n,l)),i&&r==="end"&&(n=Sn(e,n,i))),r==="start"){const u=a?{nextSelection:"start",newRange:[i,n]}:{nextSelection:"end",newRange:[n,null]};return i&&e.isAfter(n,i)?u:{nextSelection:"end",newRange:[n,i]}}const f=a?{nextSelection:"end",newRange:[n,l]}:{nextSelection:"end",newRange:[n,null]};return l&&e.isBeforeDay(n,l)?f:{nextSelection:"start",newRange:[l,n]}}function Oi(e){if(e.newDate==null)return[null,null];const[t,n]=e.range,{newRange:r}=un(e);if(!t||!n)return r;const[a,o]=r;return e.rangePosition==="end"?[n,o]:[a,t]}function Ai(e){return mt("MuiDateRangePickerDay",e)}const q=ht("MuiDateRangePickerDay",["root","rangeIntervalDayHighlight","rangeIntervalDayHighlightStart","rangeIntervalDayHighlightEnd","rangeIntervalPreview","rangeIntervalDayPreview","rangeIntervalDayPreviewStart","rangeIntervalDayPreviewEnd","outsideCurrentMonth","startOfMonth","endOfMonth","firstVisibleCell","lastVisibleCell","hiddenDayFiller","day","dayOutsideRangeInterval","dayInsideRangeInterval","notSelectedDate"]),_i=["className","day","outsideCurrentMonth","isEndOfHighlighting","isEndOfPreviewing","isHighlighting","isPreviewing","isStartOfHighlighting","isStartOfPreviewing","selected","isVisuallySelected","sx","draggable","isFirstVisibleCell","isLastVisibleCell"],ji=Kt(),$i=e=>{const{isHighlighting:t,outsideCurrentMonth:n,isStartOfHighlighting:r,isStartOfMonth:a,isEndOfHighlighting:o,isEndOfMonth:l,isPreviewing:i,isStartOfPreviewing:f,isEndOfPreviewing:u,isFirstVisibleCell:h,isLastVisibleCell:v,isHiddenDayFiller:b,selected:P,classes:w}=e;return Qe({root:["root",t&&"rangeIntervalDayHighlight",r&&"rangeIntervalDayHighlightStart",o&&"rangeIntervalDayHighlightEnd",n&&"outsideCurrentMonth",a&&"startOfMonth",l&&"endOfMonth",h&&"firstVisibleCell",v&&"lastVisibleCell",b&&"hiddenDayFiller"],rangeIntervalPreview:["rangeIntervalPreview",i&&"rangeIntervalDayPreview",(f||a)&&"rangeIntervalDayPreviewStart",(u||l)&&"rangeIntervalDayPreviewEnd"],day:["day",!P&&"notSelectedDate",!t&&"dayOutsideRangeInterval",!P&&t&&"dayInsideRangeInterval"]},Ai,w)},Mt={borderTopRightRadius:"50%",borderBottomRightRadius:"50%"},Ft={borderTopLeftRadius:"50%",borderBottomLeftRadius:"50%"},Li=ye("div",{name:"MuiDateRangePickerDay",slot:"Root",overridesResolver:(e,t)=>[{[`&.${q.rangeIntervalDayHighlight}`]:t.rangeIntervalDayHighlight},{[`&.${q.rangeIntervalDayHighlightStart}`]:t.rangeIntervalDayHighlightStart},{[`&.${q.rangeIntervalDayHighlightEnd}`]:t.rangeIntervalDayHighlightEnd},{[`&.${q.firstVisibleCell}`]:t.firstVisibleCell},{[`&.${q.lastVisibleCell}`]:t.lastVisibleCell},{[`&.${q.startOfMonth}`]:t.startOfMonth},{[`&.${q.endOfMonth}`]:t.endOfMonth},{[`&.${q.outsideCurrentMonth}`]:t.outsideCurrentMonth},{[`&.${q.hiddenDayFiller}`]:t.hiddenDayFiller},t.root]})(({theme:e})=>({variants:[{props:{isHiddenDayFiller:!1},style:{[`&:first-of-type .${q.rangeIntervalDayPreview}`]:m({},Ft,{borderLeftColor:(e.vars||e).palette.divider}),[`&:last-of-type .${q.rangeIntervalDayPreview}`]:m({},Mt,{borderRightColor:(e.vars||e).palette.divider})}},{props:{isHiddenDayFiller:!1,isHighlighting:!0},style:{borderRadius:0,color:(e.vars||e).palette.primary.contrastText,backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Kr(e.palette.primary.main,e.palette.action.focusOpacity),"&:first-of-type":Ft,"&:last-of-type":Mt}},{props:({ownerState:{isHiddenDayFiller:t,isStartOfHighlighting:n,isFirstVisibleCell:r}})=>!t&&(n||r),style:m({},Ft,{paddingLeft:0})},{props:({ownerState:{isHiddenDayFiller:t,isEndOfHighlighting:n,isLastVisibleCell:r}})=>!t&&(n||r),style:m({},Mt,{paddingRight:0})}]})),Ni=ye("div",{name:"MuiDateRangePickerDay",slot:"RangeIntervalPreview",overridesResolver:(e,t)=>[{[`&.${q.rangeIntervalDayPreview}`]:t.rangeIntervalDayPreview},{[`&.${q.rangeIntervalDayPreviewStart}`]:t.rangeIntervalDayPreviewStart},{[`&.${q.rangeIntervalDayPreviewEnd}`]:t.rangeIntervalDayPreviewEnd},t.rangeIntervalPreview]})(({theme:e})=>({border:"2px solid transparent",variants:[{props:{isPreviewing:!0,isHiddenDayFiller:!1},style:{borderRadius:0,border:`2px dashed ${(e.vars||e).palette.divider}`,borderLeftColor:"transparent",borderRightColor:"transparent"}},{props:({ownerState:{isPreviewing:t,isHiddenDayFiller:n,isStartOfPreviewing:r,isFirstVisibleCell:a}})=>t&&!n&&(r||a),style:m({borderLeftColor:(e.vars||e).palette.divider},Ft)},{props:({ownerState:{isPreviewing:t,isHiddenDayFiller:n,isEndOfPreviewing:r,isLastVisibleCell:a}})=>t&&!n&&(r||a),style:m({borderRightColor:(e.vars||e).palette.divider},Mt)}]})),zi=ye(ia,{name:"MuiDateRangePickerDay",slot:"Day",overridesResolver:(e,t)=>[{[`&.${q.dayInsideRangeInterval}`]:t.dayInsideRangeInterval},{[`&.${q.dayOutsideRangeInterval}`]:t.dayOutsideRangeInterval},{[`&.${q.notSelectedDate}`]:t.notSelectedDate},t.day]})({transform:"scale(1.1)","& > *":{transform:"scale(0.9)"},variants:[{props:{draggable:!0},style:{cursor:"grab",touchAction:"none"}}]}),Hi=g.forwardRef(function(t,n){const r=Te({props:t,name:"MuiDateRangePickerDay"}),{className:a,day:o,outsideCurrentMonth:l,isHighlighting:i,isPreviewing:f,selected:u=!1,isVisuallySelected:h,sx:v,draggable:b,isFirstVisibleCell:P,isLastVisibleCell:w}=r,S=fe(r,_i);Ut("x-date-pickers-pro",ji);const y=Ze(),I=y.isSameDay(o,y.endOfMonth(o)),T=y.isSameDay(o,y.startOfMonth(o)),k=m({},r,{selected:u,isStartOfMonth:T,isEndOfMonth:I,draggable:b,isFirstVisibleCell:P,isLastVisibleCell:w,isHiddenDayFiller:l&&!S.showDaysOutsideCurrentMonth}),p=$i(k);return E.jsx(Li,{className:qe(p.root,a),ownerState:k,sx:v,children:E.jsx(Ni,{className:p.rangeIntervalPreview,ownerState:k,children:E.jsx(zi,m({},S,{ref:n,disableMargin:!0,day:o,selected:h,outsideCurrentMonth:l,className:p.day,ownerState:k,draggable:b,isFirstVisibleCell:P,isLastVisibleCell:w}))})})}),Vi=g.memo(Hi),Ye=(e,t,n)=>{const r=e.dataset.timestamp;if(!r)return null;const a=+r;return t.date(new Date(a).toISOString(),n)},Wi=e=>e.target.dataset.timestamp===e.dataTransfer.getData("draggingDate"),Dr=e=>e&&(e instanceof HTMLButtonElement&&!e.disabled?e:e.children.length?Dr(e.children[0]):null),Zt=(e,t)=>{var n;if(((n=e.changedTouches)==null?void 0:n.length)===1&&e.touches.length<=1){const r=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY),a=Dr(r);return t&&a===e.changedTouches[0].target?null:a}return null},Bi=({utils:e,setRangeDragDay:t,setIsDragging:n,isDragging:r,onDatePositionChange:a,onDrop:o,disableDragEditing:l,dateRange:i,timezone:f})=>{const u=g.useRef(null);g.useEffect(()=>{u.current=document.createElement("img"),u.current.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},[]);const h=p=>{if(p==null)return!1;const R=!l&&!!i[0]&&!!i[1],C=It(e,p,i),O=ct(e,p,i);return R&&(C||O)},v=ae(p=>{const R=Ye(p.target,e,f);if(!h(R))return;p.stopPropagation(),u.current&&p.dataTransfer.setDragImage(u.current,0,0),t(R),p.dataTransfer.effectAllowed="move",n(!0);const C=p.target.dataset;C.timestamp&&p.dataTransfer.setData("draggingDate",C.timestamp),C.position&&a(C.position)}),b=ae(p=>{const R=Zt(p);if(!R)return;const C=Ye(R,e,f);h(C)&&t(C)}),P=ae(p=>{r&&(p.preventDefault(),p.stopPropagation(),p.dataTransfer.dropEffect="move",t(Ye(p.target,e,f)))}),w=ae(p=>{const R=Zt(p);if(!R)return;const C=Ye(R,e,f);if(C&&t(C),!(R===p.changedTouches[0].target)||!h(C))return;n(!0);const x=p.target.dataset;x.position&&a(x.position)}),S=ae(p=>{r&&(p.preventDefault(),p.stopPropagation())}),y=ae(p=>{r&&(p.preventDefault(),p.stopPropagation(),p.dataTransfer.dropEffect="move")}),I=ae(p=>{if(!r)return;t(null),n(!1);const R=Zt(p,!0);if(!R)return;R.focus();const C=Ye(R,e,f);C&&o(C)}),T=ae(p=>{r&&(p.preventDefault(),p.stopPropagation(),n(!1),t(null))}),k=ae(p=>{if(!r||(p.preventDefault(),p.stopPropagation(),n(!1),t(null),p.currentTarget.focus(),Wi(p)))return;const R=Ye(p.target,e,f);R&&o(R)});return{onDragStart:v,onDragEnter:P,onDragLeave:S,onDragOver:y,onDragEnd:T,onDrop:k,onTouchStart:b,onTouchMove:w,onTouchEnd:I}},Ui=({disableDragEditing:e,utils:t,onDatePositionChange:n,onDrop:r,dateRange:a,timezone:o})=>{const[l,i]=g.useState(!1),[f,u]=g.useState(null),h=ae(P=>{t.isEqual(P,f)||u(P)}),v=g.useMemo(()=>{const[P,w]=a;if(f){if(P&&t.isBefore(f,P))return"start";if(w&&t.isAfter(f,w))return"end"}return null},[a,f,t]),b=Bi({utils:t,onDatePositionChange:n,onDrop:r,setIsDragging:i,isDragging:l,setRangeDragDay:h,disableDragEditing:e,dateRange:a,timezone:o});return g.useMemo(()=>m({isDragging:l,rangeDragDay:f,draggingDatePosition:v},e?{}:b),[l,f,v,e,b])},Dn=(e,t)=>{const[n,r]=Yr({name:"useRangePosition",state:"rangePosition",controlled:e.rangePosition,default:e.defaultRangePosition??"start"}),a=l=>{if((t==null?void 0:t.current)==null)return;const i=t.current.getSections(),f=l==="start"?0:i.length/2;t.current.setSelectedSections(f)},o=ae(l=>{var i;r(l),(i=e.onRangePositionChange)==null||i.call(e,l),a(l)});return{rangePosition:n,onRangePositionChange:o}},Ki=40,Yi=["calendars","month","monthIndex","labelId"],Xi=["format","slots","slotProps","currentMonth","onMonthChange","disableFuture","disablePast","minDate","maxDate","timezone","reduceAnimations","views","view"],Gi=ye(sa)({padding:"12px 16px 4px 16px",display:"flex",alignItems:"center",justifyContent:"space-between"}),qi=g.forwardRef(function(t,n){const r=Ze(),a=Wt(),{calendars:o,month:l,monthIndex:i,labelId:f}=t,u=fe(t,Yi),{format:h,slots:v,slotProps:b,currentMonth:P,onMonthChange:w,disableFuture:S,disablePast:y,minDate:I,maxDate:T,timezone:k}=u,p=fe(u,Xi),R=la(P,{disableFuture:S,maxDate:T,timezone:k}),C=ca(P,{disablePast:y,minDate:I,timezone:k});if(o===1)return E.jsx(ua,m({},u,{labelId:f,ref:n}));const O=()=>w(r.addMonths(P,1),"left"),d=()=>w(r.addMonths(P,-1),"right");return E.jsx(Gi,m({},p,{ref:n,onGoToPrevious:d,onGoToNext:O,isPreviousHidden:i!==0,isPreviousDisabled:C,previousLabel:a.previousMonth,isNextHidden:i!==o-1,isNextDisabled:R,nextLabel:a.nextMonth,slots:v,slotProps:b,labelId:f,children:r.formatByString(l,h??`${r.formats.month} ${r.formats.year}`)}))}),Qi=["value","defaultValue","referenceDate","onChange","className","disableFuture","disablePast","minDate","maxDate","shouldDisableDate","reduceAnimations","onMonthChange","rangePosition","defaultRangePosition","onRangePositionChange","calendars","currentMonthCalendarPosition","slots","slotProps","loading","renderLoading","disableHighlightToday","readOnly","disabled","showDaysOutsideCurrentMonth","dayOfWeekFormatter","disableAutoMonthSwitching","autoFocus","fixedWeekNumber","disableDragEditing","displayWeekNumber","timezone","availableRangePositions","views","view","openTo","onViewChange"],Ji=["isDragging","rangeDragDay","draggingDatePosition"],Zi=Kt(),es=ye("div",{name:"MuiDateRangeCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row"}),ts=ye("div",{name:"MuiDateRangeCalendar",slot:"Container",overridesResolver:(e,t)=>t.monthContainer})(({theme:e})=>({"&:not(:last-of-type)":{borderRight:`1px solid ${(e.vars||e).palette.divider}`}})),ns=(Ki+ma*2)*6,rs=ye(da)(({theme:e})=>({minWidth:312,minHeight:ns,[`&.${Kn.dayDragging}`]:{[`& .${q.day}`]:{cursor:"grabbing"},[`& .${q.root}:not(.${q.rangeIntervalDayHighlightStart}):not(.${q.rangeIntervalDayHighlightEnd}) .${q.day}:not(.${q.notSelectedDate})`]:{opacity:.6}},[`&:not(.${Kn.dayDragging}) .${q.dayOutsideRangeInterval}`]:{"@media (pointer: fine)":{"&:hover":{border:`1px solid ${(e.vars||e).palette.grey[500]}`}}}}));function as(e,t){const n=Ze(),r=Qn(),a=ba(),o=Te({props:e,name:t});return m({},o,{renderLoading:o.renderLoading??(()=>E.jsx("span",{children:"..."})),reduceAnimations:o.reduceAnimations??a,loading:e.loading??!1,disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,openTo:o.openTo??"day",views:o.views??["day"],minDate:Ot(n,o.minDate,r.minDate),maxDate:Ot(n,o.maxDate,r.maxDate),calendars:o.calendars??2,disableDragEditing:o.disableDragEditing??!1,availableRangePositions:o.availableRangePositions??["start","end"]})}const os=e=>{const{classes:t,isDragging:n}=e;return Qe({root:["root"],monthContainer:["monthContainer"],dayCalendar:[n&&"dayDragging"]},Ei,t)},is=g.forwardRef(function(t,n){const r=as(t,"MuiDateRangeCalendar"),a=dn(pa,{defaultMatches:!1}),{value:o,defaultValue:l,referenceDate:i,onChange:f,className:u,disableFuture:h,disablePast:v,minDate:b,maxDate:P,shouldDisableDate:w,reduceAnimations:S,onMonthChange:y,rangePosition:I,defaultRangePosition:T,onRangePositionChange:k,calendars:p,currentMonthCalendarPosition:R=1,slots:C,slotProps:O,loading:d,renderLoading:x,disableHighlightToday:V,readOnly:W,disabled:K,showDaysOutsideCurrentMonth:Y,dayOfWeekFormatter:z,disableAutoMonthSwitching:U,autoFocus:L,fixedWeekNumber:H,disableDragEditing:te,displayWeekNumber:j,timezone:ge,availableRangePositions:le,views:he,view:N,openTo:B,onViewChange:ne}=r,Z=fe(r,Qi),{value:$,handleValueChange:ie,timezone:de}=Jn({name:"DateRangeCalendar",timezone:ge,value:o,defaultValue:l,onChange:f,valueManager:Ge}),{setValueAndGoToNextView:Ne,view:ze}=fa({view:N,views:he,openTo:B,onChange:ie,onViewChange:ne,autoFocus:L}),A=Ze(),rt=ga(de),vt=Gn(),{rangePosition:pe,onRangePositionChange:at}=Dn({rangePosition:I,defaultRangePosition:T,onRangePositionChange:k}),Re=ae(_=>{pe!==_&&at(_)}),He=ae((_,G,ve=!1)=>{const{nextSelection:Ce,newRange:Ke}=un({newDate:_,utils:A,range:$,rangePosition:pe,allowRangeFlip:ve,shouldMergeDateAndTime:!0}),Ae=le.includes(Ce);Ae&&at(Ce);const Ie=pe==="end"&&yt(A,Ke);Ne(Ke,Ie||!Ae?"finish":"partial",ze)}),Ve=ae(_=>{He(_,void 0,!0)}),Ee=te||K||W,me=g.useMemo(()=>[$[0]==null||!A.isValid($[0])?$[0]:A.startOfDay($[0]),$[1]==null||!A.isValid($[1])?$[1]:A.endOfDay($[1])],[$,A]),xt=Ui({disableDragEditing:Ee,onDrop:Ve,onDatePositionChange:Re,utils:A,dateRange:me,timezone:de}),{isDragging:Se,rangeDragDay:D,draggingDatePosition:M}=xt,ee=fe(xt,Ji),re=m({},r,{isDragging:Se}),se=os(re),xe=g.useMemo(()=>{if(!me[0]||!me[1]||!D)return[null,null];const _=un({utils:A,range:me,newDate:D,rangePosition:pe,allowRangeFlip:!0}).newRange;return _[0]!==null&&_[1]!==null?[A.startOfDay(_[0]),A.endOfDay(_[1])]:_},[pe,D,A,me]),ke=g.useMemo(()=>{if(w)return _=>w(_,M||pe)},[w,pe,M]),{calendarState:De,changeFocusedDay:ot,changeMonth:it,handleChangeMonth:We,onMonthSwitchingAnimationEnd:st}=ha({value:$[0]||$[1],referenceDate:i,disableFuture:h,disablePast:v,disableSwitchToMonthOnDayFocus:!0,maxDate:P,minDate:b,onMonthChange:y,reduceAnimations:S,shouldDisableDate:ke,timezone:de}),Be=(C==null?void 0:C.calendarHeader)??qi,lt=je({elementType:Be,externalSlotProps:O==null?void 0:O.calendarHeader,additionalProps:{calendars:p,views:["day"],view:"day",currentMonth:De.currentMonth,onMonthChange:(_,G)=>We({newMonth:_,direction:G}),minDate:b,maxDate:P,disabled:K,disablePast:v,disableFuture:h,reduceAnimations:S,timezone:de,slots:C,slotProps:O},ownerState:r}),Oe=g.useRef(null);g.useEffect(()=>{var Ae,Ie;const _=pe==="start"?$[0]:$[1];if(!_||!A.isValid(_))return;const G=pe==="start"?(Ae=Oe.current)==null?void 0:Ae[0]:(Ie=Oe.current)==null?void 0:Ie[1];if(Oe.current=$,U&&G&&A.isEqual(G,_))return;const ve=p-1,Ce=A.getMonth(De.currentMonth),Ke=A.getMonth(_);if(!A.isSameYear(De.currentMonth,_)||Ke<Ce||Ke>Ce+ve){const Dt=pe==="start"?_:A.addMonths(_,-ve);it(Dt)}},[pe,$]);const Yt={disablePast:v,disableFuture:h,maxDate:P,minDate:b},Sr={disableHighlightToday:V,readOnly:W,disabled:K},[Ir,Xt]=g.useState(null),Mr=g.useMemo(()=>({onMouseLeave:()=>Xt(null)}),[]),Gt=Oi({utils:A,range:me,newDate:Ir,rangePosition:pe}),Fr=ae((_,G)=>{Jt(A,G,me)?Xt(null):Xt(G)}),Tr=m({day:Vi},C),Er=m({},O,{day:_=>{const{day:G}=_,ve=It(A,G,me),Ce=ct(A,G,me),Ae=!Ee&&me[0]&&me[1]&&(ve||Ce);let Ie;ve?Ie="start":Ce&&(Ie="end");const Dt=Se?It(A,G,xe):ve,_r=Se?ct(A,G,xe):Ce;return m({isPreviewing:a?Jt(A,G,Gt):!1,isStartOfPreviewing:a?It(A,G,Gt):!1,isEndOfPreviewing:a?ct(A,G,Gt):!1,isHighlighting:Jt(A,G,Se?xe:me),isStartOfHighlighting:Dt,isEndOfHighlighting:Se?ct(A,G,xe):Ce,onMouseEnter:a?Fr:void 0,isVisuallySelected:_.selected||Se&&(Dt||_r),"data-position":Ie},ee,{draggable:Ae?!0:void 0},Xe(O==null?void 0:O.day,_)??{})}}),Or=g.useMemo(()=>Array.from({length:p}).map((_,G)=>G),[p]),Ue=g.useMemo(()=>{const _=A.addMonths(De.currentMonth,1-R);return Array.from({length:p}).map((G,ve)=>A.addMonths(_,ve))},[A,De.currentMonth,p,R]),Ar=g.useMemo(()=>L?$[0]!=null?Ue.find(_=>A.isSameMonth(_,$[0])):$[1]!=null?Ue.find(_=>A.isSameMonth(_,$[1])):Ue.find(_=>A.isSameMonth(_,rt))??Ue[0]:null,[A,$,Ue,L,rt]);return E.jsxs(es,m({ref:n,className:qe(u,se.root),ownerState:re},Z,{children:[E.jsx(Ti,{packageName:"x-date-pickers-pro",releaseInfo:Zi}),Or.map(_=>{const G=Ue[_],ve=`${vt}-grid-${_}-label`;return E.jsxs(ts,{className:se.monthContainer,children:[E.jsx(Be,m({},lt,{month:G,monthIndex:_,labelId:ve})),E.jsx(rs,m({className:se.dayCalendar},De,Yt,Sr,{onMonthSwitchingAnimationEnd:st,onFocusedDayChange:ot,reduceAnimations:S,selectedDays:$,onSelectedDaysChange:He,currentMonth:G,TransitionProps:Mr,shouldDisableDate:ke,showDaysOutsideCurrentMonth:p===1&&Y,dayOfWeekFormatter:z,loading:d,renderLoading:x,slots:Tr,slotProps:Er,autoFocus:G===Ar,fixedWeekNumber:H,displayWeekNumber:j,timezone:de,gridLabelId:ve}))]},_)})]}))}),Cr=({value:e,defaultValue:t,referenceDate:n,onChange:r,className:a,classes:o,disableFuture:l,disablePast:i,minDate:f,maxDate:u,shouldDisableDate:h,reduceAnimations:v,onMonthChange:b,rangePosition:P,defaultRangePosition:w,onRangePositionChange:S,calendars:y,currentMonthCalendarPosition:I,slots:T,slotProps:k,loading:p,renderLoading:R,disableHighlightToday:C,readOnly:O,disabled:d,showDaysOutsideCurrentMonth:x,dayOfWeekFormatter:V,disableAutoMonthSwitching:W,sx:K,autoFocus:Y,fixedWeekNumber:z,disableDragEditing:U,displayWeekNumber:L,timezone:H,availableRangePositions:te,views:j,view:ge,onViewChange:le})=>E.jsx(is,{value:e,defaultValue:t,referenceDate:n,onChange:r,className:a,classes:o,disableFuture:l,disablePast:i,minDate:f,maxDate:u,shouldDisableDate:h,reduceAnimations:v,onMonthChange:b,rangePosition:P,defaultRangePosition:w,onRangePositionChange:S,calendars:y,currentMonthCalendarPosition:I,slots:T,slotProps:k,loading:p,renderLoading:R,disableHighlightToday:C,readOnly:O,disabled:d,showDaysOutsideCurrentMonth:x,dayOfWeekFormatter:V,disableAutoMonthSwitching:W,sx:K,autoFocus:Y,fixedWeekNumber:z,disableDragEditing:U,displayWeekNumber:L,timezone:H,availableRangePositions:te,view:ge,views:j,onViewChange:le}),ss=["shouldDisableDate"],Lt=({props:e,value:t,adapter:n})=>{const[r,a]=t,{shouldDisableDate:o}=e,l=fe(e,ss),i=[In({adapter:n,value:r,props:m({},l,{shouldDisableDate:f=>!!(o!=null&&o(f,"start"))})}),In({adapter:n,value:a,props:m({},l,{shouldDisableDate:f=>!!(o!=null&&o(f,"end"))})})];return i[0]||i[1]?i:r===null||a===null?[null,null]:yt(n.utils,t)?[null,null]:["invalidRange","invalidRange"]},Yn=(e,t)=>Object.keys(e).reduce((n,r)=>(t.includes(r)||(n[r]=e[r]),n),{}),ls=e=>{const t=g.useRef(null),n=Et(e.unstableEndFieldRef,t),[r,a]=g.useState(e.selectedSections??null),[o,l]=g.useState(null),i=()=>t.current&&t.current.isFieldFocused()?"end":"start",f=ae(v=>{var b;a(v),i()==="start"&&((b=e.onSelectedSectionsChange)==null||b.call(e,v))}),u=ae(v=>{var b;l(v),i()==="end"&&((b=e.onSelectedSectionsChange)==null||b.call(e,v))}),h=i();return{start:{unstableFieldRef:e.unstableStartFieldRef,selectedSections:h==="start"&&e.selectedSections!==void 0?e.selectedSections:r,onSelectedSectionsChange:f},end:{unstableFieldRef:n,selectedSections:h==="end"&&e.selectedSections!==void 0?e.selectedSections:o,onSelectedSectionsChange:u}}},cs=({sharedProps:e,startTextFieldProps:t,unstableStartFieldRef:n,endTextFieldProps:r,unstableEndFieldRef:a})=>{const o=ya(e),l=va(),{value:i,defaultValue:f,format:u,formatDensity:h,shouldRespectLeadingZeros:v,onChange:b,disabled:P,readOnly:w,selectedSections:S,onSelectedSectionsChange:y,timezone:I,enableAccessibleFieldDOMStructure:T,autoFocus:k}=o,{value:p,handleValueChange:R,timezone:C}=Jn({name:"useMultiInputDateRangeField",timezone:I,value:i,defaultValue:f,onChange:b,valueManager:Ge}),O=L=>(H,te)=>{const j=L===0?[H,p[1]]:[p[0],H],ge=m({},te,{validationError:Lt({adapter:l,value:j,props:m({},o,{timezone:C})})});R(j,ge)},d=ae(O(0)),x=ae(O(1)),V=xa(m({},o,{value:p,timezone:C}),Lt,Ge.isSameError,Ge.defaultErrorState),W=ls({selectedSections:S,onSelectedSectionsChange:y,unstableStartFieldRef:n,unstableEndFieldRef:a}),K=m({error:!!V[0]},t,W.start,{disabled:P,readOnly:w,format:u,formatDensity:h,shouldRespectLeadingZeros:v,timezone:C,value:i===void 0?void 0:i[0],defaultValue:f===void 0?void 0:f[0],onChange:d,enableAccessibleFieldDOMStructure:T,autoFocus:k}),Y=m({error:!!V[1]},r,W.end,{format:u,formatDensity:h,shouldRespectLeadingZeros:v,disabled:P,readOnly:w,timezone:C,value:i===void 0?void 0:i[1],defaultValue:f===void 0?void 0:f[1],onChange:x,enableAccessibleFieldDOMStructure:T}),z=Mn(K),U=Mn(Y);return{startDate:Yn(z,["clearable","onClear"]),endDate:Yn(U,["clearable","onClear"])}},us=["slots","slotProps","unstableStartFieldRef","unstableEndFieldRef","className"];ht("MuiMultiInputDateRangeField",["root","separator"]);const ds=e=>mt("MuiMultiInputDateRangeField",e),ps=e=>{const{classes:t}=e;return Qe({root:["root"],separator:["separator"]},ds,t)},fs=ye(g.forwardRef((e,t)=>E.jsx(Xr,m({ref:t,spacing:2,direction:"row",alignItems:"center"},e))),{name:"MuiMultiInputDateRangeField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),gs=ye(Fe,{name:"MuiMultiInputDateRangeField",slot:"Separator",overridesResolver:(e,t)=>t.separator})({lineHeight:"1.4375em"}),Pr=g.forwardRef(function(t,n){const r=Te({props:t,name:"MuiMultiInputDateRangeField"}),{internalProps:a,forwardedProps:o}=Da(r),{slots:l,slotProps:i,unstableStartFieldRef:f,unstableEndFieldRef:u,className:h}=o,v=fe(o,us),b=r,P=ps(b),w=(l==null?void 0:l.root)??fs,S=je({elementType:w,externalSlotProps:i==null?void 0:i.root,externalForwardedProps:v,additionalProps:{ref:n},ownerState:b,className:qe(h,P.root)}),y=(l==null?void 0:l.textField)??(t.enableAccessibleFieldDOMStructure?Ca:be),I=je({elementType:y,externalSlotProps:i==null?void 0:i.textField,ownerState:m({},b,{position:"start"})}),T=je({elementType:y,externalSlotProps:i==null?void 0:i.textField,ownerState:m({},b,{position:"end"})}),k=(l==null?void 0:l.separator)??gs,p=je({elementType:k,externalSlotProps:i==null?void 0:i.separator,additionalProps:{children:` ${a.dateSeparator??"â€“"} `},ownerState:b,className:P.separator}),R=cs({sharedProps:a,startTextFieldProps:I,endTextFieldProps:T,unstableStartFieldRef:f,unstableEndFieldRef:u}),C=Fn(R.startDate),O=Fn(R.endDate);return E.jsxs(w,m({},S,{children:[E.jsx(y,m({fullWidth:!0},C)),E.jsx(k,m({},p)),E.jsx(y,m({fullWidth:!0},O))]}))}),hs=["clearable","onClear"],ms=({wrapperVariant:e,open:t,actions:n,readOnly:r,labelId:a,disableOpenPicker:o,onBlur:l,rangePosition:i,onRangePositionChange:f,localeText:u,pickerSlotProps:h,pickerSlots:v,fieldProps:b,anchorRef:P,currentView:w,initialView:S,onViewChange:y,startFieldRef:I,endFieldRef:T})=>{const k=Wt(),p=Et(b.unstableStartFieldRef,I),R=Et(b.unstableEndFieldRef,T),C=g.useRef(i);g.useEffect(()=>{var H;if(!t)return;const L=i==="start"?I:T;if((H=L.current)==null||H.focusField(),!L.current||!w){C.current=i;return}L.current.setSelectedSections(C.current===i?w:0),C.current=i},[i,t,w,I,T]);const O=L=>{L.stopPropagation(),f("start"),!r&&!o&&n.onOpen(L)},d=L=>{L.stopPropagation(),f("end"),!r&&!o&&n.onOpen(L)},x=()=>{t&&(f("start"),C.current!=="start"&&S&&(y==null||y(S)))},V=()=>{t&&(f("end"),C.current!=="end"&&S&&(y==null||y(S)))},W=m({textField:v==null?void 0:v.textField,root:v==null?void 0:v.fieldRoot,separator:v==null?void 0:v.fieldSeparator},b.slots),K=m({},b.slotProps,{textField:L=>{const H=Xe(h==null?void 0:h.textField,L);let te,j;return L.position==="start"?(te=m({label:(u==null?void 0:u.start)??k.start,onKeyDown:nn(O),onFocus:x,focused:t?i==="start":void 0},!r&&!b.disabled&&{onClick:O},e==="mobile"&&{readOnly:!0}),P&&(j=m({},H==null?void 0:H.InputProps,{ref:P}))):(te=m({label:(u==null?void 0:u.end)??k.end,onKeyDown:nn(d),onFocus:V,focused:t?i==="end":void 0},!r&&!b.disabled&&{onClick:d},e==="mobile"&&{readOnly:!0}),j=H==null?void 0:H.InputProps),m({},a!=null&&{id:`${a}-${L.position}`},te,Xe(h==null?void 0:h.textField,L),{InputProps:j})},root:L=>m({},{onBlur:l},Xe(h==null?void 0:h.fieldRoot,L)),separator:h==null?void 0:h.fieldSeparator}),Y=b,z=fe(Y,hs);return m({},z,{unstableStartFieldRef:p,unstableEndFieldRef:R,slots:W,slotProps:K})},bs=({wrapperVariant:e,open:t,actions:n,readOnly:r,labelId:a,disableOpenPicker:o,label:l,onBlur:i,rangePosition:f,onRangePositionChange:u,startFieldRef:h,endFieldRef:v,pickerSlots:b,pickerSlotProps:P,fieldProps:w,anchorRef:S,currentView:y})=>{const I=Et(w.unstableFieldRef,h,v);g.useEffect(()=>{var d;if(!(!t||!h.current)&&!h.current.isFieldFocused()&&y){const x=h.current.getSections().map(W=>W.type),V=f==="start"?x.indexOf(y):x.lastIndexOf(y);(d=h.current)==null||d.focusField(V)}},[f,t,y,h]);const T=()=>{var W,K;if(!((W=h.current)!=null&&W.isFieldFocused()))return;const d=h.current.getSections(),x=(K=h.current)==null?void 0:K.getActiveSectionIndex(),V=x==null||x<d.length/2?"start":"end";V!=null&&V!==f&&u(V)},k=ae(d=>{var x;setTimeout(T),(x=w.onSelectedSectionsChange)==null||x.call(w,d)}),p=d=>{d.stopPropagation(),!r&&!o&&n.onOpen(d)},R=m({},w.slots,{textField:b==null?void 0:b.textField,clearButton:b==null?void 0:b.clearButton,clearIcon:b==null?void 0:b.clearIcon}),C=m({},w.slotProps,{textField:P==null?void 0:P.textField,clearButton:b==null?void 0:b.clearButton,clearIcon:b==null?void 0:b.clearIcon});return m({},w,{slots:R,slotProps:C,label:l,unstableFieldRef:I,onKeyDown:nn(p,w.onKeyDown),onSelectedSectionsChange:k,onBlur:i,InputProps:m({ref:S},w==null?void 0:w.InputProps),focused:t?!0:void 0},a!=null&&{id:a},e==="mobile"&&{readOnly:!0},!r&&!w.disabled&&{onClick:p})},wr=e=>e.fieldType==="multi-input"?ms(e):bs(e),ys=["props"],vs=Kt(),xs=e=>{let{props:t}=e,n=fe(e,ys);Ut("x-date-pickers-pro",vs);const{slots:r,slotProps:a,className:o,sx:l,format:i,formatDensity:f,enableAccessibleFieldDOMStructure:u,selectedSections:h,onSelectedSectionsChange:v,timezone:b,label:P,inputRef:w,name:S,readOnly:y,disabled:I,autoFocus:T,disableOpenPicker:k,localeText:p,reduceAnimations:R}=t,C=g.useRef(null),O=g.useRef(null),d=g.useRef(null),x=g.useRef(null),V=g.useRef(null),W=g.useRef(t.openTo??null),K=r.field.fieldType??"multi-input",{rangePosition:Y,onRangePositionChange:z}=Dn(t,K==="single-input"?x:void 0),{open:U,actions:L,layoutProps:H,renderCurrentView:te,shouldRestoreFocus:j,fieldProps:ge}=Zn(m({},n,{props:t,wrapperVariant:"desktop",autoFocusView:!1,fieldRef:Y==="start"?x:V,additionalViewProps:{rangePosition:Y,onRangePositionChange:z}}));g.useEffect(()=>{H.view&&(W.current=H.view)},[]);const le=()=>{Pa(()=>{var ie,de;(ie=C.current)!=null&&ie.contains(Tn(document))||(de=d.current)!=null&&de.contains(Tn(document))||L.onDismiss()})},he=r.field,N=je({elementType:he,externalSlotProps:a==null?void 0:a.field,additionalProps:m({},ge,{readOnly:y,disabled:I,className:o,sx:l,format:i,formatDensity:f,enableAccessibleFieldDOMStructure:u,selectedSections:h,onSelectedSectionsChange:v,timezone:b,autoFocus:T&&!t.open,ref:C},K==="single-input"?{inputRef:w,name:S}:{}),ownerState:t}),B=wr({wrapperVariant:"desktop",fieldType:K,open:U,actions:L,readOnly:y,disableOpenPicker:k,label:P,localeText:p,onBlur:le,rangePosition:Y,onRangePositionChange:z,pickerSlotProps:a,pickerSlots:r,fieldProps:N,anchorRef:O,startFieldRef:x,endFieldRef:V,currentView:H.view!==t.openTo?H.view:void 0,initialView:W.current??void 0,onViewChange:H.onViewChange}),ne=m({},a,{tabs:m({},a==null?void 0:a.tabs,{rangePosition:Y,onRangePositionChange:z}),toolbar:m({},a==null?void 0:a.toolbar,{rangePosition:Y,onRangePositionChange:z})}),Z=(r==null?void 0:r.layout)??er;return{renderPicker:()=>E.jsxs(pn,{localeText:p,children:[E.jsx(he,m({},B)),E.jsx(wa,m({role:"tooltip",placement:"bottom-start",containerRef:d,anchorEl:O.current,onBlur:le},L,{open:U,slots:r,slotProps:a,shouldRestoreFocus:j,reduceAnimations:R,children:E.jsx(Z,m({},H,a==null?void 0:a.layout,{slots:r,slotProps:ne,children:te()}))}))]})}},kr=g.forwardRef(function(t,n){var i;const r=yr(t,"MuiDesktopDateRangePicker"),a=m({day:Cr},r.viewRenderers),o=m({},r,{viewRenderers:a,calendars:r.calendars??2,views:["day"],openTo:"day",slots:m({field:Pr},r.slots),slotProps:m({},r.slotProps,{field:f=>{var u;return m({},Xe((u=r.slotProps)==null?void 0:u.field,f),tr(r),{ref:n})},toolbar:m({hidden:!0},(i=r.slotProps)==null?void 0:i.toolbar)})}),{renderPicker:l}=xs({props:o,valueManager:Ge,valueType:"date",validator:Lt});return l()});kr.propTypes={autoFocus:c.bool,calendars:c.oneOf([1,2,3]),className:c.string,closeOnSelect:c.bool,currentMonthCalendarPosition:c.oneOf([1,2,3]),dayOfWeekFormatter:c.func,defaultRangePosition:c.oneOf(["end","start"]),defaultValue:c.arrayOf(c.object),disableAutoMonthSwitching:c.bool,disabled:c.bool,disableDragEditing:c.bool,disableFuture:c.bool,disableHighlightToday:c.bool,disableOpenPicker:c.bool,disablePast:c.bool,displayWeekNumber:c.bool,enableAccessibleFieldDOMStructure:c.any,fixedWeekNumber:c.number,format:c.string,formatDensity:c.oneOf(["dense","spacious"]),inputRef:qn,label:c.node,loading:c.bool,localeText:c.object,maxDate:c.object,minDate:c.object,name:c.string,onAccept:c.func,onChange:c.func,onClose:c.func,onError:c.func,onMonthChange:c.func,onOpen:c.func,onRangePositionChange:c.func,onSelectedSectionsChange:c.func,open:c.bool,rangePosition:c.oneOf(["end","start"]),readOnly:c.bool,reduceAnimations:c.bool,referenceDate:c.object,renderLoading:c.func,selectedSections:c.oneOfType([c.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),c.number]),shouldDisableDate:c.func,showDaysOutsideCurrentMonth:c.bool,slotProps:c.object,slots:c.object,sx:c.oneOfType([c.arrayOf(c.oneOfType([c.func,c.object,c.bool])),c.func,c.object]),timezone:c.string,value:c.arrayOf(c.object),viewRenderers:c.shape({day:c.func})};const Ds=["props"],Cs=Kt(),Ps=e=>{var Z;let{props:t}=e,n=fe(e,Ds);Ut("x-date-pickers-pro",Cs);const{slots:r,slotProps:a,className:o,sx:l,format:i,formatDensity:f,enableAccessibleFieldDOMStructure:u,selectedSections:h,onSelectedSectionsChange:v,timezone:b,label:P,inputRef:w,name:S,readOnly:y,disabled:I,disableOpenPicker:T,localeText:k}=t,p=g.useRef(null),R=g.useRef(null),C=r.field.fieldType??"multi-input",{rangePosition:O,onRangePositionChange:d}=Dn(t,C==="single-input"?p:void 0),x=Gn(),V=Wt(),{open:W,actions:K,layoutProps:Y,renderCurrentView:z,fieldProps:U}=Zn(m({},n,{props:t,wrapperVariant:"mobile",autoFocusView:!0,fieldRef:O==="start"?p:R,additionalViewProps:{rangePosition:O,onRangePositionChange:d}})),L=r.field,H=je({elementType:L,externalSlotProps:a==null?void 0:a.field,additionalProps:m({},U,{readOnly:y??!0,disabled:I,className:o,sx:l,format:i,formatDensity:f,enableAccessibleFieldDOMStructure:u,selectedSections:h,onSelectedSectionsChange:v,timezone:b},C==="single-input"?{inputRef:w,name:S}:{}),ownerState:t}),te=((Z=a==null?void 0:a.toolbar)==null?void 0:Z.hidden)??!1,j=wr({wrapperVariant:"mobile",fieldType:C,open:W,actions:K,readOnly:y,labelId:x,disableOpenPicker:T,label:P,localeText:k,rangePosition:O,onRangePositionChange:d,pickerSlots:r,pickerSlotProps:a,fieldProps:H,startFieldRef:p,endFieldRef:R}),ge=m({},a,{tabs:m({},a==null?void 0:a.tabs,{rangePosition:O,onRangePositionChange:d}),toolbar:m({},a==null?void 0:a.toolbar,{titleId:x,rangePosition:O,onRangePositionChange:d})}),le=(r==null?void 0:r.layout)??er,he=m({},V,k);let N=n.valueType==="date-time"?`${x}-start-toolbar ${x}-end-toolbar`:x;if(te){const $=[];C==="multi-input"?(he.start&&$.push(`${x}-start-label`),he.end&&$.push(`${x}-end-label`)):P!=null&&$.push(`${x}-label`),N=$.length>0?$.join(" "):void 0}const B=m({},a,{mobilePaper:m({"aria-labelledby":N},a==null?void 0:a.mobilePaper)});return{renderPicker:()=>E.jsxs(pn,{localeText:k,children:[E.jsx(L,m({},j)),E.jsx(ka,m({},K,{open:W,slots:r,slotProps:B,children:E.jsx(le,m({},Y,B==null?void 0:B.layout,{slots:r,slotProps:ge,children:z()}))}))]})}},Rr=g.forwardRef(function(t,n){var i;const r=yr(t,"MuiMobileDateRangePicker"),a=m({day:Cr},r.viewRenderers),o=m({},r,{viewRenderers:a,calendars:1,views:["day"],openTo:"day",slots:m({field:Pr},r.slots),slotProps:m({},r.slotProps,{field:f=>{var u;return m({},Xe((u=r.slotProps)==null?void 0:u.field,f),tr(r),{ref:n})},toolbar:m({hidden:!1},(i=r.slotProps)==null?void 0:i.toolbar)})}),{renderPicker:l}=Ps({props:o,valueManager:Ge,valueType:"date",validator:Lt});return l()});Rr.propTypes={autoFocus:c.bool,className:c.string,closeOnSelect:c.bool,currentMonthCalendarPosition:c.oneOf([1,2,3]),dayOfWeekFormatter:c.func,defaultRangePosition:c.oneOf(["end","start"]),defaultValue:c.arrayOf(c.object),disableAutoMonthSwitching:c.bool,disabled:c.bool,disableDragEditing:c.bool,disableFuture:c.bool,disableHighlightToday:c.bool,disableOpenPicker:c.bool,disablePast:c.bool,displayWeekNumber:c.bool,enableAccessibleFieldDOMStructure:c.any,fixedWeekNumber:c.number,format:c.string,formatDensity:c.oneOf(["dense","spacious"]),inputRef:qn,label:c.node,loading:c.bool,localeText:c.object,maxDate:c.object,minDate:c.object,name:c.string,onAccept:c.func,onChange:c.func,onClose:c.func,onError:c.func,onMonthChange:c.func,onOpen:c.func,onRangePositionChange:c.func,onSelectedSectionsChange:c.func,open:c.bool,rangePosition:c.oneOf(["end","start"]),readOnly:c.bool,reduceAnimations:c.bool,referenceDate:c.object,renderLoading:c.func,selectedSections:c.oneOfType([c.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),c.number]),shouldDisableDate:c.func,showDaysOutsideCurrentMonth:c.bool,slotProps:c.object,slots:c.object,sx:c.oneOfType([c.arrayOf(c.oneOfType([c.func,c.object,c.bool])),c.func,c.object]),timezone:c.string,value:c.arrayOf(c.object),viewRenderers:c.shape({day:c.func})};const ws=["desktopModeMediaQuery"],ks=g.forwardRef(function(t,n){const r=Te({props:t,name:"MuiDateRangePicker"}),{desktopModeMediaQuery:a="@media (pointer: fine)"}=r,o=fe(r,ws);return dn(a,{defaultMatches:!0})?E.jsx(kr,m({ref:n},o)):E.jsx(Rr,m({ref:n},o))});Fa.extend(Ra);const Rs=Tt.memo(({auth:e,title:t,allData:n,jurisdictions:r,users:a,reports:o,reports_with_daily_works:l})=>{const i=Je(),[f,u]=g.useState([]),[h,v]=g.useState(!1),[b,P]=g.useState(0),[w,S]=g.useState([]),[y,I]=g.useState(),[T,k]=g.useState(null),[p,R]=g.useState(null),[C,O]=g.useState(""),d=dn(i.breakpoints.down("md")),[x,V]=g.useState(10),[W,K]=g.useState(1),Y=async(N,B,ne)=>{var Z,$;try{const ie=await Xn.get(route("dailyWorks.paginate"),{params:{page:N,perPage:B,search:C,status:ne.status!=="all"?ne.status:"",inCharge:ne.incharge!=="all"?ne.incharge:"",startDate:(Z=ne.startDate)==null?void 0:Z.format("YYYY-MM-DD"),endDate:($=ne.endDate)==null?void 0:$.format("YYYY-MM-DD")}});u(ie.data.data),P(ie.data.total),v(!1)}catch(ie){console.log(ie),Me.error("Failed to fetch data.",{icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,color:i.palette.text.primary}}),v(!1)}},z=()=>{const N=new Promise(async(B,ne)=>{var Z,$;try{const ie=await fetch("/delete-daily-work",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:T,page:W,perPage:x,search:C,status:j.status!=="all"?j.status:"",inCharge:j.incharge!=="all"?j.incharge:"",startDate:(Z=j.startDate)==null?void 0:Z.format("YYYY-MM-DD"),endDate:($=j.endDate)==null?void 0:$.format("YYYY-MM-DD")})}),de=await ie.json();ie.ok?(u(de.data),P(de.total),B("Daily work deleted successfully")):ne(de.error||"Failed to delete task")}catch(ie){console.error("Error deleting task:",ie),ne("An error occurred while deleting the task")}finally{L()}});Me.promise(N,{pending:{render(){return F("div",{style:{display:"flex",alignItems:"center"},children:[s(Vt,{}),s("span",{style:{marginLeft:"8px"},children:"Deleting task..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,color:i.palette.text.primary}},success:{render({data:B}){return s(oe,{children:B})},icon:"ðŸŸ¢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,color:i.palette.text.primary}},error:{render({data:B}){return s(oe,{children:B})},icon:"ðŸ”´",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,color:i.palette.text.primary}}})},U=g.useCallback((N,B)=>{k(N),R(B)},[]),L=g.useCallback(()=>{R(null),k(null)},[]),H=g.useCallback(N=>{R(N)},[]),te=g.useCallback(()=>{R(null)},[]),[j,ge]=g.useState({startDate:null,endDate:null,status:"all",incharge:"all",report:""}),le=g.useCallback((N,B)=>{if(N==="dates"){const[ne,Z]=B;ge($=>({...$,startDate:ne,endDate:Z}))}else ge(ne=>({...ne,[N]:B}))},[]),he=N=>{const B=N.target.value.toLowerCase();O(B)};return g.useEffect(()=>{Y(W,x,j)},[W,x,j,C]),F(oe,{children:[s($r,{title:t}),p==="editDailyWork"&&s(so,{open:p==="editDailyWork",currentRow:y,setData:u,closeModal:te}),p==="deleteDailyWork"&&s(lo,{open:p==="deleteDailyWork",handleClose:L,handleDelete:z,setData:u}),p==="importDailyWorks"&&s(ai,{open:p==="importDailyWorks",closeModal:te,setData:u,setTotalRows:P}),p==="exportDailyWorks"&&s(co,{open:p==="exportDailyWorks",closeModal:te,data:f,users:a}),s(ce,{sx:{display:"flex",justifyContent:"center",p:2},children:s(Gr,{in:!0,children:F(Lr,{children:[s(qr,{title:t,sx:{padding:"24px"},action:F(ce,{display:"flex",gap:2,children:[e.permissions.includes("addTask")&&s(we,{title:"Add Task",color:"primary",id:"showAddModalBtn",children:s(Sa,{})}),e.roles.includes("Administrator")&&s(oe,{children:d?F(oe,{children:[s(we,{title:"Import Daily Works",color:"warning",onClick:()=>H("importDailyWorks"),children:s(rn,{})}),s(we,{title:"Export Daily Works",color:"success",onClick:()=>H("exportDailyWorks"),children:s(tn,{})})]}):F(oe,{children:[s(ut,{title:"Import Daily Works",variant:"outlined",color:"warning",startIcon:s(rn,{}),onClick:()=>H("importDailyWorks"),children:"Import"}),s(ut,{title:"Export Daily Works",variant:"outlined",color:"success",startIcon:s(tn,{}),onClick:()=>H("exportDailyWorks"),children:"Export"})]})})]})}),s(wn,{children:s(ce,{children:F(ue,{container:!0,spacing:2,children:[s(ue,{item:!0,xs:12,sm:6,md:3,children:s(pn,{dateAdapter:Ia,children:s(ce,{display:"flex",alignItems:"center",children:s(ks,{value:[j.startDate,j.endDate],onChange:N=>le("dates",N),localeText:{start:"Start date",end:"End date"},renderInput:(N,B)=>F(oe,{children:[s(be,{...N,fullWidth:!0,size:"small"}),s(ce,{sx:{mx:1},children:" to "}),s(be,{...B,fullWidth:!0,size:"small"})]})})})})}),s(ue,{item:!0,xs:6,sm:4,md:3,children:F(Rt,{fullWidth:!0,children:[s(St,{id:"status-label",children:"Status"}),F(Le,{variant:"outlined",labelId:"status-label",label:"Status",name:"status",value:j.status,onChange:N=>le("status",N.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[s(J,{value:"all",children:"All"}),s(J,{value:"completed",children:"Completed"}),s(J,{value:"new",children:"New"}),s(J,{value:"resubmission",children:"Resubmission"}),s(J,{value:"emergency",children:"Emergency"})]})]})}),e.roles.includes("Administrator")&&s(ue,{item:!0,xs:6,sm:4,md:3,children:F(Rt,{fullWidth:!0,children:[s(St,{id:"incharge-label",children:"Incharge"}),F(Le,{variant:"outlined",labelId:"incharge-label",label:"Incharge",name:"incharge",value:j.incharge,onChange:N=>le("incharge",N.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[s(J,{value:"all",children:"All"}),n.allInCharges.map(N=>s(J,{value:N.id,children:N.name},N.id))]})]})}),s(ue,{item:!0,xs:6,sm:4,md:3,children:F(Rt,{fullWidth:!0,children:[s(St,{id:"report-label",children:"Report"}),s(Le,{variant:"outlined",labelId:"report-label",label:"Report",name:"report",value:j.report,onChange:N=>le("report",N.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:i.glassCard.backgroundColor,border:i.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:s(J,{value:"",disabled:!0,children:"Select Report"})})]})})]})})}),F(wn,{children:[s(be,{label:"Search",fullWidth:!0,variant:"outlined",placeholder:"Search...",value:C,onChange:he,InputProps:{startAdornment:s(Qr,{position:"start",children:s(ir,{})})}}),s(io,{setData:u,filteredData:w,setFilteredData:S,reports:o,setCurrentRow:I,setCurrentPage:K,setPerPage:V,handleClickOpen:U,openModal:H,juniors:n.juniors,totalRows:b,loading:h,data:f,allInCharges:n.allInCharges,jurisdictions:r,users:a,reports_with_daily_works:l})]})]})})})]})});Rs.layout=e=>s(Zr,{children:e});export{Rs as default};
