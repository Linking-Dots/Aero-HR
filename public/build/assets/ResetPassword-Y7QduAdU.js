import{r as c,b as t,j as e,Q as x,t as w}from"./app-B_BKuT4r.js";import{f as n,l as y,d,G as v,c as b,B as s,g as C,A as T}from"./App-CuvBZ5Qe.js";import{C as j}from"./CardContent-BUYHrOJ3.js";import{T as m}from"./TextField-BjlSpsXD.js";import{L as A}from"./LoadingButton-Bft2IuTh.js";import"./app-oK5kS90f.js";import"./create-visual-element-DjqrlLe0.js";import"./Select-C8hbFX5y.js";import"./Popover-B82Oo3Rb.js";import"./List-KuRSzQUH.js";import"./Button-Cm3sf7Ml.js";import"./CircularProgress-CfBEnRkD.js";function _({status:S}){const[a,p]=c.useState({oldPassword:"",newPassword:"",confirmPassword:""}),[o,u]=c.useState({}),[f,h]=c.useState(!1),l=(r,i)=>{p(g=>({...g,[r]:i}))},P=r=>{if(r.preventDefault(),a.newPassword!==a.confirmPassword){u({confirmPassword:"Passwords do not match"});return}u({}),h(!0),post(route("password.update-custom"),{old_password:a.oldPassword,new_password:a.newPassword}).then(i=>{console.log("Password updated successfully")}).catch(i=>{console.error("Password update failed:",i)}).finally(()=>{h(!1)})};return t(T,{children:[e(x,{title:"Reset Password"}),e(s,{sx:{display:"flex",justifyContent:"center",p:2},children:t(n,{container:!0,spacing:2,justifyContent:"center",children:[t(n,{item:!0,xs:12,textAlign:"center",children:[e(w,{style:{alignItems:"center",display:"inline-flex"},href:route("dashboard"),className:"mt-3 d-inline-block auth-logo",children:e("img",{src:y,alt:"Logo",height:"100"})}),e(d,{variant:"h6",className:"mt-3",color:"text.secondary",children:"Daily Task Management"})]}),e(n,{item:!0,xs:12,md:8,lg:6,xl:5,children:e(v,{in:!0,children:e(b,{children:t(j,{children:[t(s,{textAlign:"center",children:[e(d,{variant:"h5",color:"primary",children:"Welcome Back!"}),e(d,{variant:"body2",color:"text.secondary",children:"Sign in to continue"})]}),t(s,{mt:4,children:[t("form",{onSubmit:P,children:[e(s,{mb:3,children:e(m,{label:"Old password",variant:"outlined",type:"password",id:"oldPassword",name:"oldPassword",value:a.oldPassword,onChange:r=>l("oldPassword",r.target.value),required:!0,fullWidth:!0,error:!!o.oldPassword,helperText:o.oldPassword})}),e(s,{mb:3,children:e(m,{label:"New password",variant:"outlined",type:"password",id:"newPassword",name:"newPassword",value:a.newPassword,onChange:r=>l("newPassword",r.target.value),required:!0,fullWidth:!0,error:!!o.newPassword,helperText:o.newPassword})}),e(s,{mb:3,children:e(m,{label:"Confirm password",variant:"outlined",type:"password",id:"confirmPassword",name:"confirmPassword",value:a.confirmPassword,onChange:r=>l("confirmPassword",r.target.value),required:!0,fullWidth:!0,error:!!o.confirmPassword,helperText:o.confirmPassword})}),e(s,{mt:4,children:e(A,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",loading:f,children:"Update Password"})})]}),e(s,{mt:3,textAlign:"center",children:t(d,{variant:"body2",children:["Don't have an account? ",e(w,{href:"/register",children:"Register"})]})})]})]})})})})]})}),e("footer",{children:e(C,{children:e(n,{container:!0,justifyContent:"center",children:e(n,{item:!0,xs:12,textAlign:"center",children:t(d,{variant:"body2",color:"text.secondary",children:["Â© ",new Date().getFullYear()," Emam Hosen. Crafted with ",e("i",{className:"mdi mdi-heart text-danger"})]})})})})})]})}export{_ as default};
