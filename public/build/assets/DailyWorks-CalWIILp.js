import{V as Ar,j,a as i,F as oe,c as Kn,M as Or}from"./app-Bw7OyOXE.js";import{v as jt,w as A,x as $t,A as ft,E as gt,H as me,T as Ee,r as f,ah as Oe,O as de,_ as m,ak as Qe,Q as Ze,f as dt,ay as en,ai as _r,an as ne,am as jr,u as dn,P as Yn,ag as Ve,ap as Ge,ao as It,az as $r,b as he,aq as l,ar as Xn,j as Je,as as Lr,t as ht,X as Nr,B as De,R as Mt,c as ke,W as Lt,G as ue,F as Vr,k as zr,S as Hr,M as Le,U as Wr,Y as Nt,Z as Vt,$ as Br,m as Ur,n as Kr,o as xn,p as xt,q as Yr,a1 as Xr,e as Gr,g as qr,a as Cn,I as Qr}from"./vendor-NWo0Aqws.js";import{r as zt,d as Zr,B as Ae,ai as et,aj as tt,ak as Pn,al as wn,G as Jr,A as ea}from"./App-DAbC9g-s.js";import{X as ta,m as na,A as ra}from"./minMax-D6I9KjnT.js";import{d as aa}from"./Delete-DbRFhjBt.js";import{L as oa,U as tn}from"./Loader-CyX_jcAb.js";import{l as ve,s as ut}from"./chunk-QEQ4EHOG-D4FXToi5.js";import{u as Gt}from"./chunk-TLBGAR4N-AOS6EVjL.js";import{d as ia}from"./dayjs.min-DT4YyDnT.js";import{d as pn,G as Ht}from"./GlassDialog-CFgpSzP_.js";import{L as fn}from"./LoadingButton-DaqKJsDR.js";import{u as qt,w as sa}from"./xlsx-DjuO7_Ju.js";import{D as nn}from"./Download-BoMJemA4.js";import{d as la,p as ca}from"./Search-JsBYSYgc.js";import{C as ua}from"./Clear-DkTU0NKX.js";import{I as da,J as kn,K as pa,N as fa,O as Rn,q as ga,e as nt,u as Wt,f as Gn,h as Ft,n as Sn,Q as ha,R as ma,T as ba,U as ya,l as va,o as Da,G as xa,b as qn,j as Ca,d as Pa,k as wa,W as ka,p as Ra,B as In,X as Sa,Y as Ia,Z as Ma,a as Mn,_ as Fa,P as Ta,c as Fn,E as rn,v as Qn,w as Zn,$ as Ea,L as gn,x as Aa,a0 as Tn,A as Jn,F as Oa,H as _a}from"./AdapterDayjs-C5XEEeb8.js";import"./DOMLayoutDelegate-DkH__WjS.js";import"./useLabel-DKxsVhT3.js";import"./chunk-NCVCYSZZ-BjLkFKh7.js";import"./chunk-CAFRINWI-CcU5yOMx.js";import"./isBetween-B9SoXXPH.js";const ja=jt(A.jsx("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),$a=jt(A.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description"),La=jt(A.jsx("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm7 7V3.5L18.5 9z"}),"InsertDriveFile"),Na=jt(A.jsx("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-8.5 7.5c0 .83-.67 1.5-1.5 1.5H9v2H7.5V7H10c.83 0 1.5.67 1.5 1.5zm5 2c0 .83-.67 1.5-1.5 1.5h-2.5V7H15c.83 0 1.5.67 1.5 1.5zm4-3H19v1h1.5V11H19v2h-1.5V7h3zM9 9.5h1v-1H9zM4 6H2v14c0 1.1.9 2 2 2h14v-2H4zm10 5.5h1v-3h-1z"}),"PictureAsPdf");var hn={},Va=$t;Object.defineProperty(hn,"__esModule",{value:!0});var er=hn.default=void 0,za=Va(zt()),Ha=A;er=hn.default=(0,za.default)((0,Ha.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle");var mn={},Wa=$t;Object.defineProperty(mn,"__esModule",{value:!0});var tr=mn.default=void 0,Ba=Wa(zt()),Ua=A;tr=mn.default=(0,Ba.default)((0,Ua.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2M8.5 15H7.3l-2.55-3.5V15H3.5V9h1.25l2.5 3.5V9H8.5zm5-4.74H11v1.12h2.5v1.26H11v1.11h2.5V15h-4V9h4zm7 3.74c0 .55-.45 1-1 1h-4c-.55 0-1-.45-1-1V9h1.25v4.51h1.13V9.99h1.25v3.51h1.12V9h1.25z"}),"FiberNew");var bn={},Ka=$t;Object.defineProperty(bn,"__esModule",{value:!0});var nr=bn.default=void 0,Ya=Ka(zt()),Xa=A;nr=bn.default=(0,Ya.default)((0,Xa.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8"}),"Replay");var yn={},Ga=$t;Object.defineProperty(yn,"__esModule",{value:!0});var rr=yn.default=void 0,qa=Ga(zt()),Qa=A;rr=yn.default=(0,qa.default)((0,Qa.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-2h2zm0-4h-2V7h2z"}),"Error");function Za(e){return gt("MuiPickersToolbarText",e)}const En=ft("MuiPickersToolbarText",["root","selected"]),Ja=["className","selected","value"],eo=e=>{const{classes:t,selected:n}=e;return Ze({root:["root",n&&"selected"]},Za,t)},to=me(Ee,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${En.selected}`]:t.selected}]})(({theme:e})=>({transition:e.transitions.create("color"),color:(e.vars||e).palette.text.secondary,[`&.${En.selected}`]:{color:(e.vars||e).palette.text.primary}})),no=f.forwardRef(function(t,n){const r=Oe({props:t,name:"MuiPickersToolbarText"}),{className:a,value:o}=r,c=de(r,Ja),s=eo(r);return A.jsx(to,m({ref:n,className:Qe(a,s.root),component:"span"},c,{children:o}))}),ro=["align","className","selected","typographyClassName","value","variant","width"],ao=e=>{const{classes:t}=e;return Ze({root:["root"]},da,t)},oo=me(dt,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:0,minWidth:16,textTransform:"none"}),An=f.forwardRef(function(t,n){const r=Oe({props:t,name:"MuiPickersToolbarButton"}),{align:a,className:o,selected:c,typographyClassName:s,value:p,variant:b,width:g}=r,v=de(r,ro),h=ao(r);return A.jsx(oo,m({variant:"text",ref:n,className:Qe(o,h.root)},g?{sx:{width:g}}:{},v,{children:A.jsx(no,{align:a,className:s,variant:b,value:p,selected:c})}))}),io=["value","referenceDate"],qe={emptyValue:[null,null],getTodayValue:(e,t,n)=>[kn(e,t,n),kn(e,t,n)],getInitialReferenceValue:e=>{let{value:t,referenceDate:n}=e,r=de(e,io);const a=t[0]!=null&&r.utils.isValid(t[0]),o=t[1]!=null&&r.utils.isValid(t[1]);if(a&&o)return t;const c=n??pa(r);return[a?t[0]:c,o?t[1]:c]},cleanValue:(e,t)=>t.map(n=>fa(e,n)),areValuesEqual:(e,t,n)=>Rn(e,t[0],n[0])&&Rn(e,t[1],n[1]),isSameError:(e,t)=>t!==null&&e[1]===t[1]&&e[0]===t[0],hasError:e=>e[0]!=null||e[1]!=null,defaultErrorState:[null,null],getTimezone:(e,t)=>{const n=t[0]==null||!e.isValid(t[0])?null:e.getTimezone(t[0]),r=t[1]==null||!e.isValid(t[1])?null:e.getTimezone(t[1]);if(n!=null&&r!=null&&n!==r)throw new Error("MUI X: The timezone of the start and the end date should be the same.");return n??r},setTimezone:(e,t,n)=>[n[0]==null?null:e.setTimezone(n[0],t),n[1]==null?null:e.setTimezone(n[1],t)]};function so(e){return gt("MuiDateRangePickerToolbar",e)}ft("MuiDateRangePickerToolbar",["root","container"]);const lo=["value","rangePosition","onRangePositionChange","toolbarFormat","className","onViewChange","view","views"],co=e=>{const{classes:t}=e;return Ze({root:["root"],container:["container"]},so,t)},uo=me(ga,{name:"MuiDateRangePickerToolbar",slot:"Root",overridesResolver:(e,t)=>t.root})({}),po=me("div",{name:"MuiDateRangePickerToolbar",slot:"Container",overridesResolver:(e,t)=>t.container})({display:"flex"}),fo=f.forwardRef(function(t,n){const r=nt(),a=Oe({props:t,name:"MuiDateRangePickerToolbar"}),{value:[o,c],rangePosition:s,onRangePositionChange:p,toolbarFormat:b,className:g}=a,v=de(a,lo),h=Wt(),y=o?r.formatByString(o,b||r.formats.shortDate):h.start,P=c?r.formatByString(c,b||r.formats.shortDate):h.end,T=a,w=co(T);return A.jsx(uo,m({},v,{toolbarTitle:h.dateRangePickerToolbarTitle,isLandscape:!1,className:Qe(g,w.root),ownerState:T,ref:n,children:A.jsxs(po,{className:w.container,children:[A.jsx(An,{variant:o!==null?"h5":"h6",value:y,selected:s==="start",onClick:()=>p("start")}),A.jsxs(Ee,{variant:"h5",children:[" ","–"," "]}),A.jsx(An,{variant:c!==null?"h5":"h6",value:P,selected:s==="end",onClick:()=>p("end")})]})}))});function ar(e,t){const n=nt(),r=Gn(),a=Oe({props:e,name:t}),o=f.useMemo(()=>{var c;return((c=a.localeText)==null?void 0:c.toolbarTitle)==null?a.localeText:m({},a.localeText,{dateRangePickerToolbarTitle:a.localeText.toolbarTitle})},[a.localeText]);return m({},a,{localeText:o,disableFuture:a.disableFuture??!1,disablePast:a.disablePast??!1,minDate:Ft(n,a.minDate,r.minDate),maxDate:Ft(n,a.maxDate,r.maxDate),slots:m({toolbar:fo},a.slots)})}const or=[];let ze=0;for(;ze<64;)or[ze]=0|Math.sin(++ze%Math.PI)*4294967296;function go(e){const t=[];let n,r,a,o=unescape(encodeURI(e))+"",c=o.length;const s=[n=1732584193,r=4023233417,~n,~r];for(e=--c/4+2|15,t[--e]=c*8;~c;)t[c>>2]|=o.charCodeAt(c)<<8*c--;for(ze=o=0;ze<e;ze+=16){for(c=s;o<64;c=[a=c[3],n+((a=c[0]+[n&r|~n&a,a&n|~a&r,n^r^a,r^(n|~a)][c=o>>4]+or[o]+~~t[ze|[o,5*o+1,3*o+5,7*o][c]&15])<<(c=[7,12,17,22,5,9,14,20,4,11,16,23,6,10,15,21][4*c+o++%4])|a>>>-c),n,r])n=c[1]|0,r=c[2];for(o=4;o;)s[--o]+=c[o]}for(e="";o<32;)e+=(s[o>>3]>>(1^o++)*4&15).toString(16);return e}const Ct="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ir=e=>{let t="",n,r,a,o,c,s,p,b=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");b<e.length;)o=Ct.indexOf(e.charAt(b++)),c=Ct.indexOf(e.charAt(b++)),s=Ct.indexOf(e.charAt(b++)),p=Ct.indexOf(e.charAt(b++)),n=o<<2|c>>4,r=(c&15)<<4|s>>2,a=(s&3)<<6|p,t=t+String.fromCharCode(n),s!=64&&(t=t+String.fromCharCode(r)),p!=64&&(t=t+String.fromCharCode(a));return t},ho=["pro","premium"],mo=["perpetual","annual","subscription"];function rt(e){console.error(["*************************************************************","",...e,"","*************************************************************"].join(`
`))}function bo(){rt(["MUI X: Invalid license key.","","Your MUI X license key format isn't valid. It could be because the license key is missing a character or has a typo.","","To solve the issue, you need to double check that `setLicenseKey()` is called with the right argument","Please check the license key installation https://mui.com/r/x-license-key-installation."])}function yo(){rt(["MUI X: License key plan mismatch.","","Your use of MUI X is not compatible with the plan of your license key. The feature you are trying to use is not included in the plan of your license key. This happens if you try to use `DataGridPremium` with a license key for the Pro plan.","","To solve the issue, you can upgrade your plan from Pro to Premium at https://mui.com/r/x-get-license?scope=premium.","Of if you didn't intend to use Premium features, you can replace the import of `@mui/x-data-grid-premium` with `@mui/x-data-grid-pro`."])}function vo(){rt(["MUI X: Component not included in your license.","","The component you are trying to use is not included in the Pro Plan you purchased.","","Your license is from an old version of the Pro Plan that is only compatible with the `@mui/x-data-grid-pro` and `@mui/x-date-pickers-pro` commercial packages.","","To start using another Pro package, please consider reaching to our sales team to upgrade your license or visit https://mui.com/r/x-get-license to get a new license key."])}function Do({plan:e,packageName:t}){rt(["MUI X: Missing license key.","",`The license key is missing. You might not be allowed to use \`${t}\` which is part of MUI X ${e}.`,"","To solve the issue, you can check the free trial conditions: https://mui.com/r/x-license-trial.","If you are eligible no actions are required. If you are not eligible to the free trial, you need to purchase a license https://mui.com/r/x-get-license or stop using the software immediately."])}function xo({packageName:e}){rt(["MUI X: Expired package version.","",`You have installed a version of \`${e}\` that is outside of the maintenance plan of your license key. By default, commercial licenses provide access to new versions released during the first year after the purchase.`,"","To solve the issue, you can renew your license https://mui.com/r/x-get-license or install an older version of the npm package that is compatible with your license key."])}function Co({plan:e,licenseKey:t,expiryTimestamp:n}){rt(["MUI X: Expired license key.","",`Your annual license key to use MUI X ${e} in non-production environments has expired. If you are seeing this development console message, you might be close to breach the license terms by making direct or indirect changes to the frontend of an app that render a MUI X ${e} component (more details in https://mui.com/r/x-license-annual).`,"","To solve the problem you can either:","","- Renew your license https://mui.com/r/x-get-license and use the new key",`- Stop making changes to code depending directly or indirectly on MUI X ${e}'s APIs`,"","Note that your license is perpetual in production environments with any version released before your license term ends.","",`- License key expiry timestamp: ${new Date(n)}`,`- Installed license key: ${t}`,""])}function Po({plan:e,licenseKey:t,expiryTimestamp:n}){throw new Error(["MUI X: Expired license key.","",`Your annual license key to use MUI X ${e} in non-production environments has expired. If you are seeing this development console message, you might be close to breach the license terms by making direct or indirect changes to the frontend of an app that render a MUI X ${e} component (more details in https://mui.com/r/x-license-annual).`,"","To solve the problem you can either:","","- Renew your license https://mui.com/r/x-get-license and use the new key",`- Stop making changes to code depending directly or indirectly on MUI X ${e}'s APIs`,"","Note that your license is perpetual in production environments with any version released before your license term ends.","",`- License key expiry timestamp: ${new Date(n)}`,`- Installed license key: ${t}`,""].join(`
`))}en.__MUI_LICENSE_INFO__=en.__MUI_LICENSE_INFO__||{key:void 0};class Tt{static getLicenseInfo(){return en.__MUI_LICENSE_INFO__}static getLicenseKey(){return Tt.getLicenseInfo().key}static setLicenseKey(t){const n=Tt.getLicenseInfo();n.key=t}}let K=function(e){return e.NotFound="NotFound",e.Invalid="Invalid",e.ExpiredAnnual="ExpiredAnnual",e.ExpiredAnnualGrace="ExpiredAnnualGrace",e.ExpiredVersion="ExpiredVersion",e.Valid="Valid",e.OutOfScope="OutOfScope",e.NotAvailableInInitialProPlan="NotAvailableInInitialProPlan",e}({});function wo(e,t){let n;return e.includes("-pro")?n=["pro","premium"]:e.includes("-premium")?n=["premium"]:n=[],n.includes(t)}const ko=/^.*EXPIRY=([0-9]+),.*$/,Ro=["x-data-grid-pro","x-date-pickers-pro"],So=e=>{let t;try{t=parseInt(e.match(ko)[1],10),(!t||Number.isNaN(t))&&(t=null)}catch{t=null}return{scope:"pro",licensingModel:"perpetual",expiryTimestamp:t,planVersion:"initial"}},Io=e=>{const t={scope:null,licensingModel:null,expiryTimestamp:null,planVersion:"initial"};return e.split(",").map(n=>n.split("=")).filter(n=>n.length===2).forEach(([n,r])=>{if(n==="S"&&(t.scope=r),n==="LM"&&(t.licensingModel=r),n==="E"){const a=parseInt(r,10);a&&!Number.isNaN(a)&&(t.expiryTimestamp=a)}n==="PV"&&(t.planVersion=r)}),t},Mo=e=>{const t=ir(e);return t.includes("KEYVERSION=1")?So(t):t.includes("KV=2")?Io(t):null};function Fo({releaseInfo:e,licenseKey:t,packageName:n}){if(!e)throw new Error("MUI X: The release information is missing. Not able to validate license.");if(!t)return{status:K.NotFound};const r=t.substr(0,32),a=t.substr(32);if(r!==go(a))return{status:K.Invalid};const o=Mo(a);if(o==null)return console.error("MUI X: Error checking license. Key version not found!"),{status:K.Invalid};if(o.licensingModel==null||!mo.includes(o.licensingModel))return console.error("MUI X: Error checking license. Licensing model not found or invalid!"),{status:K.Invalid};if(o.expiryTimestamp==null)return console.error("MUI X: Error checking license. Expiry timestamp not found or invalid!"),{status:K.Invalid};o.licensingModel;{const c=parseInt(ir(e),10);if(Number.isNaN(c))throw new Error("MUI X: The release information is invalid. Not able to validate license.");if(o.expiryTimestamp<c)return{status:K.ExpiredVersion}}return o.scope==null||!ho.includes(o.scope)?(console.error("MUI X: Error checking license. scope not found or invalid!"),{status:K.Invalid}):wo(n,o.scope)?o.planVersion==="initial"&&o.scope==="pro"&&!Ro.includes(n)?{status:K.NotAvailableInInitialProPlan}:{status:K.Valid}:{status:K.OutOfScope}}const To=f.createContext({key:void 0}),Pt={};function Bt(e,t){const{key:n}=f.useContext(To);return f.useMemo(()=>{const r=n??Tt.getLicenseKey();if(Pt[e]&&Pt[e].key===r)return Pt[e].licenseVerifier;const a=e.includes("premium")?"Premium":"Pro",o=Fo({releaseInfo:t,licenseKey:r,packageName:e}),c=`@mui/${e}`;return o.status===K.Valid||(o.status===K.Invalid?bo():o.status===K.NotAvailableInInitialProPlan?vo():o.status===K.OutOfScope?yo():o.status===K.NotFound?Do({plan:a,packageName:c}):o.status===K.ExpiredAnnualGrace?Co(m({plan:a},o.meta)):o.status===K.ExpiredAnnual?Po(m({plan:a},o.meta)):o.status===K.ExpiredVersion&&xo({packageName:c})),Pt[e]={key:r,licenseVerifier:o},o},[e,t,n])}function Eo(e){switch(e){case K.ExpiredAnnualGrace:case K.ExpiredAnnual:return"MUI X Expired license key";case K.ExpiredVersion:return"MUI X Expired package version";case K.Invalid:return"MUI X Invalid license key";case K.OutOfScope:return"MUI X License key plan mismatch";case K.NotAvailableInInitialProPlan:return"MUI X Product not covered by plan";case K.NotFound:return"MUI X Missing license key";default:throw new Error("Unhandled MUI X license status.")}}function Ao(e){const{packageName:t,releaseInfo:n}=e,r=Bt(t,n);return r.status===K.Valid?null:A.jsx("div",{style:{position:"absolute",pointerEvents:"none",color:"#8282829e",zIndex:1e5,width:"100%",textAlign:"center",bottom:"50%",right:0,letterSpacing:5,fontSize:24},children:Eo(r.status)})}const Ut=()=>"MTcyMzc1NTYwMDAwMA==",Oo=e=>gt("MuiDateRangeCalendar",e),On=ft("MuiDateRangeCalendar",["root","monthContainer","dayDragging"]),mt=(e,t)=>!!(t&&t[0]&&t[1]&&!e.isBefore(t[1],t[0])),Qt=(e,t,n)=>mt(e,n)&&e.isWithinRange(t,n),kt=(e,t,n)=>mt(e,n)&&e.isSameDay(t,n[0]),ct=(e,t,n)=>mt(e,n)&&e.isSameDay(t,n[1]);function an({utils:e,range:t,newDate:n,rangePosition:r,allowRangeFlip:a=!1,shouldMergeDateAndTime:o=!1}){const[c,s]=t;if(o&&n&&(c&&r==="start"&&(n=Sn(e,n,c)),s&&r==="end"&&(n=Sn(e,n,s))),r==="start"){const b=a?{nextSelection:"start",newRange:[s,n]}:{nextSelection:"end",newRange:[n,null]};return s&&e.isAfter(n,s)?b:{nextSelection:"end",newRange:[n,s]}}const p=a?{nextSelection:"end",newRange:[n,c]}:{nextSelection:"end",newRange:[n,null]};return c&&e.isBeforeDay(n,c)?p:{nextSelection:"start",newRange:[c,n]}}function _o(e){if(e.newDate==null)return[null,null];const[t,n]=e.range,{newRange:r}=an(e);if(!t||!n)return r;const[a,o]=r;return e.rangePosition==="end"?[n,o]:[a,t]}function jo(e){return gt("MuiDateRangePickerDay",e)}const Q=ft("MuiDateRangePickerDay",["root","rangeIntervalDayHighlight","rangeIntervalDayHighlightStart","rangeIntervalDayHighlightEnd","rangeIntervalPreview","rangeIntervalDayPreview","rangeIntervalDayPreviewStart","rangeIntervalDayPreviewEnd","outsideCurrentMonth","startOfMonth","endOfMonth","firstVisibleCell","lastVisibleCell","hiddenDayFiller","day","dayOutsideRangeInterval","dayInsideRangeInterval","notSelectedDate"]),$o=["className","day","outsideCurrentMonth","isEndOfHighlighting","isEndOfPreviewing","isHighlighting","isPreviewing","isStartOfHighlighting","isStartOfPreviewing","selected","isVisuallySelected","sx","draggable","isFirstVisibleCell","isLastVisibleCell"],Lo=Ut(),No=e=>{const{isHighlighting:t,outsideCurrentMonth:n,isStartOfHighlighting:r,isStartOfMonth:a,isEndOfHighlighting:o,isEndOfMonth:c,isPreviewing:s,isStartOfPreviewing:p,isEndOfPreviewing:b,isFirstVisibleCell:g,isLastVisibleCell:v,isHiddenDayFiller:h,selected:y,classes:P}=e;return Ze({root:["root",t&&"rangeIntervalDayHighlight",r&&"rangeIntervalDayHighlightStart",o&&"rangeIntervalDayHighlightEnd",n&&"outsideCurrentMonth",a&&"startOfMonth",c&&"endOfMonth",g&&"firstVisibleCell",v&&"lastVisibleCell",h&&"hiddenDayFiller"],rangeIntervalPreview:["rangeIntervalPreview",s&&"rangeIntervalDayPreview",(p||a)&&"rangeIntervalDayPreviewStart",(b||c)&&"rangeIntervalDayPreviewEnd"],day:["day",!y&&"notSelectedDate",!t&&"dayOutsideRangeInterval",!y&&t&&"dayInsideRangeInterval"]},jo,P)},Rt={borderTopRightRadius:"50%",borderBottomRightRadius:"50%"},St={borderTopLeftRadius:"50%",borderBottomLeftRadius:"50%"},Vo=me("div",{name:"MuiDateRangePickerDay",slot:"Root",overridesResolver:(e,t)=>[{[`&.${Q.rangeIntervalDayHighlight}`]:t.rangeIntervalDayHighlight},{[`&.${Q.rangeIntervalDayHighlightStart}`]:t.rangeIntervalDayHighlightStart},{[`&.${Q.rangeIntervalDayHighlightEnd}`]:t.rangeIntervalDayHighlightEnd},{[`&.${Q.firstVisibleCell}`]:t.firstVisibleCell},{[`&.${Q.lastVisibleCell}`]:t.lastVisibleCell},{[`&.${Q.startOfMonth}`]:t.startOfMonth},{[`&.${Q.endOfMonth}`]:t.endOfMonth},{[`&.${Q.outsideCurrentMonth}`]:t.outsideCurrentMonth},{[`&.${Q.hiddenDayFiller}`]:t.hiddenDayFiller},t.root]})(({theme:e})=>({variants:[{props:{isHiddenDayFiller:!1},style:{[`&:first-of-type .${Q.rangeIntervalDayPreview}`]:m({},St,{borderLeftColor:(e.vars||e).palette.divider}),[`&:last-of-type .${Q.rangeIntervalDayPreview}`]:m({},Rt,{borderRightColor:(e.vars||e).palette.divider})}},{props:{isHiddenDayFiller:!1,isHighlighting:!0},style:{borderRadius:0,color:(e.vars||e).palette.primary.contrastText,backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:_r(e.palette.primary.main,e.palette.action.focusOpacity),"&:first-of-type":St,"&:last-of-type":Rt}},{props:({ownerState:{isHiddenDayFiller:t,isStartOfHighlighting:n,isFirstVisibleCell:r}})=>!t&&(n||r),style:m({},St,{paddingLeft:0})},{props:({ownerState:{isHiddenDayFiller:t,isEndOfHighlighting:n,isLastVisibleCell:r}})=>!t&&(n||r),style:m({},Rt,{paddingRight:0})}]})),zo=me("div",{name:"MuiDateRangePickerDay",slot:"RangeIntervalPreview",overridesResolver:(e,t)=>[{[`&.${Q.rangeIntervalDayPreview}`]:t.rangeIntervalDayPreview},{[`&.${Q.rangeIntervalDayPreviewStart}`]:t.rangeIntervalDayPreviewStart},{[`&.${Q.rangeIntervalDayPreviewEnd}`]:t.rangeIntervalDayPreviewEnd},t.rangeIntervalPreview]})(({theme:e})=>({border:"2px solid transparent",variants:[{props:{isPreviewing:!0,isHiddenDayFiller:!1},style:{borderRadius:0,border:`2px dashed ${(e.vars||e).palette.divider}`,borderLeftColor:"transparent",borderRightColor:"transparent"}},{props:({ownerState:{isPreviewing:t,isHiddenDayFiller:n,isStartOfPreviewing:r,isFirstVisibleCell:a}})=>t&&!n&&(r||a),style:m({borderLeftColor:(e.vars||e).palette.divider},St)},{props:({ownerState:{isPreviewing:t,isHiddenDayFiller:n,isEndOfPreviewing:r,isLastVisibleCell:a}})=>t&&!n&&(r||a),style:m({borderRightColor:(e.vars||e).palette.divider},Rt)}]})),Ho=me(ha,{name:"MuiDateRangePickerDay",slot:"Day",overridesResolver:(e,t)=>[{[`&.${Q.dayInsideRangeInterval}`]:t.dayInsideRangeInterval},{[`&.${Q.dayOutsideRangeInterval}`]:t.dayOutsideRangeInterval},{[`&.${Q.notSelectedDate}`]:t.notSelectedDate},t.day]})({transform:"scale(1.1)","& > *":{transform:"scale(0.9)"},variants:[{props:{draggable:!0},style:{cursor:"grab",touchAction:"none"}}]}),Wo=f.forwardRef(function(t,n){const r=Oe({props:t,name:"MuiDateRangePickerDay"}),{className:a,day:o,outsideCurrentMonth:c,isHighlighting:s,isPreviewing:p,selected:b=!1,isVisuallySelected:g,sx:v,draggable:h,isFirstVisibleCell:y,isLastVisibleCell:P}=r,T=de(r,$o);Bt("x-date-pickers-pro",Lo);const w=nt(),S=w.isSameDay(o,w.endOfMonth(o)),I=w.isSameDay(o,w.startOfMonth(o)),u=m({},r,{selected:b,isStartOfMonth:I,isEndOfMonth:S,draggable:h,isFirstVisibleCell:y,isLastVisibleCell:P,isHiddenDayFiller:c&&!T.showDaysOutsideCurrentMonth}),d=No(u);return A.jsx(Vo,{className:Qe(d.root,a),ownerState:u,sx:v,children:A.jsx(zo,{className:d.rangeIntervalPreview,ownerState:u,children:A.jsx(Ho,m({},T,{ref:n,disableMargin:!0,day:o,selected:g,outsideCurrentMonth:c,className:d.day,ownerState:u,draggable:h,isFirstVisibleCell:y,isLastVisibleCell:P}))})})}),Bo=f.memo(Wo),Xe=(e,t,n)=>{const r=e.dataset.timestamp;if(!r)return null;const a=+r;return t.date(new Date(a).toISOString(),n)},Uo=e=>e.target.dataset.timestamp===e.dataTransfer.getData("draggingDate"),sr=e=>e&&(e instanceof HTMLButtonElement&&!e.disabled?e:e.children.length?sr(e.children[0]):null),Zt=(e,t)=>{var n;if(((n=e.changedTouches)==null?void 0:n.length)===1&&e.touches.length<=1){const r=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY),a=sr(r);return t&&a===e.changedTouches[0].target?null:a}return null},Ko=({utils:e,setRangeDragDay:t,setIsDragging:n,isDragging:r,onDatePositionChange:a,onDrop:o,disableDragEditing:c,dateRange:s,timezone:p})=>{const b=f.useRef(null);f.useEffect(()=>{b.current=document.createElement("img"),b.current.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},[]);const g=d=>{if(d==null)return!1;const D=!c&&!!s[0]&&!!s[1],C=kt(e,d,s),M=ct(e,d,s);return D&&(C||M)},v=ne(d=>{const D=Xe(d.target,e,p);if(!g(D))return;d.stopPropagation(),b.current&&d.dataTransfer.setDragImage(b.current,0,0),t(D),d.dataTransfer.effectAllowed="move",n(!0);const C=d.target.dataset;C.timestamp&&d.dataTransfer.setData("draggingDate",C.timestamp),C.position&&a(C.position)}),h=ne(d=>{const D=Zt(d);if(!D)return;const C=Xe(D,e,p);g(C)&&t(C)}),y=ne(d=>{r&&(d.preventDefault(),d.stopPropagation(),d.dataTransfer.dropEffect="move",t(Xe(d.target,e,p)))}),P=ne(d=>{const D=Zt(d);if(!D)return;const C=Xe(D,e,p);if(C&&t(C),!(D===d.changedTouches[0].target)||!g(C))return;n(!0);const O=d.target.dataset;O.position&&a(O.position)}),T=ne(d=>{r&&(d.preventDefault(),d.stopPropagation())}),w=ne(d=>{r&&(d.preventDefault(),d.stopPropagation(),d.dataTransfer.dropEffect="move")}),S=ne(d=>{if(!r)return;t(null),n(!1);const D=Zt(d,!0);if(!D)return;D.focus();const C=Xe(D,e,p);C&&o(C)}),I=ne(d=>{r&&(d.preventDefault(),d.stopPropagation(),n(!1),t(null))}),u=ne(d=>{if(!r||(d.preventDefault(),d.stopPropagation(),n(!1),t(null),d.currentTarget.focus(),Uo(d)))return;const D=Xe(d.target,e,p);D&&o(D)});return{onDragStart:v,onDragEnter:y,onDragLeave:T,onDragOver:w,onDragEnd:I,onDrop:u,onTouchStart:h,onTouchMove:P,onTouchEnd:S}},Yo=({disableDragEditing:e,utils:t,onDatePositionChange:n,onDrop:r,dateRange:a,timezone:o})=>{const[c,s]=f.useState(!1),[p,b]=f.useState(null),g=ne(y=>{t.isEqual(y,p)||b(y)}),v=f.useMemo(()=>{const[y,P]=a;if(p){if(y&&t.isBefore(p,y))return"start";if(P&&t.isAfter(p,P))return"end"}return null},[a,p,t]),h=Ko({utils:t,onDatePositionChange:n,onDrop:r,setIsDragging:s,isDragging:c,setRangeDragDay:g,disableDragEditing:e,dateRange:a,timezone:o});return f.useMemo(()=>m({isDragging:c,rangeDragDay:p,draggingDatePosition:v},e?{}:h),[c,p,v,e,h])},vn=(e,t)=>{const[n,r]=jr({name:"useRangePosition",state:"rangePosition",controlled:e.rangePosition,default:e.defaultRangePosition??"start"}),a=c=>{if((t==null?void 0:t.current)==null)return;const s=t.current.getSections(),p=c==="start"?0:s.length/2;t.current.setSelectedSections(p)},o=ne(c=>{var s;r(c),(s=e.onRangePositionChange)==null||s.call(e,c),a(c)});return{rangePosition:n,onRangePositionChange:o}},Xo=40,Go=["calendars","month","monthIndex","labelId"],qo=["format","slots","slotProps","currentMonth","onMonthChange","disableFuture","disablePast","minDate","maxDate","timezone","reduceAnimations","views","view"],Qo=me(ma)({padding:"12px 16px 4px 16px",display:"flex",alignItems:"center",justifyContent:"space-between"}),Zo=f.forwardRef(function(t,n){const r=nt(),a=Wt(),{calendars:o,month:c,monthIndex:s,labelId:p}=t,b=de(t,Go),{format:g,slots:v,slotProps:h,currentMonth:y,onMonthChange:P,disableFuture:T,disablePast:w,minDate:S,maxDate:I,timezone:u}=b,d=de(b,qo),D=ba(y,{disableFuture:T,maxDate:I,timezone:u}),C=ya(y,{disablePast:w,minDate:S,timezone:u});if(o===1)return A.jsx(va,m({},b,{labelId:p,ref:n}));const M=()=>P(r.addMonths(y,1),"left"),E=()=>P(r.addMonths(y,-1),"right");return A.jsx(Qo,m({},d,{ref:n,onGoToPrevious:E,onGoToNext:M,isPreviousHidden:s!==0,isPreviousDisabled:C,previousLabel:a.previousMonth,isNextHidden:s!==o-1,isNextDisabled:D,nextLabel:a.nextMonth,slots:v,slotProps:h,labelId:p,children:r.formatByString(c,g??`${r.formats.month} ${r.formats.year}`)}))}),Jo=["value","defaultValue","referenceDate","onChange","className","disableFuture","disablePast","minDate","maxDate","shouldDisableDate","reduceAnimations","onMonthChange","rangePosition","defaultRangePosition","onRangePositionChange","calendars","currentMonthCalendarPosition","slots","slotProps","loading","renderLoading","disableHighlightToday","readOnly","disabled","showDaysOutsideCurrentMonth","dayOfWeekFormatter","disableAutoMonthSwitching","autoFocus","fixedWeekNumber","disableDragEditing","displayWeekNumber","timezone","availableRangePositions","views","view","openTo","onViewChange"],ei=["isDragging","rangeDragDay","draggingDatePosition"],ti=Ut(),ni=me("div",{name:"MuiDateRangeCalendar",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"flex",flexDirection:"row"}),ri=me("div",{name:"MuiDateRangeCalendar",slot:"Container",overridesResolver:(e,t)=>t.monthContainer})(({theme:e})=>({"&:not(:last-of-type)":{borderRight:`1px solid ${(e.vars||e).palette.divider}`}})),ai=(Xo+ka*2)*6,oi=me(Da)(({theme:e})=>({minWidth:312,minHeight:ai,[`&.${On.dayDragging}`]:{[`& .${Q.day}`]:{cursor:"grabbing"},[`& .${Q.root}:not(.${Q.rangeIntervalDayHighlightStart}):not(.${Q.rangeIntervalDayHighlightEnd}) .${Q.day}:not(.${Q.notSelectedDate})`]:{opacity:.6}},[`&:not(.${On.dayDragging}) .${Q.dayOutsideRangeInterval}`]:{"@media (pointer: fine)":{"&:hover":{border:`1px solid ${(e.vars||e).palette.grey[500]}`}}}}));function ii(e,t){const n=nt(),r=Gn(),a=Ra(),o=Oe({props:e,name:t});return m({},o,{renderLoading:o.renderLoading??(()=>A.jsx("span",{children:"..."})),reduceAnimations:o.reduceAnimations??a,loading:e.loading??!1,disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,openTo:o.openTo??"day",views:o.views??["day"],minDate:Ft(n,o.minDate,r.minDate),maxDate:Ft(n,o.maxDate,r.maxDate),calendars:o.calendars??2,disableDragEditing:o.disableDragEditing??!1,availableRangePositions:o.availableRangePositions??["start","end"]})}const si=e=>{const{classes:t,isDragging:n}=e;return Ze({root:["root"],monthContainer:["monthContainer"],dayCalendar:[n&&"dayDragging"]},Oo,t)},li=f.forwardRef(function(t,n){const r=ii(t,"MuiDateRangeCalendar"),a=dn(xa,{defaultMatches:!1}),{value:o,defaultValue:c,referenceDate:s,onChange:p,className:b,disableFuture:g,disablePast:v,minDate:h,maxDate:y,shouldDisableDate:P,reduceAnimations:T,onMonthChange:w,rangePosition:S,defaultRangePosition:I,onRangePositionChange:u,calendars:d,currentMonthCalendarPosition:D=1,slots:C,slotProps:M,loading:E,renderLoading:O,disableHighlightToday:V,readOnly:H,disabled:G,showDaysOutsideCurrentMonth:B,dayOfWeekFormatter:N,disableAutoMonthSwitching:U,autoFocus:$,fixedWeekNumber:z,disableDragEditing:ee,displayWeekNumber:L,timezone:se,availableRangePositions:W,views:le,view:be,openTo:re,onViewChange:Re}=r,ie=de(r,Jo),{value:k,handleValueChange:q,timezone:Y}=qn({name:"DateRangeCalendar",timezone:se,value:o,defaultValue:c,onChange:p,valueManager:qe}),{setValueAndGoToNextView:pe,view:fe}=Ca({view:be,views:le,openTo:re,onChange:q,onViewChange:Re,autoFocus:$}),R=nt(),Se=Pa(Y),yt=Yn(),{rangePosition:ce,onRangePositionChange:at}=vn({rangePosition:S,defaultRangePosition:I,onRangePositionChange:u}),Me=ne(_=>{ce!==_&&at(_)}),He=ne((_,X,ye=!1)=>{const{nextSelection:Pe,newRange:Ye}=an({newDate:_,utils:R,range:k,rangePosition:ce,allowRangeFlip:ye,shouldMergeDateAndTime:!0}),$e=W.includes(Pe);$e&&at(Pe);const Te=ce==="end"&&mt(R,Ye);pe(Ye,Te||!$e?"finish":"partial",fe)}),We=ne(_=>{He(_,void 0,!0)}),_e=ee||G||H,ge=f.useMemo(()=>[k[0]==null||!R.isValid(k[0])?k[0]:R.startOfDay(k[0]),k[1]==null||!R.isValid(k[1])?k[1]:R.endOfDay(k[1])],[k,R]),vt=Yo({disableDragEditing:_e,onDrop:We,onDatePositionChange:Me,utils:R,dateRange:ge,timezone:Y}),{isDragging:Fe,rangeDragDay:x,draggingDatePosition:F}=vt,J=de(vt,ei),te=m({},r,{isDragging:Fe}),ae=si(te),xe=f.useMemo(()=>{if(!ge[0]||!ge[1]||!x)return[null,null];const _=an({utils:R,range:ge,newDate:x,rangePosition:ce,allowRangeFlip:!0}).newRange;return _[0]!==null&&_[1]!==null?[R.startOfDay(_[0]),R.endOfDay(_[1])]:_},[ce,x,R,ge]),Ie=f.useMemo(()=>{if(P)return _=>P(_,F||ce)},[P,ce,F]),{calendarState:Ce,changeFocusedDay:ot,changeMonth:it,handleChangeMonth:Be,onMonthSwitchingAnimationEnd:st}=wa({value:k[0]||k[1],referenceDate:s,disableFuture:g,disablePast:v,disableSwitchToMonthOnDayFocus:!0,maxDate:y,minDate:h,onMonthChange:w,reduceAnimations:T,shouldDisableDate:Ie,timezone:Y}),Ue=(C==null?void 0:C.calendarHeader)??Zo,lt=Ve({elementType:Ue,externalSlotProps:M==null?void 0:M.calendarHeader,additionalProps:{calendars:d,views:["day"],view:"day",currentMonth:Ce.currentMonth,onMonthChange:(_,X)=>Be({newMonth:_,direction:X}),minDate:h,maxDate:y,disabled:G,disablePast:v,disableFuture:g,reduceAnimations:T,timezone:Y,slots:C,slotProps:M},ownerState:r}),je=f.useRef(null);f.useEffect(()=>{var $e,Te;const _=ce==="start"?k[0]:k[1];if(!_||!R.isValid(_))return;const X=ce==="start"?($e=je.current)==null?void 0:$e[0]:(Te=je.current)==null?void 0:Te[1];if(je.current=k,U&&X&&R.isEqual(X,_))return;const ye=d-1,Pe=R.getMonth(Ce.currentMonth),Ye=R.getMonth(_);if(!R.isSameYear(Ce.currentMonth,_)||Ye<Pe||Ye>Pe+ye){const Dt=ce==="start"?_:R.addMonths(_,-ye);it(Dt)}},[ce,k]);const Kt={disablePast:v,disableFuture:g,maxDate:y,minDate:h},wr={disableHighlightToday:V,readOnly:H,disabled:G},[kr,Yt]=f.useState(null),Rr=f.useMemo(()=>({onMouseLeave:()=>Yt(null)}),[]),Xt=_o({utils:R,range:ge,newDate:kr,rangePosition:ce}),Sr=ne((_,X)=>{Qt(R,X,ge)?Yt(null):Yt(X)}),Ir=m({day:Bo},C),Mr=m({},M,{day:_=>{const{day:X}=_,ye=kt(R,X,ge),Pe=ct(R,X,ge),$e=!_e&&ge[0]&&ge[1]&&(ye||Pe);let Te;ye?Te="start":Pe&&(Te="end");const Dt=Fe?kt(R,X,xe):ye,Er=Fe?ct(R,X,xe):Pe;return m({isPreviewing:a?Qt(R,X,Xt):!1,isStartOfPreviewing:a?kt(R,X,Xt):!1,isEndOfPreviewing:a?ct(R,X,Xt):!1,isHighlighting:Qt(R,X,Fe?xe:ge),isStartOfHighlighting:Dt,isEndOfHighlighting:Fe?ct(R,X,xe):Pe,onMouseEnter:a?Sr:void 0,isVisuallySelected:_.selected||Fe&&(Dt||Er),"data-position":Te},J,{draggable:$e?!0:void 0},Ge(M==null?void 0:M.day,_)??{})}}),Fr=f.useMemo(()=>Array.from({length:d}).map((_,X)=>X),[d]),Ke=f.useMemo(()=>{const _=R.addMonths(Ce.currentMonth,1-D);return Array.from({length:d}).map((X,ye)=>R.addMonths(_,ye))},[R,Ce.currentMonth,d,D]),Tr=f.useMemo(()=>$?k[0]!=null?Ke.find(_=>R.isSameMonth(_,k[0])):k[1]!=null?Ke.find(_=>R.isSameMonth(_,k[1])):Ke.find(_=>R.isSameMonth(_,Se))??Ke[0]:null,[R,k,Ke,$,Se]);return A.jsxs(ni,m({ref:n,className:Qe(b,ae.root),ownerState:te},ie,{children:[A.jsx(Ao,{packageName:"x-date-pickers-pro",releaseInfo:ti}),Fr.map(_=>{const X=Ke[_],ye=`${yt}-grid-${_}-label`;return A.jsxs(ri,{className:ae.monthContainer,children:[A.jsx(Ue,m({},lt,{month:X,monthIndex:_,labelId:ye})),A.jsx(oi,m({className:ae.dayCalendar},Ce,Kt,wr,{onMonthSwitchingAnimationEnd:st,onFocusedDayChange:ot,reduceAnimations:T,selectedDays:k,onSelectedDaysChange:He,currentMonth:X,TransitionProps:Rr,shouldDisableDate:Ie,showDaysOutsideCurrentMonth:d===1&&B,dayOfWeekFormatter:N,loading:E,renderLoading:O,slots:Ir,slotProps:Mr,autoFocus:X===Tr,fixedWeekNumber:z,displayWeekNumber:L,timezone:Y,gridLabelId:ye}))]},_)})]}))}),lr=({value:e,defaultValue:t,referenceDate:n,onChange:r,className:a,classes:o,disableFuture:c,disablePast:s,minDate:p,maxDate:b,shouldDisableDate:g,reduceAnimations:v,onMonthChange:h,rangePosition:y,defaultRangePosition:P,onRangePositionChange:T,calendars:w,currentMonthCalendarPosition:S,slots:I,slotProps:u,loading:d,renderLoading:D,disableHighlightToday:C,readOnly:M,disabled:E,showDaysOutsideCurrentMonth:O,dayOfWeekFormatter:V,disableAutoMonthSwitching:H,sx:G,autoFocus:B,fixedWeekNumber:N,disableDragEditing:U,displayWeekNumber:$,timezone:z,availableRangePositions:ee,views:L,view:se,onViewChange:W})=>A.jsx(li,{value:e,defaultValue:t,referenceDate:n,onChange:r,className:a,classes:o,disableFuture:c,disablePast:s,minDate:p,maxDate:b,shouldDisableDate:g,reduceAnimations:v,onMonthChange:h,rangePosition:y,defaultRangePosition:P,onRangePositionChange:T,calendars:w,currentMonthCalendarPosition:S,slots:I,slotProps:u,loading:d,renderLoading:D,disableHighlightToday:C,readOnly:M,disabled:E,showDaysOutsideCurrentMonth:O,dayOfWeekFormatter:V,disableAutoMonthSwitching:H,sx:G,autoFocus:B,fixedWeekNumber:N,disableDragEditing:U,displayWeekNumber:$,timezone:z,availableRangePositions:ee,view:se,views:L,onViewChange:W}),ci=["shouldDisableDate"],Et=({props:e,value:t,adapter:n})=>{const[r,a]=t,{shouldDisableDate:o}=e,c=de(e,ci),s=[In({adapter:n,value:r,props:m({},c,{shouldDisableDate:p=>!!(o!=null&&o(p,"start"))})}),In({adapter:n,value:a,props:m({},c,{shouldDisableDate:p=>!!(o!=null&&o(p,"end"))})})];return s[0]||s[1]?s:r===null||a===null?[null,null]:mt(n.utils,t)?[null,null]:["invalidRange","invalidRange"]},_n=(e,t)=>Object.keys(e).reduce((n,r)=>(t.includes(r)||(n[r]=e[r]),n),{}),ui=e=>{const t=f.useRef(null),n=It(e.unstableEndFieldRef,t),[r,a]=f.useState(e.selectedSections??null),[o,c]=f.useState(null),s=()=>t.current&&t.current.isFieldFocused()?"end":"start",p=ne(v=>{var h;a(v),s()==="start"&&((h=e.onSelectedSectionsChange)==null||h.call(e,v))}),b=ne(v=>{var h;c(v),s()==="end"&&((h=e.onSelectedSectionsChange)==null||h.call(e,v))}),g=s();return{start:{unstableFieldRef:e.unstableStartFieldRef,selectedSections:g==="start"&&e.selectedSections!==void 0?e.selectedSections:r,onSelectedSectionsChange:p},end:{unstableFieldRef:n,selectedSections:g==="end"&&e.selectedSections!==void 0?e.selectedSections:o,onSelectedSectionsChange:b}}},di=({sharedProps:e,startTextFieldProps:t,unstableStartFieldRef:n,endTextFieldProps:r,unstableEndFieldRef:a})=>{const o=Sa(e),c=Ia(),{value:s,defaultValue:p,format:b,formatDensity:g,shouldRespectLeadingZeros:v,onChange:h,disabled:y,readOnly:P,selectedSections:T,onSelectedSectionsChange:w,timezone:S,enableAccessibleFieldDOMStructure:I,autoFocus:u}=o,{value:d,handleValueChange:D,timezone:C}=qn({name:"useMultiInputDateRangeField",timezone:S,value:s,defaultValue:p,onChange:h,valueManager:qe}),M=$=>(z,ee)=>{const L=$===0?[z,d[1]]:[d[0],z],se=m({},ee,{validationError:Et({adapter:c,value:L,props:m({},o,{timezone:C})})});D(L,se)},E=ne(M(0)),O=ne(M(1)),V=Ma(m({},o,{value:d,timezone:C}),Et,qe.isSameError,qe.defaultErrorState),H=ui({selectedSections:T,onSelectedSectionsChange:w,unstableStartFieldRef:n,unstableEndFieldRef:a}),G=m({error:!!V[0]},t,H.start,{disabled:y,readOnly:P,format:b,formatDensity:g,shouldRespectLeadingZeros:v,timezone:C,value:s===void 0?void 0:s[0],defaultValue:p===void 0?void 0:p[0],onChange:E,enableAccessibleFieldDOMStructure:I,autoFocus:u}),B=m({error:!!V[1]},r,H.end,{format:b,formatDensity:g,shouldRespectLeadingZeros:v,disabled:y,readOnly:P,timezone:C,value:s===void 0?void 0:s[1],defaultValue:p===void 0?void 0:p[1],onChange:O,enableAccessibleFieldDOMStructure:I}),N=Mn(G),U=Mn(B);return{startDate:_n(N,["clearable","onClear"]),endDate:_n(U,["clearable","onClear"])}},pi=["slots","slotProps","unstableStartFieldRef","unstableEndFieldRef","className"];ft("MuiMultiInputDateRangeField",["root","separator"]);const fi=e=>gt("MuiMultiInputDateRangeField",e),gi=e=>{const{classes:t}=e;return Ze({root:["root"],separator:["separator"]},fi,t)},hi=me(f.forwardRef((e,t)=>A.jsx($r,m({ref:t,spacing:2,direction:"row",alignItems:"center"},e))),{name:"MuiMultiInputDateRangeField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),mi=me(Ee,{name:"MuiMultiInputDateRangeField",slot:"Separator",overridesResolver:(e,t)=>t.separator})({lineHeight:"1.4375em"}),cr=f.forwardRef(function(t,n){const r=Oe({props:t,name:"MuiMultiInputDateRangeField"}),{internalProps:a,forwardedProps:o}=Fa(r),{slots:c,slotProps:s,unstableStartFieldRef:p,unstableEndFieldRef:b,className:g}=o,v=de(o,pi),h=r,y=gi(h),P=(c==null?void 0:c.root)??hi,T=Ve({elementType:P,externalSlotProps:s==null?void 0:s.root,externalForwardedProps:v,additionalProps:{ref:n},ownerState:h,className:Qe(g,y.root)}),w=(c==null?void 0:c.textField)??(t.enableAccessibleFieldDOMStructure?Ta:he),S=Ve({elementType:w,externalSlotProps:s==null?void 0:s.textField,ownerState:m({},h,{position:"start"})}),I=Ve({elementType:w,externalSlotProps:s==null?void 0:s.textField,ownerState:m({},h,{position:"end"})}),u=(c==null?void 0:c.separator)??mi,d=Ve({elementType:u,externalSlotProps:s==null?void 0:s.separator,additionalProps:{children:` ${a.dateSeparator??"–"} `},ownerState:h,className:y.separator}),D=di({sharedProps:a,startTextFieldProps:S,endTextFieldProps:I,unstableStartFieldRef:p,unstableEndFieldRef:b}),C=Fn(D.startDate),M=Fn(D.endDate);return A.jsxs(P,m({},T,{children:[A.jsx(w,m({fullWidth:!0},C)),A.jsx(u,m({},d)),A.jsx(w,m({fullWidth:!0},M))]}))}),bi=["clearable","onClear"],yi=({wrapperVariant:e,open:t,actions:n,readOnly:r,labelId:a,disableOpenPicker:o,onBlur:c,rangePosition:s,onRangePositionChange:p,localeText:b,pickerSlotProps:g,pickerSlots:v,fieldProps:h,anchorRef:y,currentView:P,initialView:T,onViewChange:w,startFieldRef:S,endFieldRef:I})=>{const u=Wt(),d=It(h.unstableStartFieldRef,S),D=It(h.unstableEndFieldRef,I),C=f.useRef(s);f.useEffect(()=>{var z;if(!t)return;const $=s==="start"?S:I;if((z=$.current)==null||z.focusField(),!$.current||!P){C.current=s;return}$.current.setSelectedSections(C.current===s?P:0),C.current=s},[s,t,P,S,I]);const M=$=>{$.stopPropagation(),p("start"),!r&&!o&&n.onOpen($)},E=$=>{$.stopPropagation(),p("end"),!r&&!o&&n.onOpen($)},O=()=>{t&&(p("start"),C.current!=="start"&&T&&(w==null||w(T)))},V=()=>{t&&(p("end"),C.current!=="end"&&T&&(w==null||w(T)))},H=m({textField:v==null?void 0:v.textField,root:v==null?void 0:v.fieldRoot,separator:v==null?void 0:v.fieldSeparator},h.slots),G=m({},h.slotProps,{textField:$=>{const z=Ge(g==null?void 0:g.textField,$);let ee,L;return $.position==="start"?(ee=m({label:(b==null?void 0:b.start)??u.start,onKeyDown:rn(M),onFocus:O,focused:t?s==="start":void 0},!r&&!h.disabled&&{onClick:M},e==="mobile"&&{readOnly:!0}),y&&(L=m({},z==null?void 0:z.InputProps,{ref:y}))):(ee=m({label:(b==null?void 0:b.end)??u.end,onKeyDown:rn(E),onFocus:V,focused:t?s==="end":void 0},!r&&!h.disabled&&{onClick:E},e==="mobile"&&{readOnly:!0}),L=z==null?void 0:z.InputProps),m({},a!=null&&{id:`${a}-${$.position}`},ee,Ge(g==null?void 0:g.textField,$),{InputProps:L})},root:$=>m({},{onBlur:c},Ge(g==null?void 0:g.fieldRoot,$)),separator:g==null?void 0:g.fieldSeparator}),B=h,N=de(B,bi);return m({},N,{unstableStartFieldRef:d,unstableEndFieldRef:D,slots:H,slotProps:G})},vi=({wrapperVariant:e,open:t,actions:n,readOnly:r,labelId:a,disableOpenPicker:o,label:c,onBlur:s,rangePosition:p,onRangePositionChange:b,startFieldRef:g,endFieldRef:v,pickerSlots:h,pickerSlotProps:y,fieldProps:P,anchorRef:T,currentView:w})=>{const S=It(P.unstableFieldRef,g,v);f.useEffect(()=>{var E;if(!(!t||!g.current)&&!g.current.isFieldFocused()&&w){const O=g.current.getSections().map(H=>H.type),V=p==="start"?O.indexOf(w):O.lastIndexOf(w);(E=g.current)==null||E.focusField(V)}},[p,t,w,g]);const I=()=>{var H,G;if(!((H=g.current)!=null&&H.isFieldFocused()))return;const E=g.current.getSections(),O=(G=g.current)==null?void 0:G.getActiveSectionIndex(),V=O==null||O<E.length/2?"start":"end";V!=null&&V!==p&&b(V)},u=ne(E=>{var O;setTimeout(I),(O=P.onSelectedSectionsChange)==null||O.call(P,E)}),d=E=>{E.stopPropagation(),!r&&!o&&n.onOpen(E)},D=m({},P.slots,{textField:h==null?void 0:h.textField,clearButton:h==null?void 0:h.clearButton,clearIcon:h==null?void 0:h.clearIcon}),C=m({},P.slotProps,{textField:y==null?void 0:y.textField,clearButton:h==null?void 0:h.clearButton,clearIcon:h==null?void 0:h.clearIcon});return m({},P,{slots:D,slotProps:C,label:c,unstableFieldRef:S,onKeyDown:rn(d,P.onKeyDown),onSelectedSectionsChange:u,onBlur:s,InputProps:m({ref:T},P==null?void 0:P.InputProps),focused:t?!0:void 0},a!=null&&{id:a},e==="mobile"&&{readOnly:!0},!r&&!P.disabled&&{onClick:d})},ur=e=>e.fieldType==="multi-input"?yi(e):vi(e),Di=["props"],xi=Ut(),Ci=e=>{let{props:t}=e,n=de(e,Di);Bt("x-date-pickers-pro",xi);const{slots:r,slotProps:a,className:o,sx:c,format:s,formatDensity:p,enableAccessibleFieldDOMStructure:b,selectedSections:g,onSelectedSectionsChange:v,timezone:h,label:y,inputRef:P,name:T,readOnly:w,disabled:S,autoFocus:I,disableOpenPicker:u,localeText:d,reduceAnimations:D}=t,C=f.useRef(null),M=f.useRef(null),E=f.useRef(null),O=f.useRef(null),V=f.useRef(null),H=f.useRef(t.openTo??null),G=r.field.fieldType??"multi-input",{rangePosition:B,onRangePositionChange:N}=vn(t,G==="single-input"?O:void 0),{open:U,actions:$,layoutProps:z,renderCurrentView:ee,shouldRestoreFocus:L,fieldProps:se}=Qn(m({},n,{props:t,wrapperVariant:"desktop",autoFocusView:!1,fieldRef:B==="start"?O:V,additionalViewProps:{rangePosition:B,onRangePositionChange:N}}));f.useEffect(()=>{z.view&&(H.current=z.view)},[]);const W=()=>{Ea(()=>{var q,Y;(q=C.current)!=null&&q.contains(Tn(document))||(Y=E.current)!=null&&Y.contains(Tn(document))||$.onDismiss()})},le=r.field,be=Ve({elementType:le,externalSlotProps:a==null?void 0:a.field,additionalProps:m({},se,{readOnly:w,disabled:S,className:o,sx:c,format:s,formatDensity:p,enableAccessibleFieldDOMStructure:b,selectedSections:g,onSelectedSectionsChange:v,timezone:h,autoFocus:I&&!t.open,ref:C},G==="single-input"?{inputRef:P,name:T}:{}),ownerState:t}),re=ur({wrapperVariant:"desktop",fieldType:G,open:U,actions:$,readOnly:w,disableOpenPicker:u,label:y,localeText:d,onBlur:W,rangePosition:B,onRangePositionChange:N,pickerSlotProps:a,pickerSlots:r,fieldProps:be,anchorRef:M,startFieldRef:O,endFieldRef:V,currentView:z.view!==t.openTo?z.view:void 0,initialView:H.current??void 0,onViewChange:z.onViewChange}),Re=m({},a,{tabs:m({},a==null?void 0:a.tabs,{rangePosition:B,onRangePositionChange:N}),toolbar:m({},a==null?void 0:a.toolbar,{rangePosition:B,onRangePositionChange:N})}),ie=(r==null?void 0:r.layout)??Zn;return{renderPicker:()=>A.jsxs(gn,{localeText:d,children:[A.jsx(le,m({},re)),A.jsx(Aa,m({role:"tooltip",placement:"bottom-start",containerRef:E,anchorEl:M.current,onBlur:W},$,{open:U,slots:r,slotProps:a,shouldRestoreFocus:L,reduceAnimations:D,children:A.jsx(ie,m({},z,a==null?void 0:a.layout,{slots:r,slotProps:Re,children:ee()}))}))]})}},dr=f.forwardRef(function(t,n){var s;const r=ar(t,"MuiDesktopDateRangePicker"),a=m({day:lr},r.viewRenderers),o=m({},r,{viewRenderers:a,calendars:r.calendars??2,views:["day"],openTo:"day",slots:m({field:cr},r.slots),slotProps:m({},r.slotProps,{field:p=>{var b;return m({},Ge((b=r.slotProps)==null?void 0:b.field,p),Jn(r),{ref:n})},toolbar:m({hidden:!0},(s=r.slotProps)==null?void 0:s.toolbar)})}),{renderPicker:c}=Ci({props:o,valueManager:qe,valueType:"date",validator:Et});return c()});dr.propTypes={autoFocus:l.bool,calendars:l.oneOf([1,2,3]),className:l.string,closeOnSelect:l.bool,currentMonthCalendarPosition:l.oneOf([1,2,3]),dayOfWeekFormatter:l.func,defaultRangePosition:l.oneOf(["end","start"]),defaultValue:l.arrayOf(l.object),disableAutoMonthSwitching:l.bool,disabled:l.bool,disableDragEditing:l.bool,disableFuture:l.bool,disableHighlightToday:l.bool,disableOpenPicker:l.bool,disablePast:l.bool,displayWeekNumber:l.bool,enableAccessibleFieldDOMStructure:l.any,fixedWeekNumber:l.number,format:l.string,formatDensity:l.oneOf(["dense","spacious"]),inputRef:Xn,label:l.node,loading:l.bool,localeText:l.object,maxDate:l.object,minDate:l.object,name:l.string,onAccept:l.func,onChange:l.func,onClose:l.func,onError:l.func,onMonthChange:l.func,onOpen:l.func,onRangePositionChange:l.func,onSelectedSectionsChange:l.func,open:l.bool,rangePosition:l.oneOf(["end","start"]),readOnly:l.bool,reduceAnimations:l.bool,referenceDate:l.object,renderLoading:l.func,selectedSections:l.oneOfType([l.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),l.number]),shouldDisableDate:l.func,showDaysOutsideCurrentMonth:l.bool,slotProps:l.object,slots:l.object,sx:l.oneOfType([l.arrayOf(l.oneOfType([l.func,l.object,l.bool])),l.func,l.object]),timezone:l.string,value:l.arrayOf(l.object),viewRenderers:l.shape({day:l.func})};const Pi=["props"],wi=Ut(),ki=e=>{var ie;let{props:t}=e,n=de(e,Pi);Bt("x-date-pickers-pro",wi);const{slots:r,slotProps:a,className:o,sx:c,format:s,formatDensity:p,enableAccessibleFieldDOMStructure:b,selectedSections:g,onSelectedSectionsChange:v,timezone:h,label:y,inputRef:P,name:T,readOnly:w,disabled:S,disableOpenPicker:I,localeText:u}=t,d=f.useRef(null),D=f.useRef(null),C=r.field.fieldType??"multi-input",{rangePosition:M,onRangePositionChange:E}=vn(t,C==="single-input"?d:void 0),O=Yn(),V=Wt(),{open:H,actions:G,layoutProps:B,renderCurrentView:N,fieldProps:U}=Qn(m({},n,{props:t,wrapperVariant:"mobile",autoFocusView:!0,fieldRef:M==="start"?d:D,additionalViewProps:{rangePosition:M,onRangePositionChange:E}})),$=r.field,z=Ve({elementType:$,externalSlotProps:a==null?void 0:a.field,additionalProps:m({},U,{readOnly:w??!0,disabled:S,className:o,sx:c,format:s,formatDensity:p,enableAccessibleFieldDOMStructure:b,selectedSections:g,onSelectedSectionsChange:v,timezone:h},C==="single-input"?{inputRef:P,name:T}:{}),ownerState:t}),ee=((ie=a==null?void 0:a.toolbar)==null?void 0:ie.hidden)??!1,L=ur({wrapperVariant:"mobile",fieldType:C,open:H,actions:G,readOnly:w,labelId:O,disableOpenPicker:I,label:y,localeText:u,rangePosition:M,onRangePositionChange:E,pickerSlots:r,pickerSlotProps:a,fieldProps:z,startFieldRef:d,endFieldRef:D}),se=m({},a,{tabs:m({},a==null?void 0:a.tabs,{rangePosition:M,onRangePositionChange:E}),toolbar:m({},a==null?void 0:a.toolbar,{titleId:O,rangePosition:M,onRangePositionChange:E})}),W=(r==null?void 0:r.layout)??Zn,le=m({},V,u);let be=n.valueType==="date-time"?`${O}-start-toolbar ${O}-end-toolbar`:O;if(ee){const k=[];C==="multi-input"?(le.start&&k.push(`${O}-start-label`),le.end&&k.push(`${O}-end-label`)):y!=null&&k.push(`${O}-label`),be=k.length>0?k.join(" "):void 0}const re=m({},a,{mobilePaper:m({"aria-labelledby":be},a==null?void 0:a.mobilePaper)});return{renderPicker:()=>A.jsxs(gn,{localeText:u,children:[A.jsx($,m({},L)),A.jsx(Oa,m({},G,{open:H,slots:r,slotProps:re,children:A.jsx(W,m({},B,re==null?void 0:re.layout,{slots:r,slotProps:se,children:N()}))}))]})}},pr=f.forwardRef(function(t,n){var s;const r=ar(t,"MuiMobileDateRangePicker"),a=m({day:lr},r.viewRenderers),o=m({},r,{viewRenderers:a,calendars:1,views:["day"],openTo:"day",slots:m({field:cr},r.slots),slotProps:m({},r.slotProps,{field:p=>{var b;return m({},Ge((b=r.slotProps)==null?void 0:b.field,p),Jn(r),{ref:n})},toolbar:m({hidden:!1},(s=r.slotProps)==null?void 0:s.toolbar)})}),{renderPicker:c}=ki({props:o,valueManager:qe,valueType:"date",validator:Et});return c()});pr.propTypes={autoFocus:l.bool,className:l.string,closeOnSelect:l.bool,currentMonthCalendarPosition:l.oneOf([1,2,3]),dayOfWeekFormatter:l.func,defaultRangePosition:l.oneOf(["end","start"]),defaultValue:l.arrayOf(l.object),disableAutoMonthSwitching:l.bool,disabled:l.bool,disableDragEditing:l.bool,disableFuture:l.bool,disableHighlightToday:l.bool,disableOpenPicker:l.bool,disablePast:l.bool,displayWeekNumber:l.bool,enableAccessibleFieldDOMStructure:l.any,fixedWeekNumber:l.number,format:l.string,formatDensity:l.oneOf(["dense","spacious"]),inputRef:Xn,label:l.node,loading:l.bool,localeText:l.object,maxDate:l.object,minDate:l.object,name:l.string,onAccept:l.func,onChange:l.func,onClose:l.func,onError:l.func,onMonthChange:l.func,onOpen:l.func,onRangePositionChange:l.func,onSelectedSectionsChange:l.func,open:l.bool,rangePosition:l.oneOf(["end","start"]),readOnly:l.bool,reduceAnimations:l.bool,referenceDate:l.object,renderLoading:l.func,selectedSections:l.oneOfType([l.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),l.number]),shouldDisableDate:l.func,showDaysOutsideCurrentMonth:l.bool,slotProps:l.object,slots:l.object,sx:l.oneOfType([l.arrayOf(l.oneOfType([l.func,l.object,l.bool])),l.func,l.object]),timezone:l.string,value:l.arrayOf(l.object),viewRenderers:l.shape({day:l.func})};const Ri=["desktopModeMediaQuery"],Si=f.forwardRef(function(t,n){const r=Oe({props:t,name:"MuiDateRangePicker"}),{desktopModeMediaQuery:a="@media (pointer: fine)"}=r,o=de(r,Ri);return dn(a,{defaultMatches:!0})?A.jsx(dr,m({ref:n},o)):A.jsx(pr,m({ref:n},o))}),Ii=me(ta)(({theme:e})=>({"& .rdt_Table":{backgroundColor:"transparent","& .rdt_TableHead":{"& .rdt_TableHeadRow":{backgroundColor:"transparent",color:e.palette.text.primary},top:0,zIndex:1},"& .rdt_TableBody":{overflowY:"auto",maxHeight:"52vh","& .rdt_TableRow":{minHeight:"auto",backgroundColor:"transparent",color:e.palette.text.primary,"& .rdt_TableCol":{backgroundColor:"transparent",borderBottom:`1px solid ${e.palette.divider}`,width:"auto",whiteSpace:"nowrap"}},"& .rdt_TableRow:hover":{backgroundColor:e.palette.action.hover}}}})),Mi=({allData:e,setData:t,loading:n,handleClickOpen:r,allInCharges:a,reports:o,juniors:c,reports_with_daily_works:s,openModal:p,setCurrentRow:b,filteredData:g,setFilteredData:v})=>{const{auth:h}=Ar().props,y=Je(),P=h.roles.includes("Administrator"),T=h.roles.includes("Supervision Engineer"),w=[{name:"Date",selector:u=>u.date,sortable:"true",center:"true",width:"100px"},{name:"RFI NO",selector:u=>u.number,sortable:"true",center:"true",width:"140px",cell:u=>j(oe,{children:[u.number,u.reports&&u.reports.map(d=>i("div",{children:j("span",{children:[i("i",{className:"mdi mdi-circle-medium"})," ",d.ref_no]})},d.ref_no))]})},{name:"Status",selector:u=>u.status,sortable:"true",center:"true",width:"220px",cell:u=>j(ut,{fullWidth:!0,"aria-label":"Status",placeholder:"Select Status",name:"status",color:S(u.status),value:u.status,onChange:d=>I(u.id,"status",d.target.value),selectedKeys:[u.status],popoverProps:{classNames:{content:"bg-transparent backdrop-blur-lg border-inherit"}},children:[i(ve,{value:"new",startContent:i(tr,{style:{marginRight:8,color:S("new")}}),children:"New"},"new"),i(ve,{value:"resubmission",startContent:i(nr,{style:{marginRight:8,color:S("resubmission")}}),children:"Resubmission"},"resubmission"),i(ve,{value:"completed",startContent:i(er,{style:{marginRight:8,color:S("completed")}}),children:"Completed"},"completed"),i(ve,{value:"emergency",startContent:i(rr,{style:{marginRight:8,color:S("emergency")}}),children:"Emergency"},"emergency")]})},...T?[{name:"Assigned",selector:u=>u.assigned,sortable:"true",center:"true",cell:u=>i(ut,{items:c,variant:"outlined",fullWidth:!0,size:"small",value:u.assigned||"na",onChange:d=>I(u.id,"assigned",d.target.value),MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:y.glassCard.backgroundColor,border:y.glassCard.border,borderRadius:2,boxShadow:y.glassCard.boxShadow}}},placeholder:"Select a junior",renderValue:d=>d.map(D=>i("div",{className:"flex items-center gap-2 m-1",children:i(Gt,{style:{whiteSpace:"nowrap"},size:"sm",name:D.data.name,avatarProps:{radius:"sm",size:"sm",src:D.data.profile_image}})},D.key)),children:d=>i(ve,{textValue:d.id,children:j(De,{sx:{display:"flex"},children:[i(Nr,{src:d.profile_image,alt:d.name||"Not assigned",sx:{borderRadius:"50%",width:23,height:23,display:"flex",marginRight:1}}),d.name]})},d.id)})}]:[],{name:"Type",selector:u=>u.type,sortable:"true",center:"true",width:"140px"},{name:"Description",selector:u=>u.description,sortable:"true",left:"true",width:"260px",cell:u=>i(De,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},children:u.description})},{name:"Location",selector:u=>u.location,sortable:"true",center:"true",width:"200px",cell:u=>i(De,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},children:u.location})},{name:"Results",selector:u=>u.inspection_details,sortable:"true",width:"200px",center:"true",cell:u=>{const[d,D]=Mt.useState(!1),[C,M]=Mt.useState(u.inspection_details||"");return i(De,{sx:{whiteSpace:"normal",wordWrap:"break-word",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",cursor:"pointer"},onClick:d?void 0:()=>{D(!0)},children:d?i(he,{fullWidth:!0,value:C,onChange:H=>{M(H.target.value)},onBlur:()=>{D(!1),I(u.id,"inspection_details",C)},autoFocus:!0,variant:"standard",InputProps:{style:{marginBottom:0,border:"none",outline:"none",backgroundColor:"transparent",textAlign:"center"}}}):i(oe,{children:u.inspection_details||"N/A"})})}},{name:"Road Type",selector:u=>u.side,sortable:"true",center:"true",width:"120px"},{name:"Quantity/Layer No.",selector:u=>u.qty_layer,sortable:"true",center:"true",width:"150px"},...P?[{name:"In charge",selector:u=>u.incharge,sortable:"true",center:"true",cell:u=>i(ut,{items:a,variant:"underlined","aria-label":"Incharge",fullWidth:!0,value:u.incharge||"na",onChange:d=>I(u.id,"incharge",d.target.value),selectedKeys:[String(u.incharge)],style:{minWidth:"260px"},popoverProps:{classNames:{content:"bg-transparent backdrop-blur-lg border-inherit"},style:{whiteSpace:"nowrap",minWidth:"fit-content"}},placeholder:"Select Incharge",renderValue:d=>d.map(D=>i("div",{className:"flex items-center gap-2 m-1",children:i(Gt,{style:{whiteSpace:"nowrap"},size:"sm",name:D.data.name,avatarProps:{radius:"sm",size:"sm",src:D.data.profile_image}})},D.key)),children:d=>{var D;return i(ve,{textValue:d.id,children:i(Gt,{style:{whiteSpace:"nowrap"},size:"sm",name:d.name,description:((D=d.designation)==null?void 0:D.title)||"Incharge",avatarProps:{radius:"sm",size:"sm",src:d.profile_image}})},d.id)}})}]:[],{name:"Planned Time",selector:u=>u.planned_time,sortable:"true",center:"true",width:"130px"},{name:"Completion Time",selector:u=>u.completion_time,sortable:"true",center:"true",width:"250px",cell:u=>i(he,{fullWidth:!0,size:"small",type:"datetime-local",value:u.completion_time?new Date(u.completion_time).toISOString().slice(0,16):"",onChange:d=>I(u.id,"completion_time",d.target.value),style:{border:"none",outline:"none",backgroundColor:"transparent"},inputProps:{placeholder:"YYYY-MM-DDTHH:MM"}})},{name:"Resubmission Count",selector:u=>u.resubmission_count,sortable:"true",center:"true",width:"160px",cell:u=>i(oe,{children:u.resubmission_count?`${u.resubmission_count} ${u.resubmission_count>1?"times":"time"}`:""})},...P?[{name:"RFI Submission Date",selector:u=>u.rfi_submission_date,sortable:"true",center:"true",width:"180px",cell:u=>i(he,{fullWidth:!0,size:"small",type:"date",onChange:d=>I(u.id,"rfi_submission_date",d.target.value),value:u.rfi_submission_date?new Date(u.rfi_submission_date).toISOString().slice(0,10):"",style:{border:"none",outline:"none",backgroundColor:"transparent"},inputProps:{placeholder:"yyyy-MM-dd"}})}]:[],...P?[{name:"Actions",center:"true",width:"150px",cell:u=>j(De,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[i(ke,{sx:{m:1},variant:"outlined",color:"success",size:"small",onClick:()=>{b(u),p("editDailyWork")},children:i(Zr,{})}),i(ke,{sx:{m:1},variant:"outlined",color:"error",size:"small",onClick:()=>r(u.id,"deleteDailyWork"),children:i(aa,{})})]})}]:[]],S=u=>{switch(u){case"new":return"primary";case"resubmission":return"warning";case"completed":return"success";case"emergency":return"danger";default:return""}},I=async(u,d,D)=>{var C,M;try{const E=await Kn.post(route("dailyWorks.update"),{id:u,[d]:D});E.status===200?(t(O=>O.map(V=>V.id===u?{...V,[d]:D}:V)),Ae.success(...E.data.messages||"Task updated successfully",{icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:y.glassCard.backgroundColor,border:y.glassCard.border,color:y.palette.text.primary}})):Ae.error(E.data.error||`Failed to update task ${[d]}.`,{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:y.glassCard.backgroundColor,border:y.glassCard.border,color:y.palette.text.primary}})}catch(E){Ae.error(((M=(C=E.response)==null?void 0:C.data)==null?void 0:M.message)||"An unexpected error occurred.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:y.glassCard.backgroundColor,border:y.glassCard.border,color:y.palette.text.primary}})}};return j("div",{children:[n&&i(oa,{}),i(Lr,{styles:{"& .cgTKyH":{backgroundColor:"transparent !important",color:y.palette.text.primary}}}),i(Ii,{classNames:{base:"max-h-[84vh] overflow-scroll",table:"min-h-[84vh]"},columns:w,data:e,loading:n,loadingComponent:i(ht,{}),defaultSortField:"date",highlightOnHover:!0,responsive:!0,dense:!0})]})},Fi=({open:e,closeModal:t,currentRow:n,setData:r})=>{const a=Je(),[o,c]=f.useState({id:n.id||"",date:n.date||"",number:n.number||"",planned_time:n.planned_time||"",type:n.type||"Structure",location:n.location||"",description:n.description||"",side:n.side||"SR-R",qty_layer:n.qty_layer||""}),[s,p]=f.useState({}),[b,g]=f.useState(!1),[v,h]=f.useState(!1);f.useEffect(()=>{const T=Object.values(o).some(w=>w!=="");h(T)},[o]);const y=T=>{const{name:w,value:S}=T.target;c(I=>({...I,[w]:S}))};async function P(T){T.preventDefault(),g(!0);const w=new Promise(async(S,I)=>{try{const u=await fetch(route("dailyWorks.update"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({ruleSet:"details",...o})}),d=await u.json();u.ok?(r(D=>D.map(C=>C.id===o.id?{...C,...o}:C)),t(),S(d.message?[d.message]:d.messages),g(!1),t(),console.log(d.message?[d.message]:d.messages)):(g(!1),p(d.errors),I(d.errors),console.error(d.errors))}catch(u){g(!1),t(),console.log(u),I(["An unexpected error occurred."])}});Ae.promise(w,{pending:{render(){return j("div",{style:{display:"flex",alignItems:"center"},children:[i(ht,{}),i("span",{style:{marginLeft:"8px"},children:"Updating daily work ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},success:{render({data:S}){return i(oe,{children:S.map((I,u)=>i("div",{children:I},u))})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},error:{render({data:S}){return i(oe,{children:S.map((I,u)=>i("div",{children:I},u))})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}}})}return j(Ht,{open:e,onClose:t,children:[j(Lt,{style:{cursor:"move"},id:"draggable-dialog-title",children:[i(Ee,{children:"Add Task"}),i(ke,{variant:"outlined",color:"primary",onClick:t,sx:{position:"absolute",top:8,right:16},children:i(pn,{})})]}),j("form",{onSubmit:P,children:[i(Nt,{children:j(ue,{container:!0,spacing:2,children:[i(ue,{item:!0,xs:12,md:6,children:i(he,{label:"RFI Date",type:"date",name:"date",fullWidth:!0,InputLabelProps:{shrink:!0},value:o.date,onChange:y,error:!!s.date,helperText:s.date})}),i(ue,{item:!0,xs:12,md:6,children:i(he,{label:"RFI Number",name:"number",fullWidth:!0,value:o.number,onChange:y,error:!!s.number,helperText:s.number})}),i(ue,{item:!0,xs:12,md:6,children:i(he,{label:"Planned Time",name:"planned_time",fullWidth:!0,InputLabelProps:{shrink:!0},value:o.planned_time,onChange:y,error:!!s.planned_time,helperText:s.planned_time})}),i(ue,{item:!0,xs:12,md:6,children:j(Vr,{fullWidth:!0,children:[i(zr,{id:"type-label",children:"Type"}),j(Hr,{select:!0,label:"Type",name:"type",fullWidth:!0,value:o.type,onChange:y,error:!!s.type,helperText:s.type,labelId:"type-label",MenuProps:{PaperProps:{sx:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,borderRadius:2,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px"}}},children:[i(Le,{value:"Structure",children:"Structure"}),i(Le,{value:"Embankment",children:"Embankment"}),i(Le,{value:"Pavement",children:"Pavement"})]}),i(Wr,{children:s.type})]})}),i(ue,{item:!0,xs:12,md:6,children:i(he,{label:"Location",name:"location",fullWidth:!0,value:o.location,onChange:y,error:!!s.location,helperText:s.location})}),i(ue,{item:!0,xs:12,md:6,children:i(he,{label:"Description",name:"description",fullWidth:!0,value:o.description,onChange:y,error:!!s.description,helperText:s.description})}),i(ue,{item:!0,xs:12,md:6,children:j(he,{select:!0,label:"Road Type",name:"side",fullWidth:!0,value:o.side,onChange:y,error:!!s.side,helperText:s.side,children:[i(Le,{value:"SR-R",children:"SR-R"}),i(Le,{value:"SR-L",children:"SR-L"}),i(Le,{value:"TR-R",children:"TR-R"}),i(Le,{value:"TR-L",children:"TR-L"})]})}),i(ue,{item:!0,xs:12,md:6,children:i(he,{label:"Quantity/Layer No.",name:"qty_layer",fullWidth:!0,value:o.qty_layer,onChange:y,error:!!s.qty_layer,helperText:s.qty_layer})})]})}),i(Vt,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"16px"},children:i(fn,{disabled:!v,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:b,children:"Submit"})})]})]})},Ti=({open:e,handleClose:t,handleDelete:n})=>(Je(),j(Ht,{open:e,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[i(Lt,{id:"alert-dialog-title",children:"Confirm Deletion"}),i(Nt,{children:i(Br,{id:"alert-dialog-description",children:"Are you sure you want to delete this task? This action cannot be undone."})}),j(Vt,{children:[i(dt,{onClick:t,color:"primary",children:"Cancel"}),i(dt,{onClick:n,color:"error",autoFocus:!0,children:"Delete"})]})]})),Ei=({open:e,closeModal:t,data:n,users:r})=>{f.useState(!1);const a=Je(),o=[{label:"Date",key:"date"},{label:"RFI No.",key:"number"},{label:"Status",key:"status"},{label:"Assigned",key:"assigned"},{label:"In charge",key:"incharge"},{label:"Type",key:"type"},{label:"Description",key:"description"},{label:"Location",key:"location"},{label:"Side",key:"side"},{label:"Quantity/Layer",key:"qty_layer"},{label:"Planned Time",key:"planned_time"},{label:"Completion Time",key:"completion_time"},{label:"Results",key:"inspection_details"},{label:"Resubmission Count",key:"resubmission_count"},{label:"RFI Submission Date",key:"rfi_submission_date"}],[c,s]=f.useState(o.map(g=>({...g,checked:!0}))),p=g=>{const v=[...c];v[g].checked=!v[g].checked,s(v)},b=async g=>{const v=new Promise((h,y)=>{try{const P=n.map(S=>{const I={};return g.forEach(u=>{if(u.checked)if(u.key==="incharge"||u.key==="assigned"){const d=r.find(D=>D.id===S[u.key]);I[u.label]=d?d.name:"N/A"}else if(u.key==="status"){const d=S[u.key];I[u.label]=d.charAt(0).toUpperCase()+d.slice(1)}else I[u.label]=S[u.key]}),I}),T=qt.json_to_sheet(P),w=qt.book_new();qt.book_append_sheet(w,T,"Daily Works"),sa(w,"DailyWorks.xlsx"),h("Export successful!"),t()}catch(P){y("Failed to export data. Please try again."),console.error("Error exporting data to Excel:",P)}});Ae.promise(v,{pending:{render(){return j("div",{style:{display:"flex",alignItems:"center"},children:[i(ht,{}),i("span",{style:{marginLeft:"8px"},children:"Exporting data to Excel ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},success:{render({data:h}){return i(oe,{children:h})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}},error:{render({data:h}){return i(oe,{children:h})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:a.glassCard.backgroundColor,border:a.glassCard.border,color:a.palette.text.primary}}})};return j(Ht,{open:e,onClose:t,children:[j(Lt,{style:{cursor:"move"},id:"draggable-dialog-title",children:[i(Ee,{children:"Export Daily Works"}),i(ke,{variant:"outlined",color:"primary",onClick:t,sx:{position:"absolute",top:8,right:16},children:i(pn,{})})]}),i(Nt,{children:j(Ur,{size:"small",sx:{"& .MuiTableCell-root":{padding:"4px 8px"},"& .MuiCheckbox-root":{padding:"0px"}},children:[i(Kr,{children:j(xn,{children:[i(xt,{children:"Column Label"}),i(xt,{align:"center",children:"Include in Export"})]})}),i(Yr,{children:c.map((g,v)=>j(xn,{children:[i(xt,{children:g.label}),i(xt,{align:"center",children:i(Xr,{checked:g.checked,onChange:()=>p(v)})})]},g.key))})]})}),i(Vt,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:i(fn,{sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",onClick:()=>b(c),startIcon:i(nn,{}),children:"Download"})})]})};var Ai=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function bt(e,t){var n=Oi(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function Oi(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),a=Ai.get(r);a&&Object.defineProperty(e,"type",{value:a,writable:!1,configurable:!1,enumerable:!0})}return e}var _i=[".DS_Store","Thumbs.db"];function ji(e){return et(this,void 0,void 0,function(){return tt(this,function(t){return At(e)&&$i(e.dataTransfer)?[2,zi(e.dataTransfer,e.type)]:Li(e)?[2,Ni(e)]:Array.isArray(e)&&e.every(function(n){return"getFile"in n&&typeof n.getFile=="function"})?[2,Vi(e)]:[2,[]]})})}function $i(e){return At(e)}function Li(e){return At(e)&&At(e.target)}function At(e){return typeof e=="object"&&e!==null}function Ni(e){return on(e.target.files).map(function(t){return bt(t)})}function Vi(e){return et(this,void 0,void 0,function(){var t;return tt(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(r){return r.getFile()}))];case 1:return t=n.sent(),[2,t.map(function(r){return bt(r)})]}})})}function zi(e,t){return et(this,void 0,void 0,function(){var n,r;return tt(this,function(a){switch(a.label){case 0:return e.items?(n=on(e.items).filter(function(o){return o.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(Hi))]):[3,2];case 1:return r=a.sent(),[2,jn(fr(r))];case 2:return[2,jn(on(e.files).map(function(o){return bt(o)}))]}})})}function jn(e){return e.filter(function(t){return _i.indexOf(t.name)===-1})}function on(e){if(e===null)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function Hi(e){if(typeof e.webkitGetAsEntry!="function")return $n(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?gr(t):$n(e)}function fr(e){return e.reduce(function(t,n){return Pn(Pn([],wn(t),!1),wn(Array.isArray(n)?fr(n):[n]),!1)},[])}function $n(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var n=bt(t);return Promise.resolve(n)}function Wi(e){return et(this,void 0,void 0,function(){return tt(this,function(t){return[2,e.isDirectory?gr(e):Bi(e)]})})}function gr(e){var t=e.createReader();return new Promise(function(n,r){var a=[];function o(){var c=this;t.readEntries(function(s){return et(c,void 0,void 0,function(){var p,b,g;return tt(this,function(v){switch(v.label){case 0:if(s.length)return[3,5];v.label=1;case 1:return v.trys.push([1,3,,4]),[4,Promise.all(a)];case 2:return p=v.sent(),n(p),[3,4];case 3:return b=v.sent(),r(b),[3,4];case 4:return[3,6];case 5:g=Promise.all(s.map(Wi)),a.push(g),o(),v.label=6;case 6:return[2]}})})},function(s){r(s)})}o()})}function Bi(e){return et(this,void 0,void 0,function(){return tt(this,function(t){return[2,new Promise(function(n,r){e.file(function(a){var o=bt(a,e.fullPath);n(o)},function(a){r(a)})})]})})}var Ui=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",a=(e.type||"").toLowerCase(),o=a.replace(/\/.*$/,"");return n.some(function(c){var s=c.trim().toLowerCase();return s.charAt(0)==="."?r.toLowerCase().endsWith(s):s.endsWith("/*")?o===s.replace(/\/.*$/,""):a===s})}return!0};function Ln(e){return Xi(e)||Yi(e)||mr(e)||Ki()}function Ki(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yi(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xi(e){if(Array.isArray(e))return sn(e)}function Nn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nn(Object(n),!0).forEach(function(r){hr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nn(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pt(e,t){return Qi(e)||qi(e,t)||mr(e,t)||Gi()}function Gi(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mr(e,t){if(e){if(typeof e=="string")return sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sn(e,t)}}function sn(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qi(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,c,s;try{for(n=n.call(e);!(a=(c=n.next()).done)&&(r.push(c.value),!(t&&r.length===t));a=!0);}catch(p){o=!0,s=p}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function Qi(e){if(Array.isArray(e))return e}var Zi="file-invalid-type",Ji="file-too-large",es="file-too-small",ts="too-many-files",ns=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var n=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:Zi,message:"File type must be ".concat(n)}},zn=function(t){return{code:Ji,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},Hn=function(t){return{code:es,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},rs={code:ts,message:"Too many files"};function br(e,t){var n=e.type==="application/x-moz-file"||Ui(e,t);return[n,n?null:ns(t)]}function yr(e,t,n){if(Ne(e.size))if(Ne(t)&&Ne(n)){if(e.size>n)return[!1,zn(n)];if(e.size<t)return[!1,Hn(t)]}else{if(Ne(t)&&e.size<t)return[!1,Hn(t)];if(Ne(n)&&e.size>n)return[!1,zn(n)]}return[!0,null]}function Ne(e){return e!=null}function as(e){var t=e.files,n=e.accept,r=e.minSize,a=e.maxSize,o=e.multiple,c=e.maxFiles,s=e.validator;return!o&&t.length>1||o&&c>=1&&t.length>c?!1:t.every(function(p){var b=br(p,n),g=pt(b,1),v=g[0],h=yr(p,r,a),y=pt(h,1),P=y[0],T=s?s(p):null;return v&&P&&!T})}function Ot(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function wt(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Wn(e){e.preventDefault()}function os(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function is(e){return e.indexOf("Edge/")!==-1}function ss(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return os(e)||is(e)}function we(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){for(var a=arguments.length,o=new Array(a>1?a-1:0),c=1;c<a;c++)o[c-1]=arguments[c];return t.some(function(s){return!Ot(r)&&s&&s.apply(void 0,[r].concat(o)),Ot(r)})}}function ls(){return"showOpenFilePicker"in window}function cs(e){if(Ne(e)){var t=Object.entries(e).filter(function(n){var r=pt(n,2),a=r[0],o=r[1],c=!0;return vr(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(o)||!o.every(Dr))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(n,r){var a=pt(r,2),o=a[0],c=a[1];return Vn(Vn({},n),{},hr({},o,c))},{});return[{description:"Files",accept:t}]}return e}function us(e){if(Ne(e))return Object.entries(e).reduce(function(t,n){var r=pt(n,2),a=r[0],o=r[1];return[].concat(Ln(t),[a],Ln(o))},[]).filter(function(t){return vr(t)||Dr(t)}).join(",")}function ds(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function ps(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function vr(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function Dr(e){return/^.*\.[\w]+$/.test(e)}var fs=["children"],gs=["open"],hs=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ms=["refKey","onChange","onClick"];function bs(e){return Ds(e)||vs(e)||xr(e)||ys()}function ys(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vs(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ds(e){if(Array.isArray(e))return ln(e)}function Jt(e,t){return Ps(e)||Cs(e,t)||xr(e,t)||xs()}function xs(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xr(e,t){if(e){if(typeof e=="string")return ln(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ln(e,t)}}function ln(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cs(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],a=!0,o=!1,c,s;try{for(n=n.call(e);!(a=(c=n.next()).done)&&(r.push(c.value),!(t&&r.length===t));a=!0);}catch(p){o=!0,s=p}finally{try{!a&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function Ps(e){if(Array.isArray(e))return e}function Bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bn(Object(n),!0).forEach(function(r){cn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bn(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _t(e,t){if(e==null)return{};var n=ws(e,t),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ws(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,o;for(o=0;o<r.length;o++)a=r[o],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}var Dn=f.forwardRef(function(e,t){var n=e.children,r=_t(e,fs),a=Pr(r),o=a.open,c=_t(a,gs);return f.useImperativeHandle(t,function(){return{open:o}},[o]),Mt.createElement(f.Fragment,null,n(Z(Z({},c),{},{open:o})))});Dn.displayName="Dropzone";var Cr={disabled:!1,getFilesFromEvent:ji,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Dn.defaultProps=Cr;Dn.propTypes={children:l.func,accept:l.objectOf(l.arrayOf(l.string)),multiple:l.bool,preventDropOnDocument:l.bool,noClick:l.bool,noKeyboard:l.bool,noDrag:l.bool,noDragEventsBubbling:l.bool,minSize:l.number,maxSize:l.number,maxFiles:l.number,disabled:l.bool,getFilesFromEvent:l.func,onFileDialogCancel:l.func,onFileDialogOpen:l.func,useFsAccessApi:l.bool,autoFocus:l.bool,onDragEnter:l.func,onDragLeave:l.func,onDragOver:l.func,onDrop:l.func,onDropAccepted:l.func,onDropRejected:l.func,onError:l.func,validator:l.func};var un={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Pr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=Z(Z({},Cr),e),n=t.accept,r=t.disabled,a=t.getFilesFromEvent,o=t.maxSize,c=t.minSize,s=t.multiple,p=t.maxFiles,b=t.onDragEnter,g=t.onDragLeave,v=t.onDragOver,h=t.onDrop,y=t.onDropAccepted,P=t.onDropRejected,T=t.onFileDialogCancel,w=t.onFileDialogOpen,S=t.useFsAccessApi,I=t.autoFocus,u=t.preventDropOnDocument,d=t.noClick,D=t.noKeyboard,C=t.noDrag,M=t.noDragEventsBubbling,E=t.onError,O=t.validator,V=f.useMemo(function(){return us(n)},[n]),H=f.useMemo(function(){return cs(n)},[n]),G=f.useMemo(function(){return typeof w=="function"?w:Un},[w]),B=f.useMemo(function(){return typeof T=="function"?T:Un},[T]),N=f.useRef(null),U=f.useRef(null),$=f.useReducer(ks,un),z=Jt($,2),ee=z[0],L=z[1],se=ee.isFocused,W=ee.isFileDialogActive,le=f.useRef(typeof window<"u"&&window.isSecureContext&&S&&ls()),be=function(){!le.current&&W&&setTimeout(function(){if(U.current){var F=U.current.files;F.length||(L({type:"closeDialog"}),B())}},300)};f.useEffect(function(){return window.addEventListener("focus",be,!1),function(){window.removeEventListener("focus",be,!1)}},[U,W,B,le]);var re=f.useRef([]),Re=function(F){N.current&&N.current.contains(F.target)||(F.preventDefault(),re.current=[])};f.useEffect(function(){return u&&(document.addEventListener("dragover",Wn,!1),document.addEventListener("drop",Re,!1)),function(){u&&(document.removeEventListener("dragover",Wn),document.removeEventListener("drop",Re))}},[N,u]),f.useEffect(function(){return!r&&I&&N.current&&N.current.focus(),function(){}},[N,I,r]);var ie=f.useCallback(function(x){E?E(x):console.error(x)},[E]),k=f.useCallback(function(x){x.preventDefault(),x.persist(),_e(x),re.current=[].concat(bs(re.current),[x.target]),wt(x)&&Promise.resolve(a(x)).then(function(F){if(!(Ot(x)&&!M)){var J=F.length,te=J>0&&as({files:F,accept:V,minSize:c,maxSize:o,multiple:s,maxFiles:p,validator:O}),ae=J>0&&!te;L({isDragAccept:te,isDragReject:ae,isDragActive:!0,type:"setDraggedFiles"}),b&&b(x)}}).catch(function(F){return ie(F)})},[a,b,ie,M,V,c,o,s,p,O]),q=f.useCallback(function(x){x.preventDefault(),x.persist(),_e(x);var F=wt(x);if(F&&x.dataTransfer)try{x.dataTransfer.dropEffect="copy"}catch{}return F&&v&&v(x),!1},[v,M]),Y=f.useCallback(function(x){x.preventDefault(),x.persist(),_e(x);var F=re.current.filter(function(te){return N.current&&N.current.contains(te)}),J=F.indexOf(x.target);J!==-1&&F.splice(J,1),re.current=F,!(F.length>0)&&(L({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),wt(x)&&g&&g(x))},[N,g,M]),pe=f.useCallback(function(x,F){var J=[],te=[];x.forEach(function(ae){var xe=br(ae,V),Ie=Jt(xe,2),Ce=Ie[0],ot=Ie[1],it=yr(ae,c,o),Be=Jt(it,2),st=Be[0],Ue=Be[1],lt=O?O(ae):null;if(Ce&&st&&!lt)J.push(ae);else{var je=[ot,Ue];lt&&(je=je.concat(lt)),te.push({file:ae,errors:je.filter(function(Kt){return Kt})})}}),(!s&&J.length>1||s&&p>=1&&J.length>p)&&(J.forEach(function(ae){te.push({file:ae,errors:[rs]})}),J.splice(0)),L({acceptedFiles:J,fileRejections:te,type:"setFiles"}),h&&h(J,te,F),te.length>0&&P&&P(te,F),J.length>0&&y&&y(J,F)},[L,s,V,c,o,p,h,y,P,O]),fe=f.useCallback(function(x){x.preventDefault(),x.persist(),_e(x),re.current=[],wt(x)&&Promise.resolve(a(x)).then(function(F){Ot(x)&&!M||pe(F,x)}).catch(function(F){return ie(F)}),L({type:"reset"})},[a,pe,ie,M]),R=f.useCallback(function(){if(le.current){L({type:"openDialog"}),G();var x={multiple:s,types:H};window.showOpenFilePicker(x).then(function(F){return a(F)}).then(function(F){pe(F,null),L({type:"closeDialog"})}).catch(function(F){ds(F)?(B(F),L({type:"closeDialog"})):ps(F)?(le.current=!1,U.current?(U.current.value=null,U.current.click()):ie(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ie(F)});return}U.current&&(L({type:"openDialog"}),G(),U.current.value=null,U.current.click())},[L,G,B,S,pe,ie,H,s]),Se=f.useCallback(function(x){!N.current||!N.current.isEqualNode(x.target)||(x.key===" "||x.key==="Enter"||x.keyCode===32||x.keyCode===13)&&(x.preventDefault(),R())},[N,R]),yt=f.useCallback(function(){L({type:"focus"})},[]),ce=f.useCallback(function(){L({type:"blur"})},[]),at=f.useCallback(function(){d||(ss()?setTimeout(R,0):R())},[d,R]),Me=function(F){return r?null:F},He=function(F){return D?null:Me(F)},We=function(F){return C?null:Me(F)},_e=function(F){M&&F.stopPropagation()},ge=f.useMemo(function(){return function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=x.refKey,J=F===void 0?"ref":F,te=x.role,ae=x.onKeyDown,xe=x.onFocus,Ie=x.onBlur,Ce=x.onClick,ot=x.onDragEnter,it=x.onDragOver,Be=x.onDragLeave,st=x.onDrop,Ue=_t(x,hs);return Z(Z(cn({onKeyDown:He(we(ae,Se)),onFocus:He(we(xe,yt)),onBlur:He(we(Ie,ce)),onClick:Me(we(Ce,at)),onDragEnter:We(we(ot,k)),onDragOver:We(we(it,q)),onDragLeave:We(we(Be,Y)),onDrop:We(we(st,fe)),role:typeof te=="string"&&te!==""?te:"presentation"},J,N),!r&&!D?{tabIndex:0}:{}),Ue)}},[N,Se,yt,ce,at,k,q,Y,fe,D,C,r]),vt=f.useCallback(function(x){x.stopPropagation()},[]),Fe=f.useMemo(function(){return function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},F=x.refKey,J=F===void 0?"ref":F,te=x.onChange,ae=x.onClick,xe=_t(x,ms),Ie=cn({accept:V,multiple:s,type:"file",style:{display:"none"},onChange:Me(we(te,fe)),onClick:Me(we(ae,vt)),tabIndex:-1},J,U);return Z(Z({},Ie),xe)}},[U,n,s,fe,r]);return Z(Z({},ee),{},{isFocused:se&&!r,getRootProps:ge,getInputProps:Fe,rootRef:N,inputRef:U,open:Me(R)})}function ks(e,t){switch(t.type){case"focus":return Z(Z({},e),{},{isFocused:!0});case"blur":return Z(Z({},e),{},{isFocused:!1});case"openDialog":return Z(Z({},un),{},{isFileDialogActive:!0});case"closeDialog":return Z(Z({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return Z(Z({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return Z(Z({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return Z({},un);default:return e}}function Un(){}const Rs=({open:e,closeModal:t,setTotalRows:n,setData:r})=>{const[a,o]=f.useState(null),[c,s]=f.useState(!1),p=Je(),b=w=>{o(w[0])},g=()=>{o(null)},{getRootProps:v,getInputProps:h,isDragActive:y}=Pr({onDrop:b,noClick:!!a,noKeyboard:!!a}),P=w=>{if(!w)return i(ja,{fontSize:"large"});const S=w.type;return S.startsWith("image/")?i(Image,{fontSize:"large"}):S==="application/pdf"?i(Na,{fontSize:"large"}):S==="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"?i($a,{fontSize:"large"}):i(La,{fontSize:"large"})};return j(Ht,{open:e,onClose:t,children:[j(Lt,{style:{cursor:"move"},id:"draggable-dialog-title",children:[i(Ee,{children:"Import Daily Works"}),i(ke,{variant:"outlined",color:"primary",onClick:t,sx:{position:"absolute",top:8,right:16,zIndex:0},children:i(pn,{})})]}),j("form",{onSubmit:async w=>{w.preventDefault(),s(!0);const S=new FormData;S.append("file",a);const I=new Promise(async(u,d)=>{try{const D=await axios.post(route("dailyWorks.import"),S);console.log(D),D.status===200&&(r(D.data.data),n(D.data.total),u(D.data.message||"Daily works imported successfully."),t())}catch(D){console.log(D.response),console.log(D.response.data.errors),d(`Error: ${D.message||"An unexpected error occurred."}`)}finally{s(!1)}});Ae.promise(I,{pending:{render(){return j("div",{style:{display:"flex",alignItems:"center"},children:[i(ht,{}),i("span",{style:{marginLeft:"8px"},children:"Uploading file ..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}},success:{render({data:u}){return i(oe,{children:u})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}},error:{render({data:u}){return i(oe,{children:u})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:p.glassCard.backgroundColor,border:p.glassCard.border,color:p.palette.text.primary}}})},children:[i(Nt,{children:i(ue,{container:!0,spacing:2,children:i(ue,{item:!0,xs:12,children:j(De,{...v(),sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",border:"2px dashed #ccc",borderRadius:"8px",padding:"20px",cursor:a?"not-allowed":"pointer","&:hover":{borderColor:a?"#ccc":"#aaa"}},children:[i("input",{...h()}),i(ke,{sx:{borderRadius:"50%",backgroundColor:"#f0f0f0","&:hover":{backgroundColor:a?"#f0f0f0":"#e0e0e0",cursor:a?"not-allowed":"pointer"}},disabled:!!a,children:P(a)}),a?j(oe,{children:[j(Ee,{variant:"body1",sx:{marginTop:"10px"},children:[a.name," (",(a.size/1024).toFixed(2)," KB)"]}),i(ke,{onClick:g,sx:{marginTop:"10px",backgroundColor:"#f0f0f0","&:hover":{backgroundColor:"#e0e0e0"}},children:i(ua,{})})]}):i(Ee,{variant:"body1",sx:{marginTop:"10px"},children:"Drag & drop files here, or click to select files"})]})})})}),i(Vt,{sx:{display:"flex",alignItems:"center",justifyContent:"center",padding:"16px"},children:i(fn,{disabled:!a,sx:{borderRadius:"50px",padding:"6px 16px"},variant:"outlined",color:"primary",type:"submit",loading:c,startIcon:i(tn,{}),children:"Upload"})})]})]})};ia.extend(na);const Ss=Mt.memo(({auth:e,title:t,allData:n,jurisdictions:r,users:a,reports:o,reports_with_daily_works:c})=>{const s=Je(),[p,b]=f.useState([]),[g,v]=f.useState(!1),[h,y]=f.useState(0),[P,T]=f.useState(0),[w,S]=f.useState([]),[I,u]=f.useState(),[d,D]=f.useState(null),[C,M]=f.useState(null),[E,O]=f.useState(""),V=dn(s.breakpoints.down("md")),[H,G]=f.useState(30),[B,N]=f.useState(1),U=async(k,q,Y)=>{var pe,fe;try{const R=await Kn.get(route("dailyWorks.paginate"),{params:{page:k,perPage:q,search:E,status:Y.status!=="all"?Y.status:"",inCharge:Y.incharge!=="all"?Y.incharge:"",startDate:(pe=Y.startDate)==null?void 0:pe.format("YYYY-MM-DD"),endDate:(fe=Y.endDate)==null?void 0:fe.format("YYYY-MM-DD")}});b(R.data.data),y(R.data.total),T(R.data.last_page),v(!1)}catch(R){console.log(R),Ae.error("Failed to fetch data.",{icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:s.glassCard.backgroundColor,border:s.glassCard.border,color:s.palette.text.primary}}),v(!1)}},$=()=>{const k=new Promise(async(q,Y)=>{var pe,fe;try{const R=await fetch("/delete-daily-work",{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.head.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify({id:d,page:B,perPage:H,search:E,status:W.status!=="all"?W.status:"",inCharge:W.incharge!=="all"?W.incharge:"",startDate:(pe=W.startDate)==null?void 0:pe.format("YYYY-MM-DD"),endDate:(fe=W.endDate)==null?void 0:fe.format("YYYY-MM-DD")})}),Se=await R.json();R.ok?(b(Se.data),y(Se.total),q("Daily work deleted successfully")):Y(Se.error||"Failed to delete task")}catch(R){console.error("Error deleting task:",R),Y("An error occurred while deleting the task")}finally{ee()}});Ae.promise(k,{pending:{render(){return j("div",{style:{display:"flex",alignItems:"center"},children:[i(ht,{}),i("span",{style:{marginLeft:"8px"},children:"Deleting task..."})]})},icon:!1,style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:s.glassCard.backgroundColor,border:s.glassCard.border,color:s.palette.text.primary}},success:{render({data:q}){return i(oe,{children:q})},icon:"🟢",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:s.glassCard.backgroundColor,border:s.glassCard.border,color:s.palette.text.primary}},error:{render({data:q}){return i(oe,{children:q})},icon:"🔴",style:{backdropFilter:"blur(16px) saturate(200%)",backgroundColor:s.glassCard.backgroundColor,border:s.glassCard.border,color:s.palette.text.primary}}})},z=f.useCallback((k,q)=>{D(k),M(q)},[]),ee=f.useCallback(()=>{M(null),D(null)},[]),L=f.useCallback(k=>{M(k)},[]),se=f.useCallback(()=>{M(null)},[]),[W,le]=f.useState({startDate:null,endDate:null,status:"all",incharge:"all",report:""}),be=f.useCallback((k,q)=>{if(k==="dates"){const[Y,pe]=q;le(fe=>({...fe,startDate:Y,endDate:pe}))}else le(Y=>({...Y,[k]:q}))},[]),re=k=>{const q=k.target.value.toLowerCase();O(q)};f.useEffect(()=>{v(!0),U(B,H,W)},[B,H,W,E]);const Re=k=>{N(k)},ie=k=>{switch(k){case"new":return"primary";case"resubmission":return"warning";case"completed":return"success";case"emergency":return"danger";default:return""}};return j(oe,{children:[i(Or,{title:t}),C==="editDailyWork"&&i(Fi,{open:C==="editDailyWork",currentRow:I,setData:b,closeModal:se}),C==="deleteDailyWork"&&i(Ti,{open:C==="deleteDailyWork",handleClose:ee,handleDelete:$,setData:b}),C==="importDailyWorks"&&i(Rs,{open:C==="importDailyWorks",closeModal:se,setData:b,setTotalRows:y}),C==="exportDailyWorks"&&i(Ei,{open:C==="exportDailyWorks",closeModal:se,data:p,users:a}),i(De,{sx:{display:"flex",justifyContent:"center",p:2},children:i(Gr,{in:!0,children:j(Jr,{children:[i(qr,{title:t,sx:{padding:"24px"},action:j(De,{display:"flex",gap:2,children:[e.permissions.includes("addTask")&&i(ke,{title:"Add Task",color:"primary",id:"showAddModalBtn",children:i(ra,{})}),e.roles.includes("Administrator")&&i(oe,{children:V?j(oe,{children:[i(ke,{title:"Import Daily Works",color:"warning",onClick:()=>L("importDailyWorks"),children:i(tn,{})}),i(ke,{title:"Export Daily Works",color:"success",onClick:()=>L("exportDailyWorks"),children:i(nn,{})})]}):j(oe,{children:[i(dt,{title:"Import Daily Works",variant:"outlined",color:"warning",startIcon:i(tn,{}),onClick:()=>L("importDailyWorks"),children:"Import"}),i(dt,{title:"Export Daily Works",variant:"outlined",color:"success",startIcon:i(nn,{}),onClick:()=>L("exportDailyWorks"),children:"Export"})]})})]})}),i(Cn,{children:i(De,{children:j(ue,{container:!0,spacing:2,children:[i(ue,{item:!0,xs:12,sm:6,md:3,children:i(gn,{dateAdapter:_a,children:i(De,{display:"flex",alignItems:"center",children:i(Si,{value:[W.startDate,W.endDate],onChange:k=>be("dates",k),localeText:{start:"Start date",end:"End date"},renderInput:(k,q)=>j(oe,{children:[i(he,{...k,fullWidth:!0,size:"small"}),i(De,{sx:{mx:1},children:" to "}),i(he,{...q,fullWidth:!0,size:"small"})]})})})})}),i(ue,{item:!0,xs:6,sm:4,md:3,children:j(ut,{fullWidth:!0,variant:"bordered","aria-label":"Status",color:ie(W.status),placeholder:"Select Status",value:W.status,onChange:k=>be("status",k.target.value),selectedKeys:[W.status],popoverProps:{classNames:{content:"bg-transparent backdrop-blur-lg border-inherit"}},children:[i(ve,{value:"all",children:"All"},"all"),i(ve,{value:"completed",children:"Completed"},"completed"),i(ve,{value:"new",children:"New"},"new"),i(ve,{value:"resubmission",children:"Resubmission"},"resubmission"),i(ve,{value:"emergency",children:"Emergency"},"emergency")]})}),e.roles.includes("Administrator")&&i(ue,{item:!0,xs:6,sm:4,md:3,children:j(ut,{fullWidth:!0,"aria-label":"Incharge",variant:"bordered",placeholder:"Select Status",name:"incharge",value:W.incharge,onChange:k=>be("incharge",k.target.value),selectedKeys:[W.status],popoverProps:{classNames:{content:"bg-transparent backdrop-blur-lg border-inherit"}},children:[i(ve,{value:"all",children:"All"},"all"),n.allInCharges.map(k=>i(ve,{value:k.id,children:k.name},k.id))]})})]})})}),j(Cn,{children:[i(he,{label:"Search",fullWidth:!0,variant:"outlined",placeholder:"Search...",value:E,onChange:re,InputProps:{startAdornment:i(Qr,{position:"start",children:i(la,{})})}}),i(Mi,{setData:b,filteredData:w,setFilteredData:S,reports:o,setCurrentRow:u,currentPage:B,setCurrentPage:N,setLoading:v,handleClickOpen:z,openModal:L,juniors:n.juniors,totalRows:h,lastPage:P,loading:g,allData:p,allInCharges:n.allInCharges,jurisdictions:r,users:a,reports_with_daily_works:c}),h>=30&&i("div",{className:"py-2 px-2 flex justify-center items-center",children:i(ca,{initialPage:1,isCompact:!0,showControls:!0,showShadow:!0,color:"primary",variant:"bordered",page:B,total:P,onChange:Re})})]})]})})})]})});Ss.layout=e=>i(ea,{children:e});export{Ss as default};
